(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1141:function(module,exports,__webpack_require__){"use strict";__webpack_require__(9),__webpack_require__(47),__webpack_require__(41),__webpack_require__(50),__webpack_require__(51),__webpack_require__(1142),__webpack_require__(1143),__webpack_require__(14),__webpack_require__(42);var _clientApi=__webpack_require__(77),_clientLogger=__webpack_require__(54),_configFilename=__webpack_require__(1144);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}(_configFilename.args||_configFilename.argTypes)&&_clientLogger.logger.warn("Invalid args/argTypes in config, ignoring.",JSON.stringify({args:_configFilename.args,argTypes:_configFilename.argTypes})),_configFilename.decorators&&_configFilename.decorators.forEach((function(decorator){return(0,_clientApi.addDecorator)(decorator,!1)})),_configFilename.loaders&&_configFilename.loaders.forEach((function(loader){return(0,_clientApi.addLoader)(loader,!1)})),(_configFilename.parameters||_configFilename.globals||_configFilename.globalTypes)&&(0,_clientApi.addParameters)(_objectSpread(_objectSpread({},_configFilename.parameters),{},{globals:_configFilename.globals,globalTypes:_configFilename.globalTypes}),!1),_configFilename.argTypesEnhancers&&_configFilename.argTypesEnhancers.forEach((function(enhancer){return(0,_clientApi.addArgTypesEnhancer)(enhancer)}))},1144:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"parameters",(function(){return parameters}));var parameters={layout:"padded",actions:{argTypesRegex:"^on[A-Z].*"}}},1145:function(module,exports,__webpack_require__){"use strict";(function(module){(0,__webpack_require__(405).configure)([__webpack_require__(1146),__webpack_require__(1147)],module,!1)}).call(this,__webpack_require__(111)(module))},1146:function(module,exports){function webpackEmptyContext(req){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}webpackEmptyContext.keys=function(){return[]},webpackEmptyContext.resolve=webpackEmptyContext,module.exports=webpackEmptyContext,webpackEmptyContext.id=1146},1147:function(module,exports,__webpack_require__){var map={"./stories/index.stories.tsx":1371};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=1147},1371:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Default})),__webpack_require__.d(__webpack_exports__,"TemplateDoc",(function(){return TemplateDoc})),__webpack_require__.d(__webpack_exports__,"Headings",(function(){return Headings})),__webpack_require__.d(__webpack_exports__,"Lists",(function(){return Lists})),__webpack_require__.d(__webpack_exports__,"Blockquotes",(function(){return Blockquotes})),__webpack_require__.d(__webpack_exports__,"Tables",(function(){return Tables})),__webpack_require__.d(__webpack_exports__,"Marks",(function(){return Marks})),__webpack_require__.d(__webpack_exports__,"Code",(function(){return index_stories_Code})),__webpack_require__.d(__webpack_exports__,"Notices",(function(){return Notices})),__webpack_require__.d(__webpack_exports__,"ReadOnly",(function(){return ReadOnly})),__webpack_require__.d(__webpack_exports__,"MaxLength",(function(){return MaxLength})),__webpack_require__.d(__webpack_exports__,"Checkboxes",(function(){return Checkboxes})),__webpack_require__.d(__webpack_exports__,"ReadOnlyWriteCheckboxes",(function(){return ReadOnlyWriteCheckboxes})),__webpack_require__.d(__webpack_exports__,"Persisted",(function(){return Persisted})),__webpack_require__.d(__webpack_exports__,"Placeholder",(function(){return index_stories_Placeholder})),__webpack_require__.d(__webpack_exports__,"Images",(function(){return Images})),__webpack_require__.d(__webpack_exports__,"Focused",(function(){return Focused})),__webpack_require__.d(__webpack_exports__,"Dark",(function(){return Dark}));__webpack_require__(289),__webpack_require__(5),__webpack_require__(18),__webpack_require__(21),__webpack_require__(13),__webpack_require__(114),__webpack_require__(25),__webpack_require__(70),__webpack_require__(219);var _templateObject,react=__webpack_require__(0),memoize=(__webpack_require__(10),__webpack_require__(47),__webpack_require__(41),__webpack_require__(45),__webpack_require__(73),__webpack_require__(11),__webpack_require__(340),__webpack_require__(8),__webpack_require__(59),__webpack_require__(42),__webpack_require__(354)),memoize_default=__webpack_require__.n(memoize),index_es=__webpack_require__(1),dist_index_es=__webpack_require__(531),prosemirror_gapcursor_dist_index_es=__webpack_require__(532),prosemirror_view_dist_index_es=__webpack_require__(32),prosemirror_model_dist_index_es=__webpack_require__(2),prosemirror_inputrules_dist_index_es=__webpack_require__(34),prosemirror_keymap_dist_index_es=__webpack_require__(101),prosemirror_commands_dist_index_es=__webpack_require__(28),dist=__webpack_require__(35),styled_components_browser_esm=__webpack_require__(36),colors={almostBlack:"#181A1B",lightBlack:"#2F3336",almostWhite:"#E6E6E6",white:"#FFF",white10:"rgba(255, 255, 255, 0.1)",black:"#000",black10:"rgba(0, 0, 0, 0.1)",primary:"#1EA362",secondary:"#01a9f1",greyLight:"#F4F7FA",grey:"#E8EBED",greyMid:"#C5CCD3",greyDark:"#DAE1E9"},base=Object.assign({},colors,{fontFamily:"-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen, Ubuntu,Cantarell,'Open Sans','Helvetica Neue',sans-serif",fontFamilyMono:"'SFMono-Regular',Consolas,'Liberation Mono', Menlo, Courier,monospace",fontWeight:400,zIndex:9999,link:colors.primary,linkExternal:colors.secondary,placeholder:"#B1BECC",templatePlaceholder:"#f03",answerPlaceholder:"#FC5BFF",textSecondary:"#4E5C6E",textLight:colors.white,textHighlight:"#abff32",selected:colors.primary,codeComment:"#6a737d",codePunctuation:"#5e6687",codeNumber:"#d73a49",codeProperty:"#c08b30",codeTag:"#3d8fd1",codeString:"#032f62",codeSelector:"#6679cc",codeAttr:"#c76b29",codeEntity:"#22a2c9",codeKeyword:"#d73a49",codeFunction:"#6f42c1",codeStatement:"#22a2c9",codePlaceholder:"#3d8fd1",codeInserted:"#202746",codeImportant:"#c94922",blockToolbarBackground:colors.white,blockToolbarTrigger:colors.greyMid,blockToolbarTriggerIcon:colors.white,blockToolbarItem:colors.almostBlack,blockToolbarText:colors.almostBlack,blockToolbarHoverBackground:colors.greyLight,blockToolbarDivider:colors.greyMid,noticeInfoBackground:"#F5BE31",noticeInfoText:colors.almostBlack,noticeTipBackground:"#9E5CF7",noticeTipText:colors.white,noticeWarningBackground:"#FF5C80",noticeWarningText:colors.white}),light=Object.assign({},base,{background:colors.white,text:colors.almostBlack,code:colors.lightBlack,cursor:colors.black,divider:colors.greyMid,toolbarBackground:colors.greyLight,toolbarHoverBackground:colors.greyMid,toolbarInput:colors.black10,toolbarItem:colors.lightBlack,tableDivider:colors.greyMid,tableSelected:colors.primary,tableSelectedBackground:"#E5F7FF",quote:colors.greyDark,codeBackground:colors.greyLight,codeBorder:colors.grey,horizontalRule:colors.greyMid,imageErrorBackground:colors.greyLight,scrollbarBackground:colors.greyLight,scrollbarThumb:colors.greyMid}),theme_dark=Object.assign({},base,{background:colors.almostBlack,text:colors.almostWhite,code:colors.almostWhite,cursor:colors.white,divider:"#4E5C6E",placeholder:"#52657A",toolbarBackground:colors.white,toolbarHoverBackground:colors.greyMid,toolbarInput:colors.black10,toolbarItem:colors.lightBlack,tableDivider:colors.lightBlack,tableSelected:colors.primary,tableSelectedBackground:"#002333",quote:colors.greyDark,codeBackground:colors.black,codeBorder:colors.lightBlack,codeString:"#3d8fd1",horizontalRule:colors.lightBlack,imageErrorBackground:"rgba(0, 0, 0, 0.5)",scrollbarBackground:colors.black,scrollbarThumb:colors.lightBlack}),src_theme=light,src_dictionary={addColumnAfter:"Insert column after",addColumnBefore:"Insert column before",addRowAfter:"Insert row after",addRowBefore:"Insert row before",alignCenter:"Align center",alignLeft:"Align left",alignRight:"Align right",bulletList:"Bulleted list",checkboxList:"Todo list",codeBlock:"Code block",codeCopied:"Copied to clipboard",codeInline:"Code",createLink:"Link text to node...",createLinkError:"Sorry, an error occurred creating the link",createNewDoc:"Create page",turnIntoCards:"Turn web article into course",deleteColumn:"Delete column",deleteRow:"Delete row",deleteTable:"Delete table",deleteImage:"Delete image",alignImageLeft:"Float left half width",alignImageRight:"Float right half width",alignImageDefault:"Center large",em:"Italic",embedInvalidLink:"Sorry, that link won’t work for this embed type",findOrCreateDoc:"Paste weblink, or search to link to a page",createChildCard:"Create subpage",addActiveRecallQuestion:"Add active recall question",h1:"Big heading",h2:"Medium heading",h3:"Small heading",heading:"Heading",hr:"Divider",image:"Image",imageUploadError:"Sorry, an error occurred uploading the image",info:"Info",infoNotice:"Info notice",link:"Link",linkCopied:"Link copied to clipboard",mark:"Highlight",math:"Math equation (Latex)",newLineEmpty:"Start writing, or use + button to insert ...",newLineWithSlash:"Keep typing to filter…",noResults:"No results",openLink:"Open link",orderedList:"Ordered list",pasteLink:"Paste a link…",pasteLinkWithTitle:function pasteLinkWithTitle(title){return"Paste a ".concat(title,"…")},placeholder:"Placeholder",quote:"Quote",removeLink:"Remove link",searchOrPasteLink:"Paste weblink or search to link a page",strikethrough:"Strikethrough",strong:"Bold",subheading:"Subheading",table:"Table",tip:"Tip",tipNotice:"Tip notice",warning:"Warning",warningNotice:"Warning notice",smallImage:"Small image",mediumImage:"Medium image",largeImage:"Large image"};var Flex=styled_components_browser_esm.b.div(_templateObject||(_templateObject=function _taggedTemplateLiteral(strings,raw){return raw||(raw=strings.slice(0)),Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}(["\n  display: flex;\n  flex: ",";\n  flex-direction: ",";\n  align-items: ",";\n  justify-content: ",";\n"])),(function(_ref){return _ref.auto?"1 1 auto":"initial"}),(function(_ref2){return _ref2.column?"column":"row"}),(function(_ref3){return _ref3.align}),(function(_ref4){return _ref4.justify})),components_Flex=Flex;try{Flex.displayName="Flex",Flex.__docgenInfo={description:"",displayName:"Flex",props:{ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"((instance: HTMLDivElement | null) => void) | RefObject<HTMLDivElement> | null"}},auto:{defaultValue:null,description:"",name:"auto",required:!1,type:{name:"boolean"}},column:{defaultValue:null,description:"",name:"column",required:!1,type:{name:"boolean"}},align:{defaultValue:null,description:"",name:"align",required:!1,type:{name:'"center" | "stretch" | "baseline" | "flex-start" | "flex-end"'}},justify:{defaultValue:null,description:"",name:"justify",required:!1,type:{name:'"center" | "flex-start" | "flex-end" | "space-around" | "space-between"'}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"any"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"undefined"}},forwardedAs:{defaultValue:null,description:"",name:"forwardedAs",required:!1,type:{name:"undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Flex.tsx#Flex"]={docgenInfo:Flex.__docgenInfo,name:"Flex",path:"src/components/Flex.tsx#Flex"})}catch(__react_docgen_typescript_loader_error){}__webpack_require__(9),__webpack_require__(17),__webpack_require__(31),__webpack_require__(24),__webpack_require__(26),__webpack_require__(22),__webpack_require__(66),__webpack_require__(19),__webpack_require__(23),__webpack_require__(91),__webpack_require__(232),__webpack_require__(27);var PortalCompat=__webpack_require__(1381),lodash=__webpack_require__(534),lib=__webpack_require__(20),queries_isNodeActive=(__webpack_require__(14),function isNodeActive(type){var attrs=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(state){var node=Object(dist.findSelectedNodeOfType)(type)(state.selection)||Object(dist.findParentNode)((function(node){return node.type===type}))(state.selection);return Object.keys(attrs).length&&node?node.node.hasMarkup(type,Object.assign({},node.node.attrs,attrs)):!!node}});try{table.displayName="table",table.__docgenInfo={description:"",displayName:"table",props:{addColumnAfter:{defaultValue:null,description:"",name:"addColumnAfter",required:!0,type:{name:"string"}},addColumnBefore:{defaultValue:null,description:"",name:"addColumnBefore",required:!0,type:{name:"string"}},addRowAfter:{defaultValue:null,description:"",name:"addRowAfter",required:!0,type:{name:"string"}},addRowBefore:{defaultValue:null,description:"",name:"addRowBefore",required:!0,type:{name:"string"}},alignCenter:{defaultValue:null,description:"",name:"alignCenter",required:!0,type:{name:"string"}},alignLeft:{defaultValue:null,description:"",name:"alignLeft",required:!0,type:{name:"string"}},alignRight:{defaultValue:null,description:"",name:"alignRight",required:!0,type:{name:"string"}},bulletList:{defaultValue:null,description:"",name:"bulletList",required:!0,type:{name:"string"}},checkboxList:{defaultValue:null,description:"",name:"checkboxList",required:!0,type:{name:"string"}},codeBlock:{defaultValue:null,description:"",name:"codeBlock",required:!0,type:{name:"string"}},codeCopied:{defaultValue:null,description:"",name:"codeCopied",required:!0,type:{name:"string"}},codeInline:{defaultValue:null,description:"",name:"codeInline",required:!0,type:{name:"string"}},createLink:{defaultValue:null,description:"",name:"createLink",required:!0,type:{name:"string"}},createLinkError:{defaultValue:null,description:"",name:"createLinkError",required:!0,type:{name:"string"}},createNewDoc:{defaultValue:null,description:"",name:"createNewDoc",required:!0,type:{name:"string"}},turnIntoCards:{defaultValue:null,description:"",name:"turnIntoCards",required:!0,type:{name:"string"}},deleteColumn:{defaultValue:null,description:"",name:"deleteColumn",required:!0,type:{name:"string"}},deleteRow:{defaultValue:null,description:"",name:"deleteRow",required:!0,type:{name:"string"}},deleteTable:{defaultValue:null,description:"",name:"deleteTable",required:!0,type:{name:"string"}},deleteImage:{defaultValue:null,description:"",name:"deleteImage",required:!0,type:{name:"string"}},alignImageLeft:{defaultValue:null,description:"",name:"alignImageLeft",required:!0,type:{name:"string"}},alignImageRight:{defaultValue:null,description:"",name:"alignImageRight",required:!0,type:{name:"string"}},alignImageDefault:{defaultValue:null,description:"",name:"alignImageDefault",required:!0,type:{name:"string"}},em:{defaultValue:null,description:"",name:"em",required:!0,type:{name:"string"}},embedInvalidLink:{defaultValue:null,description:"",name:"embedInvalidLink",required:!0,type:{name:"string"}},findOrCreateDoc:{defaultValue:null,description:"",name:"findOrCreateDoc",required:!0,type:{name:"string"}},createChildCard:{defaultValue:null,description:"",name:"createChildCard",required:!0,type:{name:"string"}},addActiveRecallQuestion:{defaultValue:null,description:"",name:"addActiveRecallQuestion",required:!0,type:{name:"string"}},h1:{defaultValue:null,description:"",name:"h1",required:!0,type:{name:"string"}},h2:{defaultValue:null,description:"",name:"h2",required:!0,type:{name:"string"}},h3:{defaultValue:null,description:"",name:"h3",required:!0,type:{name:"string"}},heading:{defaultValue:null,description:"",name:"heading",required:!0,type:{name:"string"}},hr:{defaultValue:null,description:"",name:"hr",required:!0,type:{name:"string"}},image:{defaultValue:null,description:"",name:"image",required:!0,type:{name:"string"}},imageUploadError:{defaultValue:null,description:"",name:"imageUploadError",required:!0,type:{name:"string"}},info:{defaultValue:null,description:"",name:"info",required:!0,type:{name:"string"}},infoNotice:{defaultValue:null,description:"",name:"infoNotice",required:!0,type:{name:"string"}},link:{defaultValue:null,description:"",name:"link",required:!0,type:{name:"string"}},linkCopied:{defaultValue:null,description:"",name:"linkCopied",required:!0,type:{name:"string"}},mark:{defaultValue:null,description:"",name:"mark",required:!0,type:{name:"string"}},math:{defaultValue:null,description:"",name:"math",required:!0,type:{name:"string"}},newLineEmpty:{defaultValue:null,description:"",name:"newLineEmpty",required:!0,type:{name:"string"}},newLineWithSlash:{defaultValue:null,description:"",name:"newLineWithSlash",required:!0,type:{name:"string"}},noResults:{defaultValue:null,description:"",name:"noResults",required:!0,type:{name:"string"}},openLink:{defaultValue:null,description:"",name:"openLink",required:!0,type:{name:"string"}},orderedList:{defaultValue:null,description:"",name:"orderedList",required:!0,type:{name:"string"}},pasteLink:{defaultValue:null,description:"",name:"pasteLink",required:!0,type:{name:"string"}},pasteLinkWithTitle:{defaultValue:null,description:"",name:"pasteLinkWithTitle",required:!0,type:{name:"(title: string) => string"}},placeholder:{defaultValue:null,description:"",name:"placeholder",required:!0,type:{name:"string"}},quote:{defaultValue:null,description:"",name:"quote",required:!0,type:{name:"string"}},removeLink:{defaultValue:null,description:"",name:"removeLink",required:!0,type:{name:"string"}},searchOrPasteLink:{defaultValue:null,description:"",name:"searchOrPasteLink",required:!0,type:{name:"string"}},strikethrough:{defaultValue:null,description:"",name:"strikethrough",required:!0,type:{name:"string"}},strong:{defaultValue:null,description:"",name:"strong",required:!0,type:{name:"string"}},subheading:{defaultValue:null,description:"",name:"subheading",required:!0,type:{name:"string"}},table:{defaultValue:null,description:"",name:"table",required:!0,type:{name:"string"}},tip:{defaultValue:null,description:"",name:"tip",required:!0,type:{name:"string"}},tipNotice:{defaultValue:null,description:"",name:"tipNotice",required:!0,type:{name:"string"}},warning:{defaultValue:null,description:"",name:"warning",required:!0,type:{name:"string"}},warningNotice:{defaultValue:null,description:"",name:"warningNotice",required:!0,type:{name:"string"}},smallImage:{defaultValue:null,description:"",name:"smallImage",required:!0,type:{name:"string"}},mediumImage:{defaultValue:null,description:"",name:"mediumImage",required:!0,type:{name:"string"}},largeImage:{defaultValue:null,description:"",name:"largeImage",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/menus/table.tsx#table"]={docgenInfo:table.__docgenInfo,name:"table",path:"src/menus/table.tsx#table"})}catch(__react_docgen_typescript_loader_error){}var prosemirror_tables_dist_index_es=__webpack_require__(56);var queries_isMarkActive=function isMarkActive(type){return function(state){var _state$selection=state.selection,from=_state$selection.from,$from=_state$selection.$from,to=_state$selection.to;return _state$selection.empty?type.isInSet(state.storedMarks||$from.marks()):state.doc.rangeHasMark(from,to,type)}};var FloatingToolbar_templateObject,ResizeObserver_es=__webpack_require__(535),jsx_runtime=__webpack_require__(7);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var SSR="undefined"==typeof window,defaultPosition={left:-1e3,top:0,offset:0,visible:!1};function usePosition(_ref2){var menuRef=_ref2.menuRef,isSelectingText=_ref2.isSelectingText,props=_ref2.props,view=props.view,active=props.active,selection=view.state.selection,_useComponentSize=function useComponentSize(ref){var _React$useState2=_slicedToArray(react.useState({width:0,height:0}),2),size=_React$useState2[0],setSize=_React$useState2[1];return react.useEffect((function(){var sizeObserver;try{(sizeObserver=new ResizeObserver_es.a((function(entries){entries.forEach((function(_ref){var target=_ref.target;size.width===target.clientWidth&&size.height===target.clientHeight||setSize({width:target.clientWidth,height:target.clientHeight})}))}))).observe(ref.current)}catch(_unused){console.warn("ResizeObserver not supported")}return function(){return sizeObserver&&sizeObserver.disconnect()}}),[ref]),size}(menuRef),menuWidth=_useComponentSize.width,menuHeight=_useComponentSize.height;if(!active||!menuWidth||!menuHeight||SSR||isSelectingText)return defaultPosition;var fromPos=view.coordsAtPos(selection.$from.pos),toPos=view.coordsAtPos(selection.$to.pos),selectionBounds={top:Math.min(fromPos.top,toPos.top),bottom:Math.max(fromPos.bottom,toPos.bottom),left:Math.min(fromPos.left,toPos.left),right:Math.max(fromPos.right,toPos.right)},isColSelection=selection.isColSelection&&selection.isColSelection(),isRowSelection=selection.isRowSelection&&selection.isRowSelection();if(isColSelection){var width=view.domAtPos(selection.$from.pos).node.getBoundingClientRect().width;selectionBounds.top-=20,selectionBounds.right=selectionBounds.left+width}if(isRowSelection&&(selectionBounds.right=selectionBounds.left=selectionBounds.left-18),selection.node&&"image"===selection.node.type.name){var _imageElement$getBoun=view.nodeDOM(selection.from).getElementsByTagName("img")[0].getBoundingClientRect(),left=_imageElement$getBoun.left,top=_imageElement$getBoun.top,_width=_imageElement$getBoun.width;return{left:Math.round(left+_width/2+window.scrollX-menuWidth/2),top:Math.round(top+window.scrollY-menuHeight),offset:0,visible:!0}}var halfSelection=Math.abs(selectionBounds.right-selectionBounds.left)/2,centerOfSelection=selectionBounds.left+halfSelection,_left=Math.min(window.innerWidth-menuWidth-12,Math.max(12,centerOfSelection-menuWidth/2)),_top=Math.min(window.innerHeight-menuHeight-12,Math.max(12,selectionBounds.top-menuHeight)),offset=_left-(centerOfSelection-menuWidth/2);return{left:Math.round(_left+window.scrollX),top:Math.round(_top+window.scrollY),offset:Math.round(offset),visible:!0}}function FloatingToolbar(props){var menuRef=props.forwardedRef||react.createRef(),_React$useState4=_slicedToArray(react.useState(!1),2),isSelectingText=_React$useState4[0],setSelectingText=_React$useState4[1],position=usePosition({menuRef:menuRef,isSelectingText:isSelectingText,props:props});return react.useEffect((function(){var handleMouseDown=function handleMouseDown(){props.active||setSelectingText(!0)},handleMouseUp=function handleMouseUp(){setSelectingText(!1)};return window.addEventListener("mousedown",handleMouseDown),window.addEventListener("mouseup",handleMouseUp),function(){window.removeEventListener("mousedown",handleMouseDown),window.removeEventListener("mouseup",handleMouseUp)}}),[props.active]),Object(jsx_runtime.jsx)(PortalCompat.a,{children:Object(jsx_runtime.jsx)(Wrapper,{active:props.active&&position.visible,ref:menuRef,offset:position.offset,style:{top:"".concat(position.top,"px"),left:"".concat(position.left,"px")},children:position.visible&&props.children})})}FloatingToolbar.displayName="FloatingToolbar";var Wrapper=styled_components_browser_esm.b.div(FloatingToolbar_templateObject||(FloatingToolbar_templateObject=function FloatingToolbar_taggedTemplateLiteral(strings,raw){return raw||(raw=strings.slice(0)),Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}(["\n  will-change: opacity, transform;\n  padding: 8px 16px;\n  position: absolute;\n  z-index: ",";\n  opacity: 0;\n  background-color: ",';\n  border-radius: 4px;\n  transform: scale(0.95);\n  transition: opacity 150ms cubic-bezier(0.175, 0.885, 0.32, 1.275),\n    transform 150ms cubic-bezier(0.175, 0.885, 0.32, 1.275);\n  transition-delay: 150ms;\n  line-height: 0;\n  height: 40px;\n  box-sizing: border-box;\n  pointer-events: none;\n  white-space: nowrap;\n\n  &::before {\n    content: "";\n    display: block;\n    width: 24px;\n    height: 24px;\n    transform: translateX(-50%) rotate(45deg);\n    background: ',";\n    border-radius: 3px;\n    z-index: -1;\n    position: absolute;\n    bottom: -2px;\n    left: calc(50% - ","px);\n  }\n\n  * {\n    box-sizing: border-box;\n  }\n\n  ",";\n\n  @media print {\n    display: none;\n  }\n"])),(function(props){return props.theme.zIndex+100}),(function(props){return props.theme.toolbarBackground}),(function(props){return props.theme.toolbarBackground}),(function(props){return props.offset||0}),(function(_ref3){return _ref3.active&&"\n    transform: translateY(-6px) scale(1);\n    pointer-events: all;\n    opacity: 1;\n  "})),components_FloatingToolbar=react.forwardRef((function FloatingToolbarWithForwardedRef(props,ref){return Object(jsx_runtime.jsx)(FloatingToolbar,Object.assign({},props,{forwardedRef:ref}))}));try{FloatingToolbar.displayName="FloatingToolbar",FloatingToolbar.__docgenInfo={description:"",displayName:"FloatingToolbar",props:{active:{defaultValue:null,description:"",name:"active",required:!1,type:{name:"boolean"}},view:{defaultValue:null,description:"",name:"view",required:!0,type:{name:"EditorView<any>"}},forwardedRef:{defaultValue:null,description:"",name:"forwardedRef",required:!1,type:{name:"RefObject<HTMLDivElement> | null"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/FloatingToolbar.tsx#FloatingToolbar"]={docgenInfo:FloatingToolbar.__docgenInfo,name:"FloatingToolbar",path:"src/components/FloatingToolbar.tsx#FloatingToolbar"})}catch(__react_docgen_typescript_loader_error){}var Input_templateObject;__webpack_require__(124),__webpack_require__(139),__webpack_require__(208);function isUrl(text){try{return new URL(text),!!text.includes("://")}catch(err){return!1}}var LinkEditor_templateObject,Input=styled_components_browser_esm.b.input(Input_templateObject||(Input_templateObject=function Input_taggedTemplateLiteral(strings,raw){return raw||(raw=strings.slice(0)),Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}(["\n  font-size: 15px;\n  background: ",";\n  color: ",";\n  border-radius: 2px;\n  padding: 3px 8px;\n  border: 0;\n  margin: 0;\n  outline: none;\n  flex-grow: 1;\n"])),(function(props){return props.theme.toolbarInput}),(function(props){return props.theme.toolbarItem})),components_Input=Input;try{Input.displayName="Input",Input.__docgenInfo={description:"",displayName:"Input",props:{ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"((instance: HTMLInputElement | null) => void) | RefObject<HTMLInputElement> | null"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"any"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"undefined"}},forwardedAs:{defaultValue:null,description:"",name:"forwardedAs",required:!1,type:{name:"undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Input.tsx#Input"]={docgenInfo:Input.__docgenInfo,name:"Input",path:"src/components/Input.tsx#Input"})}catch(__react_docgen_typescript_loader_error){}function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var ToolbarButton_templateObject,LinkEditor_LinkEditor=function(_React$Component){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(LinkEditor,_React$Component);var _super=_createSuper(LinkEditor);function LinkEditor(){var _this;_classCallCheck(this,LinkEditor);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=_super.call.apply(_super,[this].concat(args))).discardInputValue=!1,_this.initialValue=_this.href,_this.initialSelectionLength=_this.props.to-_this.props.from,_this.state={selectedIndex:-1,value:_this.href||"",previousValue:"",results:{}},_this.componentWillUnmount=function(){if(!_this.discardInputValue&&_this.state.value!==_this.initialValue){var href=(_this.state.value||"").trim();if(!href)return _this.handleRemoveLink();_this.save(href,href)}},_this.save=function(href,title){if(0!==(href=href.trim()).length){_this.discardInputValue=!0;var _this$props=_this.props,from=_this$props.from,to=_this$props.to;isUrl(href)||href.startsWith("/")||(href="https://".concat(href)),_this.props.onSelectLink({href:href,title:title,from:from,to:to})}},_this.handleKeyDown=function(event){switch(event.key){case"Enter":event.preventDefault();var value=_this.state.value;return _this.save(value,value),void(_this.initialSelectionLength&&_this.moveSelectionToEnd());case"Escape":return event.preventDefault(),void(_this.initialValue?_this.setState({value:_this.initialValue},_this.moveSelectionToEnd):_this.handleRemoveLink());case"ArrowUp":if(event.shiftKey)return;event.preventDefault(),event.stopPropagation();var prevIndex=_this.state.selectedIndex-1;return void _this.setState({selectedIndex:Math.max(-1,prevIndex)});case"ArrowDown":if(event.shiftKey)return;case"Tab":event.preventDefault(),event.stopPropagation();var _this$state=_this.state,selectedIndex=_this$state.selectedIndex,_value=_this$state.value,total=(_this.state.results[_value]||[]).length,nextIndex=selectedIndex+1;return void _this.setState({selectedIndex:Math.min(nextIndex,total)})}},_this.handleFocusLink=function(selectedIndex){_this.setState({selectedIndex:selectedIndex})},_this.handleChange=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark((function _callee(event){var value;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:value=event.target.value,_this.setState({value:value,selectedIndex:-1});case 2:case"end":return _context.stop()}}),_callee)})));return function(_x){return _ref.apply(this,arguments)}}(),_this.handleRemoveLink=function(){_this.discardInputValue=!0;var _this$props2=_this.props,from=_this$props2.from,to=_this$props2.to,mark=_this$props2.mark,view=_this$props2.view,onRemoveLink=_this$props2.onRemoveLink,_this$props$view=_this.props.view,state=_this$props$view.state,dispatch=_this$props$view.dispatch;mark&&dispatch(state.tr.removeMark(from,to,mark)),onRemoveLink&&onRemoveLink(),view.focus()},_this.handleSelectLink=function(url,title){return function(event){event.preventDefault(),_this.save(url,title),_this.initialSelectionLength&&_this.moveSelectionToEnd()}},_this.moveSelectionToEnd=function(){var _this$props3=_this.props,to=_this$props3.to,view=_this$props3.view,state=view.state;(0,view.dispatch)(Object(dist.setTextSelection)(to)(state.tr)),view.focus()},_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(LinkEditor,[{key:"href",get:function get(){return this.props.mark?this.props.mark.attrs.href:""}},{key:"suggestedLinkTitle",get:function get(){var state=this.props.view.state,value=this.state.value,selectionText=state.doc.cut(state.selection.from,state.selection.to).textContent;return value.trim()||selectionText.trim()}},{key:"componentDidMount",value:function componentDidMount(){this.state.value&&this.handleChange({target:{value:this.state.value}})}},{key:"render",value:function render(){var value=this.state.value;return Object(jsx_runtime.jsx)(LinkEditor_Wrapper,{children:Object(jsx_runtime.jsx)(components_Input,{value:value,placeholder:"Paste a link",onKeyDown:this.handleKeyDown,onChange:this.handleChange,autoFocus:""===this.href})})}}]),LinkEditor}(react.Component),LinkEditor_Wrapper=Object(styled_components_browser_esm.b)(components_Flex)(LinkEditor_templateObject||(LinkEditor_templateObject=function LinkEditor_taggedTemplateLiteral(strings,raw){return raw||(raw=strings.slice(0)),Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}(["\n  margin-left: -8px;\n  margin-right: -8px;\n  min-width: 336px;\n"]))),components_LinkEditor=Object(styled_components_browser_esm.c)(LinkEditor_LinkEditor);try{LinkEditor_LinkEditor.displayName="LinkEditor",LinkEditor_LinkEditor.__docgenInfo={description:"",displayName:"LinkEditor",props:{mark:{defaultValue:null,description:"",name:"mark",required:!1,type:{name:"Mark<any>"}},from:{defaultValue:null,description:"",name:"from",required:!0,type:{name:"number"}},to:{defaultValue:null,description:"",name:"to",required:!0,type:{name:"number"}},tooltip:{defaultValue:null,description:"",name:"tooltip",required:!0,type:{name:"typeof Component | FC<any>"}},dictionary:{defaultValue:null,description:"",name:"dictionary",required:!0,type:{name:"{ addColumnAfter: string; addColumnBefore: string; addRowAfter: string; addRowBefore: string; alignCenter: string; alignLeft: string; alignRight: string; bulletList: string; checkboxList: string; ... 53 more ...; largeImage: string; }"}},onRemoveLink:{defaultValue:null,description:"",name:"onRemoveLink",required:!1,type:{name:"(() => void)"}},onSelectLink:{defaultValue:null,description:"",name:"onSelectLink",required:!0,type:{name:"(options: { href: string; title?: string | undefined; from: number; to: number; }) => void"}},onShowToast:{defaultValue:null,description:"",name:"onShowToast",required:!1,type:{name:"((message: string, code: string) => void)"}},view:{defaultValue:null,description:"",name:"view",required:!0,type:{name:"EditorView<any>"}},theme:{defaultValue:null,description:"",name:"theme",required:!0,type:{name:"{ background: string; text: string; code: string; cursor: string; divider: string; toolbarBackground: string; toolbarHoverBackground: string; toolbarInput: string; toolbarItem: string; tableDivider: string; ... 62 more ...; greyDark: string; }"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/LinkEditor.tsx#LinkEditor"]={docgenInfo:LinkEditor_LinkEditor.__docgenInfo,name:"LinkEditor",path:"src/components/LinkEditor.tsx#LinkEditor"})}catch(__react_docgen_typescript_loader_error){}var ToolbarSeparator_templateObject,components_ToolbarButton=styled_components_browser_esm.b.button(ToolbarButton_templateObject||(ToolbarButton_templateObject=function ToolbarButton_taggedTemplateLiteral(strings,raw){return raw||(raw=strings.slice(0)),Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}(["\n  display: inline-block;\n  flex: 0;\n  width: 24px;\n  height: 24px;\n  cursor: pointer;\n  margin-left: 10px;\n  border: none;\n  background: none;\n  transition: opacity 100ms ease-in-out;\n  padding: 0;\n  opacity: 0.7;\n  outline: none;\n\n  &:first-child {\n    margin-left: 0;\n  }\n\n  &:hover {\n    opacity: 1;\n  }\n\n  &:disabled {\n    opacity: 0.3;\n    cursor: default;\n  }\n\n  ",";\n"])),(function(props){return props.active&&"opacity: 1;"}));try{ToolbarButton.displayName="ToolbarButton",ToolbarButton.__docgenInfo={description:"",displayName:"ToolbarButton",props:{ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"((instance: HTMLButtonElement | null) => void) | RefObject<HTMLButtonElement> | null"}},active:{defaultValue:null,description:"",name:"active",required:!1,type:{name:"boolean"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"any"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"undefined"}},forwardedAs:{defaultValue:null,description:"",name:"forwardedAs",required:!1,type:{name:"undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ToolbarButton.tsx#ToolbarButton"]={docgenInfo:ToolbarButton.__docgenInfo,name:"ToolbarButton",path:"src/components/ToolbarButton.tsx#ToolbarButton"})}catch(__react_docgen_typescript_loader_error){}var components_ToolbarSeparator=styled_components_browser_esm.b.div(ToolbarSeparator_templateObject||(ToolbarSeparator_templateObject=function ToolbarSeparator_taggedTemplateLiteral(strings,raw){return raw||(raw=strings.slice(0)),Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}(["\n  height: 24px;\n  width: 2px;\n  background: ",";\n  opacity: 0.3;\n  display: inline-block;\n  margin-left: 10px;\n"])),(function(props){return props.theme.toolbarItem}));try{ToolbarSeparator.displayName="ToolbarSeparator",ToolbarSeparator.__docgenInfo={description:"",displayName:"ToolbarSeparator",props:{ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"((instance: HTMLDivElement | null) => void) | RefObject<HTMLDivElement> | null"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"any"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"undefined"}},forwardedAs:{defaultValue:null,description:"",name:"forwardedAs",required:!1,type:{name:"undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ToolbarSeparator.tsx#ToolbarSeparator"]={docgenInfo:ToolbarSeparator.__docgenInfo,name:"ToolbarSeparator",path:"src/components/ToolbarSeparator.tsx#ToolbarSeparator"})}catch(__react_docgen_typescript_loader_error){}function Menu_typeof(obj){return(Menu_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function Menu_slicedToArray(arr,i){return function Menu_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function Menu_iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function Menu_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return Menu_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Menu_arrayLikeToArray(o,minLen)}(arr,i)||function Menu_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Menu_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function Menu_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function Menu_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function Menu_setPrototypeOf(o,p){return(Menu_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function Menu_createSuper(Derived){var hasNativeReflectConstruct=function Menu_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=Menu_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=Menu_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return Menu_possibleConstructorReturn(this,result)}}function Menu_possibleConstructorReturn(self,call){return!call||"object"!==Menu_typeof(call)&&"function"!=typeof call?function Menu_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function Menu_getPrototypeOf(o){return(Menu_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var Menu_Menu=function(_React$Component){!function Menu_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&Menu_setPrototypeOf(subClass,superClass)}(Menu,_React$Component);var _super=Menu_createSuper(Menu);function Menu(){return Menu_classCallCheck(this,Menu),_super.apply(this,arguments)}return function Menu_createClass(Constructor,protoProps,staticProps){return protoProps&&Menu_defineProperties(Constructor.prototype,protoProps),staticProps&&Menu_defineProperties(Constructor,staticProps),Constructor}(Menu,[{key:"render",value:function render(){var _this=this,_this$props=this.props,view=_this$props.view,items=_this$props.items,getSelection=_this$props.getSelection,state=view.state,Tooltip=this.props.tooltip;return Object(jsx_runtime.jsx)("div",{children:items.map((function(item,index){if("separator"===item.name&&!1!==item.visible)return Object(jsx_runtime.jsx)(components_ToolbarSeparator,{},index);if(item.text&&"back"===item.name&&_this.props.onMakeAnswer&&getSelection)return Object(jsx_runtime.jsx)("button",{style:{transform:"translate(0, -8px)",border:"none",backgroundColor:"#e5e7e9",borderRadius:"0.25rem",lineHeight:"26px",cursor:"pointer"},onClick:function onClick(){_this.props.onToggleFormat&&_this.props.onToggleFormat()},children:item.text},index);if(item.text&&"format"===item.name&&_this.props.onMakeAnswer&&getSelection)return Object(jsx_runtime.jsx)("button",{style:{transform:"translate(0, -8px)",border:"none",marginLeft:"10px",backgroundColor:"#e5e7e9",borderRadius:"0.25rem",lineHeight:"26px",cursor:"pointer"},onClick:function onClick(){_this.props.onToggleFormat&&_this.props.onToggleFormat()},children:item.text},index);if(item.text&&"makeanswer"===item.name&&_this.props.onMakeAnswer&&getSelection)return Object(jsx_runtime.jsx)("button",{style:{transform:"translate(0, -8px)",border:"none",backgroundColor:"#e5e7e9",borderRadius:"0.25rem",lineHeight:"26px",cursor:"pointer",fontWeight:"bolder"},onClick:function onClick(){var _getSelection2=Menu_slicedToArray(getSelection(),2),selectedText=_getSelection2[0],surroundingText=_getSelection2[1];_this.props.onMakeAnswer&&_this.props.onMakeAnswer(selectedText,surroundingText)},children:item.text},index);if(item.text&&"add_flashcard"===item.name&&_this.props.onCreateFlashcard&&getSelection)return Object(jsx_runtime.jsx)("button",{style:{transform:"translate(0, -8px)",border:"none",marginLeft:"10px",backgroundColor:"#e5e7e9",borderRadius:"0.25rem",lineHeight:"26px",cursor:"pointer",fontWeight:"bolder"},className:"onboarding-flashcard",onClick:function onClick(){var _getSelection4=Menu_slicedToArray(getSelection(),2),selectedText=_getSelection4[0],surroundingText=_getSelection4[1];_this.props.onCreateFlashcard&&_this.props.onCreateFlashcard(selectedText,surroundingText)},children:item.text},index);if(!1===item.visible||!item.icon)return null;var Icon=item.icon,isActive=!!item.active&&item.active(state);return Object(jsx_runtime.jsx)(components_ToolbarButton,{onClick:function onClick(){item.name&&_this.props.commands[item.name](item.attrs)},active:isActive,children:Object(jsx_runtime.jsx)(Tooltip,{tooltip:item.tooltip,placement:"top",children:Object(jsx_runtime.jsx)(Icon,{color:_this.props.theme.toolbarItem})})},index)}))})}}]),Menu}(react.Component),components_Menu=Object(styled_components_browser_esm.c)(Menu_Menu);try{Menu_Menu.displayName="Menu",Menu_Menu.__docgenInfo={description:"",displayName:"Menu",props:{tooltip:{defaultValue:null,description:"",name:"tooltip",required:!0,type:{name:"typeof Component | FC<any>"}},onCreateFlashcard:{defaultValue:null,description:"",name:"onCreateFlashcard",required:!1,type:{name:"((txt?: string, surroundTxt?: string | undefined) => void) | undefined"}},onMakeAnswer:{defaultValue:null,description:"",name:"onMakeAnswer",required:!1,type:{name:"((txt?: string, surroundTxt?: string | undefined) => void) | undefined"}},onToggleFormat:{defaultValue:null,description:"",name:"onToggleFormat",required:!1,type:{name:"(() => void)"}},commands:{defaultValue:null,description:"",name:"commands",required:!0,type:{name:"Record<string, any>"}},view:{defaultValue:null,description:"",name:"view",required:!0,type:{name:"EditorView<any>"}},theme:{defaultValue:null,description:"",name:"theme",required:!0,type:{name:"{ background: string; text: string; code: string; cursor: string; divider: string; toolbarBackground: string; toolbarHoverBackground: string; toolbarInput: string; toolbarItem: string; tableDivider: string; ... 62 more ...; greyDark: string; }"}},items:{defaultValue:null,description:"",name:"items",required:!0,type:{name:"MenuItem[]"}},getSelection:{defaultValue:null,description:"",name:"getSelection",required:!1,type:{name:"(() => string[])"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Menu.tsx#Menu"]={docgenInfo:Menu_Menu.__docgenInfo,name:"Menu",path:"src/components/Menu.tsx#Menu"})}catch(__react_docgen_typescript_loader_error){}__webpack_require__(98);function getMarkRange($pos,type){if(!$pos||!type)return!1;var start=$pos.parent.childAfter($pos.parentOffset);if(!start.node)return!1;var mark=start.node.marks.find((function(mark){return mark.type===type}));if(!mark)return!1;for(var startIndex=$pos.index(),startPos=$pos.start()+start.offset,endIndex=startIndex+1,endPos=startPos+start.node.nodeSize;startIndex>0&&mark.isInSet($pos.parent.child(startIndex-1).marks);)startIndex-=1,startPos-=$pos.parent.child(startIndex).nodeSize;for(;endIndex<$pos.parent.childCount&&mark.isInSet($pos.parent.child(endIndex).marks);)endPos+=$pos.parent.child(endIndex).nodeSize,endIndex+=1;return{from:startPos,to:endPos,mark:mark}}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function SelectionToolbar_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function SelectionToolbar_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function SelectionToolbar_setPrototypeOf(o,p){return(SelectionToolbar_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function SelectionToolbar_createSuper(Derived){var hasNativeReflectConstruct=function SelectionToolbar_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=SelectionToolbar_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=SelectionToolbar_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return SelectionToolbar_possibleConstructorReturn(this,result)}}function SelectionToolbar_possibleConstructorReturn(self,call){return!call||"object"!==SelectionToolbar_typeof(call)&&"function"!=typeof call?function SelectionToolbar_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function SelectionToolbar_getPrototypeOf(o){return(SelectionToolbar_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function SelectionToolbar_typeof(obj){return(SelectionToolbar_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}var getText=function getText(content){return content?content.text?content.text:Array.isArray(content)?content.map(getText).join(""):"object"===SelectionToolbar_typeof(content)&&null!==content?getText(content.content):void 0:""};function SelectionToolbar_isActive(props){var selection=props.view.state.selection;if(!selection)return!1;if(selection.empty)return!1;if(selection.node&&"image"===selection.node.type.name)return!0;if(selection.node)return!1;var nodes=selection.content().content.content;return Object(lodash.some)(nodes,(function(n){return n.content.size}))}var SelectionToolbar_SelectionToolbar=function(_React$Component){!function SelectionToolbar_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&SelectionToolbar_setPrototypeOf(subClass,superClass)}(SelectionToolbar,_React$Component);var _super=SelectionToolbar_createSuper(SelectionToolbar);function SelectionToolbar(){var _this;SelectionToolbar_classCallCheck(this,SelectionToolbar);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=_super.call.apply(_super,[this].concat(args))).state={formatHidden:!!_this.props.onMakeAnswer},_this.handleOnSelectLink=function(_ref){var href=_ref.href,from=_ref.from,to=_ref.to,title=_ref.title,view=_this.props.view,state=view.state,dispatch=view.dispatch;console.log("title",title,href,from,to),from||to||(from=state.selection.from,to=state.selection.to),_this.props.onClose&&(_this.props.onClose(),_this.props.view.focus());var markType=state.schema.marks.link;dispatch(from===to?view.state.tr.insertText(title,from,to).addMark(from,to+title.length,state.schema.marks.link.create({href:href})):state.tr.removeMark(from,to,markType).addMark(from,to,markType.create({href:href})))},_this}return function SelectionToolbar_createClass(Constructor,protoProps,staticProps){return protoProps&&SelectionToolbar_defineProperties(Constructor.prototype,protoProps),staticProps&&SelectionToolbar_defineProperties(Constructor,staticProps),Constructor}(SelectionToolbar,[{key:"suggestedLinkTitle",get:function get(){var state=this.props.view.state;return state.doc.cut(state.selection.from,state.selection.to).textContent.trim()||""}},{key:"href",get:function get(){var state=this.props.view.state,range=getMarkRange(state.selection.$from,state.schema.marks.link),mark=range&&range.mark;return mark?mark.attrs.href:""}},{key:"render",value:function render(){var _this2=this,_this$props=this.props,dictionary=_this$props.dictionary,isTemplate=_this$props.isTemplate,onMakeAnswer=_this$props.onMakeAnswer,rest=_objectWithoutProperties(_this$props,["dictionary","isTemplate","onMakeAnswer"]),view=rest.view,state=view.state,dispatch=view.dispatch,selection=state.selection;if(queries_isNodeActive(state.schema.nodes.code_block)(state))return null;var colIndex=function getColumnIndex(selection){if(selection.isColSelection&&selection.isColSelection()){var path=selection.$from.path;return path[path.length-5]}}(state.selection),rowIndex=function getRowIndex(selection){if(selection.isRowSelection&&selection.isRowSelection()){var path=selection.$from.path;return path[path.length-8]}}(state.selection),isTableSelection=void 0!==colIndex&&void 0!==rowIndex,link=queries_isMarkActive(state.schema.marks.link)(state),range=getMarkRange(selection.$from,state.schema.marks.link),isImageSelection=selection.node&&"image"===selection.node.type.name,items=(getText(selection.content()),[]);if(isTableSelection?items=function tableMenuItems(dictionary){return[{name:"deleteTable",tooltip:dictionary.deleteTable,icon:lib.TrashIcon,active:function active(){return!1}}]}(dictionary):void 0!==colIndex?items=function tableColMenuItems(state,index,dictionary){var schema=state.schema;return[{name:"setColumnAttr",tooltip:dictionary.alignLeft,icon:lib.AlignLeftIcon,attrs:{index:index,alignment:"left"},active:queries_isNodeActive(schema.nodes.th,{colspan:1,rowspan:1,alignment:"left"})},{name:"setColumnAttr",tooltip:dictionary.alignCenter,icon:lib.AlignCenterIcon,attrs:{index:index,alignment:"center"},active:queries_isNodeActive(schema.nodes.th,{colspan:1,rowspan:1,alignment:"center"})},{name:"setColumnAttr",tooltip:dictionary.alignRight,icon:lib.AlignRightIcon,attrs:{index:index,alignment:"right"},active:queries_isNodeActive(schema.nodes.th,{colspan:1,rowspan:1,alignment:"right"})},{name:"separator"},{name:"addColumnBefore",tooltip:dictionary.addColumnBefore,icon:lib.InsertLeftIcon,active:function active(){return!1}},{name:"addColumnAfter",tooltip:dictionary.addColumnAfter,icon:lib.InsertRightIcon,active:function active(){return!1}},{name:"separator"},{name:"deleteColumn",tooltip:dictionary.deleteColumn,icon:lib.TrashIcon,active:function active(){return!1}}]}(state,colIndex,dictionary):void 0!==rowIndex?items=function tableRowMenuItems(state,index,dictionary){return[{name:"addRowAfter",tooltip:dictionary.addRowBefore,icon:lib.InsertAboveIcon,attrs:{index:index-1},active:function active(){return!1},visible:0!==index},{name:"addRowAfter",tooltip:dictionary.addRowAfter,icon:lib.InsertBelowIcon,attrs:{index:index},active:function active(){return!1}},{name:"separator"},{name:"deleteRow",tooltip:dictionary.deleteRow,icon:lib.TrashIcon,active:function active(){return!1}}]}(0,rowIndex,dictionary):isImageSelection?items=function imageMenuItems(state,dictionary){var schema=state.schema,isLeftAligned=queries_isNodeActive(schema.nodes.image,{layoutClass:"left"}),isRightAligned=queries_isNodeActive(schema.nodes.image,{layoutClass:"right"}),isCenterAligned=queries_isNodeActive(schema.nodes.image,{layoutClass:"center"}),isSmall=queries_isNodeActive(schema.nodes.image,{sizeClass:"small"}),isMedium=queries_isNodeActive(schema.nodes.image,{sizeClass:"medium"}),isLarge=queries_isNodeActive(schema.nodes.image,{sizeClass:"large"});return[{name:"alignLeft",tooltip:dictionary.alignLeft,icon:lib.AlignImageLeftIcon,visible:!0,active:isLeftAligned},{name:"alignCenter",tooltip:dictionary.alignCenter,icon:lib.AlignImageCenterIcon,visible:!0,active:function active(state){return queries_isNodeActive(schema.nodes.image)(state)&&isCenterAligned(state)}},{name:"alignRight",tooltip:dictionary.alignRight,icon:lib.AlignImageRightIcon,visible:!0,active:isRightAligned},{name:"separator",visible:!0},{name:"smallSize",tooltip:dictionary.smallImage,icon:lib.Heading1Icon,visible:!0,active:isSmall},{name:"mediumSize",tooltip:dictionary.mediumImage,icon:lib.Heading2Icon,visible:!0,active:isMedium},{name:"largeSize",tooltip:dictionary.largeImage,icon:lib.Heading3Icon,visible:!0,active:isLarge},{name:"separator",visible:!0},{name:"deleteImage",tooltip:dictionary.deleteImage,icon:lib.TrashIcon,visible:!0,active:function active(){return!1}}]}(state,dictionary):onMakeAnswer&&this.state.formatHidden?items=[{name:"makeanswer",text:"⬇️ Make Answer"},{name:"separator"},{name:"format",text:"Format ..."}]:(items=function formattingMenuItems(state,isTemplate,dictionary){var schema=state.schema,isTable=Object(prosemirror_tables_dist_index_es.isInTable)(state),isList=function isInList(state){for(var $head=state.selection.$head,d=$head.depth;d>0;d--)if(["ordered_list","bullet_list","checkbox_list"].includes($head.node(d).type.name))return!0;return!1}(state),allowBlocks=!isTable&&!isList,isLeftAligned=queries_isNodeActive(schema.nodes.paragraph,{layoutClass:"left"}),isRightAligned=queries_isNodeActive(schema.nodes.paragraph,{layoutClass:"right"}),isCenterAligned=queries_isNodeActive(schema.nodes.paragraph,{layoutClass:"center"});return[{name:"link",tooltip:dictionary.createLink,icon:lib.LinkIcon,active:queries_isMarkActive(schema.marks.link),attrs:{href:""}},{name:"separator"},{name:"placeholder",tooltip:dictionary.placeholder,icon:lib.InputIcon,active:queries_isMarkActive(schema.marks.placeholder),visible:isTemplate},{name:"separator",visible:isTemplate},{name:"strong",tooltip:dictionary.strong,icon:lib.BoldIcon,active:queries_isMarkActive(schema.marks.strong)},{name:"em",tooltip:dictionary.em,icon:lib.ItalicIcon,active:queries_isMarkActive(schema.marks.em)},{name:"strikethrough",tooltip:dictionary.strikethrough,icon:lib.StrikethroughIcon,active:queries_isMarkActive(schema.marks.strikethrough)},{name:"mark",tooltip:dictionary.mark,icon:lib.HighlightIcon,active:queries_isMarkActive(schema.marks.mark),visible:!isTemplate},{name:"code_inline",tooltip:dictionary.codeInline,icon:lib.CodeIcon,active:queries_isMarkActive(schema.marks.code_inline)},{name:"blockquote",tooltip:dictionary.quote,icon:lib.BlockQuoteIcon,active:queries_isNodeActive(schema.nodes.blockquote),attrs:{level:2},visible:allowBlocks},{name:"separator"},{name:"alignTextLeft",tooltip:dictionary.alignLeft,icon:lib.AlignLeftIcon,active:isLeftAligned},{name:"alignTextCenter",tooltip:dictionary.alignCenter,icon:lib.AlignCenterIcon,active:isCenterAligned},{name:"alignTextRight",tooltip:dictionary.alignRight,icon:lib.AlignRightIcon,active:isRightAligned},{name:"add_flashcard",tooltip:dictionary.quote,text:"+ Flashcard",visible:!0}]}(state,isTemplate,dictionary),onMakeAnswer&&!this.state.formatHidden&&items.unshift({name:"back",text:"<"})),!items.length)return null;var LinkFinder=this.props.LinkFinder,MenuEl=Object(jsx_runtime.jsx)(components_Menu,Object.assign({items:items,onToggleFormat:function onToggleFormat(){return _this2.setState({formatHidden:!_this2.state.formatHidden})},onMakeAnswer:onMakeAnswer},rest)),LinkEditorEl=!this.href&&LinkFinder?Object(jsx_runtime.jsx)(LinkFinder,{callback:this.handleOnSelectLink,newSearchTerm:this.suggestedLinkTitle,onClose:function onClose(){try{if(range&&range.from&&range.to&&!_this2.href){var markType=state.schema.marks.link;dispatch(state.tr.removeMark(range&&range.from||0,range&&range.to||0,markType))}}catch(e){console.log("error closing",e)}_this2.props.onClose&&_this2.props.onClose()}}):Object(jsx_runtime.jsx)(components_LinkEditor,Object.assign({dictionary:dictionary,mark:range&&range.mark||void 0,from:range&&range.from||selection.from,to:range&&range.to||selection.to,onSelectLink:this.handleOnSelectLink,onRemoveLink:this.props.onClose},rest));return link&&range&&!this.href?LinkEditorEl:Object(jsx_runtime.jsx)(PortalCompat.a,{children:Object(jsx_runtime.jsx)(components_FloatingToolbar,{view:view,active:SelectionToolbar_isActive(this.props),children:link&&range?LinkEditorEl:MenuEl})})}}]),SelectionToolbar}(react.Component);try{getText.displayName="getText",getText.__docgenInfo={description:"",displayName:"getText",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/SelectionToolbar.tsx#getText"]={docgenInfo:getText.__docgenInfo,name:"getText",path:"src/components/SelectionToolbar.tsx#getText"})}catch(__react_docgen_typescript_loader_error){}try{SelectionToolbar_SelectionToolbar.displayName="SelectionToolbar",SelectionToolbar_SelectionToolbar.__docgenInfo={description:"",displayName:"SelectionToolbar",props:{dictionary:{defaultValue:null,description:"",name:"dictionary",required:!0,type:{name:"{ addColumnAfter: string; addColumnBefore: string; addRowAfter: string; addRowBefore: string; alignCenter: string; alignLeft: string; alignRight: string; bulletList: string; checkboxList: string; ... 53 more ...; largeImage: string; }"}},tooltip:{defaultValue:null,description:"",name:"tooltip",required:!0,type:{name:"typeof Component | FC<any>"}},isTemplate:{defaultValue:null,description:"",name:"isTemplate",required:!0,type:{name:"boolean"}},commands:{defaultValue:null,description:"",name:"commands",required:!0,type:{name:"Record<string, any>"}},onShowToast:{defaultValue:null,description:"",name:"onShowToast",required:!1,type:{name:"((msg: string, code: string) => void)"}},view:{defaultValue:null,description:"",name:"view",required:!0,type:{name:"EditorView<any>"}},linkIsActive:{defaultValue:null,description:"",name:"linkIsActive",required:!1,type:{name:"boolean"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!1,type:{name:"(() => void)"}},searchTriggerOpen:{defaultValue:null,description:"",name:"searchTriggerOpen",required:!1,type:{name:"boolean"}},resetSearchTrigger:{defaultValue:null,description:"",name:"resetSearchTrigger",required:!1,type:{name:"(() => void)"}},onCreateFlashcard:{defaultValue:null,description:"",name:"onCreateFlashcard",required:!1,type:{name:"((txt?: string, surroundTxt?: string | undefined) => void) | undefined"}},onMakeAnswer:{defaultValue:null,description:"",name:"onMakeAnswer",required:!1,type:{name:"((txt?: string, surroundTxt?: string | undefined) => void) | undefined"}},LinkFinder:{defaultValue:null,description:"",name:"LinkFinder",required:!1,type:{name:"typeof Component | FC<any>"}},getSelection:{defaultValue:null,description:"",name:"getSelection",required:!1,type:{name:"(() => string[])"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/SelectionToolbar.tsx#SelectionToolbar"]={docgenInfo:SelectionToolbar_SelectionToolbar.__docgenInfo,name:"SelectionToolbar",path:"src/components/SelectionToolbar.tsx#SelectionToolbar"})}catch(__react_docgen_typescript_loader_error){}__webpack_require__(173);var ToastType,capitalize=__webpack_require__(536),capitalize_default=__webpack_require__.n(capitalize);!function(ToastType){ToastType.Error="error",ToastType.Info="info"}(ToastType||(ToastType={}));var BlockMenuItem_templateObject,_templateObject2,es=__webpack_require__(552);function BlockMenuItem_taggedTemplateLiteral(strings,raw){return raw||(raw=strings.slice(0)),Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function BlockMenuItem(_ref){var selected=_ref.selected,disabled=_ref.disabled,onClick=_ref.onClick,title=_ref.title,shortcut=_ref.shortcut,upgradeCallback=_ref.upgradeCallback,memberOnly=_ref.memberOnly,Icon=_ref.icon,ref=react.useCallback((function(node){selected&&node&&Object(es.a)(node,{scrollMode:"if-needed",block:"center",boundary:function boundary(parent){return"block-menu-container"!==parent.id}})}),[selected]);return Object(jsx_runtime.jsxs)(MenuItem,{selected:selected,onClick:disabled?void 0:memberOnly&&upgradeCallback?upgradeCallback:onClick,ref:ref,children:[Object(jsx_runtime.jsx)(Icon,{color:selected?src_theme.black:void 0}),"  ",title,Object(jsx_runtime.jsx)(Shortcut,{children:shortcut})]})}BlockMenuItem.displayName="BlockMenuItem";var VisuallyHidden_templateObject,MenuItem=styled_components_browser_esm.b.button(BlockMenuItem_templateObject||(BlockMenuItem_templateObject=BlockMenuItem_taggedTemplateLiteral(["\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  font-weight: 500;\n  font-size: 14px;\n  line-height: 1;\n  width: 100%;\n  height: 36px;\n  cursor: pointer;\n  border: none;\n  opacity: ",";\n  color: ",";\n  background: ",";\n  padding: 0 16px;\n  outline: none;\n\n  &:hover,\n  &:active {\n    color: ",";\n    background: ",";\n  }\n"])),(function(props){return props.disabled?".5":"1"}),(function(props){return props.selected?props.theme.black:props.theme.blockToolbarText}),(function(props){return props.selected?props.theme.blockToolbarTrigger:"none"}),(function(props){return props.theme.black}),(function(props){return props.selected?props.theme.blockToolbarTrigger:props.theme.blockToolbarHoverBackground})),Shortcut=styled_components_browser_esm.b.span(_templateObject2||(_templateObject2=BlockMenuItem_taggedTemplateLiteral(["\n  color: rgb(209 213 219);\n  flex-grow: 1;\n  text-align: right;\n"]))),components_BlockMenuItem=Object(styled_components_browser_esm.c)(BlockMenuItem);try{BlockMenuItem.displayName="BlockMenuItem",BlockMenuItem.__docgenInfo={description:"",displayName:"BlockMenuItem",props:{selected:{defaultValue:null,description:"",name:"selected",required:!0,type:{name:"boolean"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"() => void"}},theme:{defaultValue:null,description:"",name:"theme",required:!0,type:{name:"{ background: string; text: string; code: string; cursor: string; divider: string; toolbarBackground: string; toolbarHoverBackground: string; toolbarInput: string; toolbarItem: string; tableDivider: string; ... 62 more ...; greyDark: string; }"}},icon:{defaultValue:null,description:"",name:"icon",required:!0,type:{name:"typeof Component | FC<any>"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},name:{defaultValue:null,description:"",name:"name",required:!1,type:{name:"string"}},shortcut:{defaultValue:null,description:"",name:"shortcut",required:!1,type:{name:"string"}},upgradeCallback:{defaultValue:null,description:"",name:"upgradeCallback",required:!1,type:{name:"(() => void)"}},memberOnly:{defaultValue:null,description:"",name:"memberOnly",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/BlockMenuItem.tsx#BlockMenuItem"]={docgenInfo:BlockMenuItem.__docgenInfo,name:"BlockMenuItem",path:"src/components/BlockMenuItem.tsx#BlockMenuItem"})}catch(__react_docgen_typescript_loader_error){}var VisuallyHidden=styled_components_browser_esm.b.span(VisuallyHidden_templateObject||(VisuallyHidden_templateObject=function VisuallyHidden_taggedTemplateLiteral(strings,raw){return raw||(raw=strings.slice(0)),Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}(["\n  position: absolute !important;\n  height: 1px;\n  width: 1px;\n  overflow: hidden;\n  clip: rect(1px 1px 1px 1px); /* IE6, IE7 */\n  clip: rect(1px, 1px, 1px, 1px);\n"]))),components_VisuallyHidden=VisuallyHidden;try{VisuallyHidden.displayName="VisuallyHidden",VisuallyHidden.__docgenInfo={description:"",displayName:"VisuallyHidden",props:{ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"((instance: HTMLSpanElement | null) => void) | RefObject<HTMLSpanElement> | null"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"any"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"undefined"}},forwardedAs:{defaultValue:null,description:"",name:"forwardedAs",required:!1,type:{name:"undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/VisuallyHidden.tsx#VisuallyHidden"]={docgenInfo:VisuallyHidden.__docgenInfo,name:"VisuallyHidden",path:"src/components/VisuallyHidden.tsx#VisuallyHidden"})}catch(__react_docgen_typescript_loader_error){}function getDataTransferFiles(event){var dataTransferItemsList=[];if(event.dataTransfer){var dt=event.dataTransfer;dt.files&&dt.files.length?dataTransferItemsList=dt.files:dt.items&&dt.items.length&&(dataTransferItemsList=dt.items)}else event.target&&event.target.files&&(dataTransferItemsList=event.target.files);return Array.prototype.slice.call(dataTransferItemsList)}__webpack_require__(1238),__webpack_require__(344);var uploadPlaceholder=new index_es.Plugin({state:{init:function init(){return prosemirror_view_dist_index_es.b.empty},apply:function apply(tr,set){set=set.map(tr.mapping,tr.doc);var action=tr.getMeta(this);if(action&&action.add){var element=document.createElement("div");element.className="image placeholder";var img=document.createElement("img");img.src="https://raw.githubusercontent.com/Codelessly/FlutterLoadingGIFs/master/packages/cupertino_activity_indicator.gif",element.appendChild(img);var deco=prosemirror_view_dist_index_es.a.widget(action.add.pos,element,{id:action.add.id});set=set.add(tr.doc,[deco])}else action&&action.remove&&(set=set.remove(set.find(null,null,(function(spec){return spec.id===action.remove.id}))));return set}},props:{decorations:function decorations(state){return this.getState(state)}}}),lib_uploadPlaceholder=uploadPlaceholder;function _createForOfIteratorHelper(o,allowArrayLike){var it;if("undefined"==typeof Symbol||null==o[Symbol.iterator]){if(Array.isArray(o)||(it=function insertFiles_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return insertFiles_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return insertFiles_arrayLikeToArray(o,minLen)}(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=o[Symbol.iterator]()},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function insertFiles_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var BlockMenu_templateObject,BlockMenu_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,commands_insertFiles=function insertFiles(view,event,pos,files,options){var images=files;if(0!==images.length){var dictionary=options.dictionary,uploadImage=options.uploadImage,uploadSketch=options.uploadSketch,onImageUploadStart=options.onImageUploadStart,onImageUploadStop=options.onImageUploadStop,onShowToast=options.onShowToast,embeds=options.embeds;if(uploadImage||uploadSketch){event.preventDefault(),onImageUploadStart&&onImageUploadStart();var _step,schema=view.state.schema,complete=0,_loop=function _loop(file){var id={},tr=view.state.tr;tr.setMeta(lib_uploadPlaceholder,{add:{id:id,file:file,pos:pos}}),view.dispatch(tr);var isImage=file.type.startsWith("image/"),isAudio=file.type.startsWith("audio/"),isSketch=file.name.endsWith(".rsc")||file.name.includes(".rsc?alt=")||!uploadImage&&uploadSketch;(isSketch?uploadSketch:uploadImage||uploadSketch)(file,isImage?"image":isAudio?"audio":null,isImage||isAudio).then((function(src){var pos=function findPlaceholder(state,id){var found=uploadPlaceholder.getState(state).find(null,null,(function(spec){return spec.id===id}));return found.length?found[0].from:null}(view.state,id);if(null!==pos){var transaction;if(console.log("isImage",isImage,isSketch,file.name),isImage&&!isSketch)transaction=view.state.tr.replaceWith(pos,pos,schema.nodes.image.create({src:src})).setMeta(lib_uploadPlaceholder,{remove:{id:id}});else{var component;if(embeds){var _step2,_iterator2=_createForOfIteratorHelper(embeds);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var embed=_step2.value;embed.matcher(src)&&(component=embed.component)}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}}console.log("component",component,src,embeds),transaction=view.state.tr.replaceWith(pos,pos,schema.nodes.embed.create({href:src,component:component,matches:{}})).setMeta(lib_uploadPlaceholder,{remove:{id:id}})}view.dispatch(transaction)}})).catch((function(error){console.error(error);var transaction=view.state.tr.setMeta(lib_uploadPlaceholder,{remove:{id:id}});view.dispatch(transaction),onShowToast&&onShowToast(dictionary.imageUploadError,ToastType.Error)})).finally((function(){++complete===images.length&&onImageUploadStop&&onImageUploadStop()}))},_iterator=_createForOfIteratorHelper(images);try{for(_iterator.s();!(_step=_iterator.n()).done;){_loop(_step.value)}}catch(err){_iterator.e(err)}finally{_iterator.f()}}else console.warn("upload callback must be defined to handle image uploads.")}};function BlockMenu_typeof(obj){return(BlockMenu_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function BlockMenu_taggedTemplateLiteral(strings,raw){return raw||(raw=strings.slice(0)),Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function BlockMenu_objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function BlockMenu_objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return BlockMenu_arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||BlockMenu_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function BlockMenu_createForOfIteratorHelper(o,allowArrayLike){var it;if("undefined"==typeof Symbol||null==o[Symbol.iterator]){if(Array.isArray(o)||(it=BlockMenu_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=o[Symbol.iterator]()},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function BlockMenu_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return BlockMenu_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?BlockMenu_arrayLikeToArray(o,minLen):void 0}}function BlockMenu_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function BlockMenu_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function BlockMenu_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function BlockMenu_setPrototypeOf(o,p){return(BlockMenu_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function BlockMenu_createSuper(Derived){var hasNativeReflectConstruct=function BlockMenu_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=BlockMenu_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=BlockMenu_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return BlockMenu_possibleConstructorReturn(this,result)}}function BlockMenu_possibleConstructorReturn(self,call){return!call||"object"!==BlockMenu_typeof(call)&&"function"!=typeof call?function BlockMenu_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function BlockMenu_getPrototypeOf(o){return(BlockMenu_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var BlockMenu_SSR="undefined"==typeof window,BlockMenu_BlockMenu=function(_React$Component){!function BlockMenu_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&BlockMenu_setPrototypeOf(subClass,superClass)}(BlockMenu,_React$Component);var _super=BlockMenu_createSuper(BlockMenu);function BlockMenu(){var _this;BlockMenu_classCallCheck(this,BlockMenu);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=_super.call.apply(_super,[this].concat(args))).menuRef=react.createRef(),_this.inputRef=react.createRef(),_this.inputRefAudio=react.createRef(),_this.inputRefFile=react.createRef(),_this.inputRefSketch=react.createRef(),_this.state={left:-1e3,top:0,bottom:void 0,isAbove:!1,selectedIndex:0,insertItem:void 0},_this.handleKeyDown=function(event){if(_this.props.isActive){if("Enter"===event.key){event.preventDefault(),event.stopPropagation();var item=_this.filtered[_this.state.selectedIndex];item?_this.insertItem(item):_this.props.onClose()}if("ArrowUp"===event.key||event.ctrlKey&&"p"===event.key)if(event.preventDefault(),event.stopPropagation(),_this.filtered.length){var prevIndex=_this.state.selectedIndex-1,prev=_this.filtered[prevIndex];_this.setState({selectedIndex:Math.max(0,prev&&"separator"===prev.name?prevIndex-1:prevIndex)})}else _this.close();if("ArrowDown"===event.key||"Tab"===event.key||event.ctrlKey&&"n"===event.key)if(event.preventDefault(),event.stopPropagation(),_this.filtered.length){var total=_this.filtered.length-1,nextIndex=_this.state.selectedIndex+1,next=_this.filtered[nextIndex];_this.setState({selectedIndex:Math.min(next&&"separator"===next.name?nextIndex+1:nextIndex,total)})}else _this.close();"Escape"===event.key&&_this.close()}},_this.insertItem=function(item){switch(item.name){case"image":return _this.triggerImagePick();case"image_occlusion":return _this.triggerSketchPick();case"sketch":return _this.props.uploadSketch&&_this.props.uploadSketch().then((function(src){var component;if(_this.props.embeds){var _step,_iterator=BlockMenu_createForOfIteratorHelper(_this.props.embeds);try{for(_iterator.s();!(_step=_iterator.n()).done;){var embed=_step.value;embed.matcher(src)&&(component=embed.component)}}catch(err){_iterator.e(err)}finally{_iterator.f()}}var view=_this.props.view,state=view.state,schema=view.state.schema,parent=Object(dist.findParentNode)((function(node){return!!node}))(state.selection);if(parent){var transaction=view.state.tr.replaceWith(parent.pos,parent.pos,schema.nodes.embed.create({href:src,component:component,matches:{}}));view.dispatch(transaction)}_this.props.onClose()}));case"embed":return _this.triggerLinkInput(item);case"link":return _this.clearSearch(),_this.props.onClose(),void _this.props.onLinkToolbarOpen();default:_this.insertBlock(item)}},_this.close=function(){_this.props.onClose(),_this.props.view.focus()},_this.handleLinkInputKeydown=function(event){if(_this.props.isActive&&_this.state.insertItem){if("Enter"===event.key){event.preventDefault(),event.stopPropagation();var href=event.currentTarget.value,matches=_this.state.insertItem.matcher(href);if(!matches&&_this.props.onShowToast)return void _this.props.onShowToast(_this.props.dictionary.embedInvalidLink,ToastType.Error);_this.insertBlock({name:"embed",attrs:{href:href,component:_this.state.insertItem.component,matches:matches}})}"Escape"===event.key&&(_this.props.onClose(),_this.props.view.focus())}},_this.handleLinkInputPaste=function(event){if(_this.props.isActive&&_this.state.insertItem){var href=event.clipboardData.getData("text/plain"),matches=_this.state.insertItem.matcher(href);matches&&(event.preventDefault(),event.stopPropagation(),_this.insertBlock({name:"embed",attrs:{href:href,component:_this.state.insertItem.component,matches:matches}}))}},_this.triggerImagePick=function(){_this.inputRef.current&&_this.inputRef.current.click()},_this.triggerSketchPick=function(){_this.inputRefSketch.current&&_this.inputRefSketch.current.click()},_this.triggerLinkInput=function(item){_this.setState({insertItem:item})},_this.handleSketchPicked=function(event){var files=getDataTransferFiles(event),_this$props=_this.props,view=_this$props.view,uploadSketch=_this$props.uploadSketch,onImageUploadStart=_this$props.onImageUploadStart,onImageUploadStop=_this$props.onImageUploadStop,onShowToast=_this$props.onShowToast,embeds=_this$props.embeds,state=view.state,dispatch=view.dispatch,parent=Object(dist.findParentNode)((function(node){return!!node}))(state.selection);parent&&(dispatch(state.tr.insertText("",parent.pos,parent.pos+parent.node.textContent.length+1)),commands_insertFiles(view,event,parent.pos,files,{uploadSketch:uploadSketch,onImageUploadStart:onImageUploadStart,onImageUploadStop:onImageUploadStop,onShowToast:onShowToast,isImage:!1,isAudio:!1,isImageOcclusion:!0,dictionary:_this.props.dictionary,embeds:embeds})),_this.inputRef.current&&(_this.inputRef.current.value=""),_this.props.onClose()},_this.handleImagePicked=function(event){var files=getDataTransferFiles(event),_this$props2=_this.props,view=_this$props2.view,uploadImage=_this$props2.uploadImage,onImageUploadStart=_this$props2.onImageUploadStart,onImageUploadStop=_this$props2.onImageUploadStop,onShowToast=_this$props2.onShowToast,embeds=_this$props2.embeds,state=view.state,dispatch=view.dispatch,parent=Object(dist.findParentNode)((function(node){return!!node}))(state.selection);parent&&(dispatch(state.tr.insertText("",parent.pos,parent.pos+parent.node.textContent.length+1)),commands_insertFiles(view,event,parent.pos,files,{uploadImage:uploadImage,onImageUploadStart:onImageUploadStart,onImageUploadStop:onImageUploadStop,onShowToast:onShowToast,dictionary:_this.props.dictionary,embeds:embeds})),_this.inputRef.current&&(_this.inputRef.current.value=""),_this.props.onClose()},_this}return function BlockMenu_createClass(Constructor,protoProps,staticProps){return protoProps&&BlockMenu_defineProperties(Constructor.prototype,protoProps),staticProps&&BlockMenu_defineProperties(Constructor,staticProps),Constructor}(BlockMenu,[{key:"componentDidMount",value:function componentDidMount(){BlockMenu_SSR||window.addEventListener("keydown",this.handleKeyDown)}},{key:"shouldComponentUpdate",value:function shouldComponentUpdate(nextProps,nextState){return nextProps.search!==this.props.search||nextProps.isActive!==this.props.isActive||nextState!==this.state}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps){if(!prevProps.isActive&&this.props.isActive){var position=this.calculatePosition(this.props);this.setState(Object.assign({insertItem:void 0,selectedIndex:0},position))}else prevProps.search!==this.props.search&&this.setState({selectedIndex:0})}},{key:"componentWillUnmount",value:function componentWillUnmount(){BlockMenu_SSR||window.removeEventListener("keydown",this.handleKeyDown)}},{key:"clearSearch",value:function clearSearch(){var _this$props$view=this.props.view,state=_this$props$view.state,dispatch=_this$props$view.dispatch,parent=Object(dist.findParentNode)((function(node){return!!node}))(state.selection);parent&&dispatch(state.tr.insertText("",parent.pos,parent.pos+parent.node.textContent.length+1))}},{key:"insertBlock",value:function insertBlock(item){this.clearSearch();var command=this.props.commands[item.name];command?command(item.attrs):this.props.commands["create".concat(capitalize_default()(item.name))](item.attrs),this.props.onClose()}},{key:"caretPosition",get:function get(){var selection=window.document.getSelection();if(!selection||!selection.anchorNode||!selection.focusNode)return{top:0,left:0};var range=window.document.createRange();range.setStart(selection.anchorNode,selection.anchorOffset),range.setEnd(selection.focusNode,selection.focusOffset),0===range.getClientRects().length&&range.startContainer&&range.collapsed&&range.selectNodeContents(range.startContainer);var rect=range.getBoundingClientRect();return{top:rect.top,left:rect.left}}},{key:"calculatePosition",value:function calculatePosition(props){var view=props.view,selection=view.state.selection,startPos=view.coordsAtPos(selection.$from.pos),ref=this.menuRef.current,offsetHeight=ref?ref.offsetHeight:0,paragraph=view.domAtPos(selection.$from.pos),node=paragraph.node;if(node.getBoundingClientRect||(node=paragraph.node.parentNode),!props.isActive||!paragraph.node||!node.getBoundingClientRect||BlockMenu_SSR)return{left:-1e3,top:0,bottom:void 0,isAbove:!1};var left=this.caretPosition.left,_node$getBoundingClie=node.getBoundingClientRect(),top=_node$getBoundingClie.top,bottom=_node$getBoundingClie.bottom;return startPos.top-offsetHeight>24?{left:left+window.scrollX,top:void 0,bottom:window.innerHeight-top-window.scrollY,isAbove:!1}:{left:left+window.scrollX,top:bottom+window.scrollY,bottom:void 0,isAbove:!0}}},{key:"filtered",get:function get(){var _this2=this,_this$props3=this.props,dictionary=_this$props3.dictionary,_this$props3$search=_this$props3.search,search=void 0===_this$props3$search?"":_this$props3$search,uploadImage=_this$props3.uploadImage,uploadSketch=_this$props3.uploadSketch,filtered=function blockMenuItems(dictionary){return[{name:"image",title:"Upload image, audio, video, PDF",icon:lib.ImageIcon,keywords:"picture photo",memberOnly:!1},{name:"sketch",title:"Sketch",icon:lib.HighlightIcon,keywords:"sketch drawing scratchpad",memberOnly:!0},{name:"link",title:"Link note",icon:lib.LinkIcon,keywords:"link url uri href",shortcut:"[["},{name:"separator"},{name:"checkbox_list",title:dictionary.checkboxList,icon:lib.TodoListIcon,keywords:"checklist checkbox task",shortcut:"[ ]"},{name:"bullet_list",title:dictionary.bulletList,icon:lib.BulletedListIcon,shortcut:"-"},{name:"ordered_list",title:dictionary.orderedList,icon:lib.OrderedListIcon,shortcut:"1."},{name:"table",title:dictionary.table,icon:lib.TableIcon,attrs:{rowsCount:3,colsCount:3}},{name:"blockquote",title:dictionary.quote,icon:lib.BlockQuoteIcon,shortcut:">"},{name:"code_block",title:dictionary.codeBlock,icon:lib.CodeIcon,shortcut:"```",keywords:"script"},{name:"math_inline",title:dictionary.math,icon:lib.MathIcon,shortcut:"$$",keywords:"math latex equation"},{name:"separator"},{name:"heading",title:dictionary.h1,keywords:"h1 heading1 title",icon:lib.Heading1Icon,shortcut:"#",attrs:{level:1}},{name:"heading",title:dictionary.h2,keywords:"h2 heading2",icon:lib.Heading2Icon,shortcut:"##",attrs:{level:2}},{name:"heading",title:dictionary.h3,keywords:"h3 heading3",icon:lib.Heading3Icon,shortcut:"###",attrs:{level:3}}]}(dictionary).filter((function(item){if("separator"===item.name)return!0;var excludeBlockMenuItems=_this2.props.excludeBlockMenuItems;if(excludeBlockMenuItems&&item.title&&excludeBlockMenuItems.includes(item.title))return!1;if(!uploadImage&&"image"===item.name)return!1;if(!uploadSketch&&"image_occlusion"===item.name)return!1;var n=search.toLowerCase();return(item.title||"").toLowerCase().includes(n)||(item.keywords||"").toLowerCase().includes(n)}));return filtered.reduce((function(acc,item,index){if("separator"===item.name&&0===index)return acc;if("separator"===item.name&&index===filtered.length-1)return acc;var prev=filtered[index-1];if(prev&&"separator"===prev.name&&"separator"===item.name)return acc;var next=filtered[index+1];return next&&"separator"===next.name&&"separator"===item.name?acc:[].concat(_toConsumableArray(acc),[item])}),[])}},{key:"render",value:function render(){var _this3=this,_this$props4=this.props,dictionary=_this$props4.dictionary,isActive=_this$props4.isActive,uploadImage=_this$props4.uploadImage,uploadSketch=_this$props4.uploadSketch,items=this.filtered,_this$state=this.state,insertItem=_this$state.insertItem,positioning=BlockMenu_objectWithoutProperties(_this$state,["insertItem"]);return Object(jsx_runtime.jsx)(PortalCompat.a,{children:Object(jsx_runtime.jsxs)(BlockMenu_Wrapper,Object.assign({id:"block-menu-container",active:isActive,ref:this.menuRef},positioning,{children:[insertItem?Object(jsx_runtime.jsx)(LinkInputWrapper,{children:Object(jsx_runtime.jsx)(LinkInput,{type:"text",placeholder:insertItem.title?dictionary.pasteLinkWithTitle(insertItem.title):dictionary.pasteLink,onKeyDown:this.handleLinkInputKeydown,onPaste:this.handleLinkInputPaste,autoFocus:!0})}):Object(jsx_runtime.jsxs)(List,{children:[items.map((function(item,index){if("separator"===item.name)return Object(jsx_runtime.jsx)(BlockMenu_ListItem,{children:Object(jsx_runtime.jsx)("hr",{})},index);var selected=index===_this3.state.selectedIndex&&isActive;return item.title&&item.icon?Object(jsx_runtime.jsx)(BlockMenu_ListItem,{tabIndex:0,children:Object(jsx_runtime.jsx)(components_BlockMenuItem,{onClick:function onClick(){return _this3.insertItem(item)},selected:selected,icon:item.icon,title:item.title,shortcut:item.shortcut,upgradeCallback:_this3.props.upgradeCallback,memberOnly:item.memberOnly})},index):null})),0===items.length&&Object(jsx_runtime.jsx)(BlockMenu_ListItem,{children:Object(jsx_runtime.jsx)(Empty,{children:dictionary.noResults})})]}),uploadImage&&Object(jsx_runtime.jsx)(components_VisuallyHidden,{children:Object(jsx_runtime.jsx)("input",{type:"file",ref:this.inputRef,onChange:this.handleImagePicked,accept:"image/*,audio/*,.xlsx,.xls,.doc,.docx,.ppt,.pptx,.txt,.pdf,.csv"})}),uploadSketch&&Object(jsx_runtime.jsx)(components_VisuallyHidden,{children:Object(jsx_runtime.jsx)("input",{type:"file",ref:this.inputRefSketch,onChange:this.handleSketchPicked,accept:"image/*"})})]}))})}}]),BlockMenu}(react.Component),LinkInputWrapper=styled_components_browser_esm.b.div(BlockMenu_templateObject||(BlockMenu_templateObject=BlockMenu_taggedTemplateLiteral(["\n  margin: 8px;\n"]))),LinkInput=Object(styled_components_browser_esm.b)(components_Input)(BlockMenu_templateObject2||(BlockMenu_templateObject2=BlockMenu_taggedTemplateLiteral(["\n  height: 36px;\n  width: 100%;\n  color: ",";\n"])),(function(props){return props.theme.blockToolbarText})),List=styled_components_browser_esm.b.ol(_templateObject3||(_templateObject3=BlockMenu_taggedTemplateLiteral(["\n  list-style: none;\n  text-align: left;\n  height: 100%;\n  padding: 8px 0;\n  margin: 0;\n"]))),BlockMenu_ListItem=styled_components_browser_esm.b.li(_templateObject4||(_templateObject4=BlockMenu_taggedTemplateLiteral(["\n  padding: 0;\n  margin: 0;\n"]))),Empty=styled_components_browser_esm.b.div(_templateObject5||(_templateObject5=BlockMenu_taggedTemplateLiteral(["\n  display: flex;\n  align-items: center;\n  color: ",";\n  font-weight: 500;\n  font-size: 14px;\n  height: 36px;\n  padding: 0 16px;\n"])),(function(props){return props.theme.textSecondary})),BlockMenu_Wrapper=styled_components_browser_esm.b.div(_templateObject6||(_templateObject6=BlockMenu_taggedTemplateLiteral(["\n  color: ",";\n  position: absolute;\n  z-index: ",";\n  ",";\n  ",";\n  left: ","px;\n  background-color: ",";\n  border-radius: 4px;\n  box-shadow: rgba(0, 0, 0, 0.05) 0px 0px 0px 1px,\n    rgba(0, 0, 0, 0.08) 0px 4px 8px, rgba(0, 0, 0, 0.08) 0px 2px 4px;\n  opacity: 0;\n  transform: scale(0.95);\n  transition: opacity 150ms cubic-bezier(0.175, 0.885, 0.32, 1.275),\n    transform 150ms cubic-bezier(0.175, 0.885, 0.32, 1.275);\n  transition-delay: 150ms;\n  line-height: 0;\n  box-sizing: border-box;\n  pointer-events: none;\n  white-space: nowrap;\n  width: 320px;\n  max-height: 224px;\n  overflow: hidden;\n  overflow-y: auto;\n\n  * {\n    box-sizing: border-box;\n  }\n\n  hr {\n    border: 0;\n    height: 0;\n    border-top: 1px solid ",";\n  }\n\n  ",";\n\n  @media print {\n    display: none;\n  }\n"])),(function(props){return props.theme.text}),(function(props){return props.theme.zIndex+100}),(function(props){return void 0!==props.top&&"top: ".concat(props.top,"px")}),(function(props){return void 0!==props.bottom&&"bottom: ".concat(props.bottom,"px")}),(function(props){return props.left}),(function(props){return props.theme.blockToolbarBackground}),(function(props){return props.theme.blockToolbarDivider}),(function(_ref){var active=_ref.active,isAbove=_ref.isAbove;return active&&"\n    transform: translateY(".concat(isAbove?"6px":"-6px",") scale(1);\n    pointer-events: all;\n    opacity: 1;\n  ")})),components_BlockMenu=BlockMenu_BlockMenu;try{BlockMenu_Wrapper.displayName="Wrapper",BlockMenu_Wrapper.__docgenInfo={description:"",displayName:"Wrapper",props:{left:{defaultValue:null,description:"",name:"left",required:!1,type:{name:"number"}},ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"((instance: HTMLDivElement | null) => void) | RefObject<HTMLDivElement> | null"}},active:{defaultValue:null,description:"",name:"active",required:!0,type:{name:"boolean"}},isAbove:{defaultValue:null,description:"",name:"isAbove",required:!0,type:{name:"boolean"}},top:{defaultValue:null,description:"",name:"top",required:!1,type:{name:"number"}},bottom:{defaultValue:null,description:"",name:"bottom",required:!1,type:{name:"number"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"any"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"undefined"}},forwardedAs:{defaultValue:null,description:"",name:"forwardedAs",required:!1,type:{name:"undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/BlockMenu.tsx#Wrapper"]={docgenInfo:BlockMenu_Wrapper.__docgenInfo,name:"Wrapper",path:"src/components/BlockMenu.tsx#Wrapper"})}catch(__react_docgen_typescript_loader_error){}try{BlockMenu_BlockMenu.displayName="BlockMenu",BlockMenu_BlockMenu.__docgenInfo={description:"",displayName:"BlockMenu",props:{isActive:{defaultValue:null,description:"",name:"isActive",required:!0,type:{name:"boolean"}},commands:{defaultValue:null,description:"",name:"commands",required:!0,type:{name:"Record<string, any>"}},dictionary:{defaultValue:null,description:"",name:"dictionary",required:!0,type:{name:"{ addColumnAfter: string; addColumnBefore: string; addRowAfter: string; addRowBefore: string; alignCenter: string; alignLeft: string; alignRight: string; bulletList: string; checkboxList: string; ... 53 more ...; largeImage: string; }"}},view:{defaultValue:null,description:"",name:"view",required:!0,type:{name:"EditorView<any>"}},search:{defaultValue:null,description:"",name:"search",required:!0,type:{name:"string"}},uploadImage:{defaultValue:null,description:"",name:"uploadImage",required:!1,type:{name:"((file: File) => Promise<string>)"}},uploadSketch:{defaultValue:null,description:"",name:"uploadSketch",required:!1,type:{name:"((file?: File) => Promise<string>) | undefined"}},onImageUploadStart:{defaultValue:null,description:"",name:"onImageUploadStart",required:!1,type:{name:"(() => void)"}},onImageUploadStop:{defaultValue:null,description:"",name:"onImageUploadStop",required:!1,type:{name:"(() => void)"}},onShowToast:{defaultValue:null,description:"",name:"onShowToast",required:!1,type:{name:"((message: string, id: string) => void)"}},onLinkToolbarOpen:{defaultValue:null,description:"",name:"onLinkToolbarOpen",required:!0,type:{name:"() => void"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}},embeds:{defaultValue:null,description:"",name:"embeds",required:!0,type:{name:"EmbedDescriptor[]"}},excludeBlockMenuItems:{defaultValue:null,description:"",name:"excludeBlockMenuItems",required:!1,type:{name:"string[]"}},upgradeCallback:{defaultValue:null,description:"",name:"upgradeCallback",required:!1,type:{name:"(() => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/BlockMenu.tsx#BlockMenu"]={docgenInfo:BlockMenu_BlockMenu.__docgenInfo,name:"BlockMenu",path:"src/components/BlockMenu.tsx#BlockMenu"})}catch(__react_docgen_typescript_loader_error){}var assert=__webpack_require__(360),assert_default=__webpack_require__.n(assert);function LinkToolbar_typeof(obj){return(LinkToolbar_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function LinkToolbar_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function LinkToolbar_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function LinkToolbar_setPrototypeOf(o,p){return(LinkToolbar_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function LinkToolbar_createSuper(Derived){var hasNativeReflectConstruct=function LinkToolbar_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=LinkToolbar_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=LinkToolbar_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return LinkToolbar_possibleConstructorReturn(this,result)}}function LinkToolbar_possibleConstructorReturn(self,call){return!call||"object"!==LinkToolbar_typeof(call)&&"function"!=typeof call?function LinkToolbar_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function LinkToolbar_getPrototypeOf(o){return(LinkToolbar_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function LinkToolbar_isActive(props){var view=props.view,selection=view.state.selection,paragraph=view.domAtPos(selection.$from.pos);return props.isActive&&!!paragraph.node}var LinkToolbar_LinkToolbar=function(_React$Component){!function LinkToolbar_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&LinkToolbar_setPrototypeOf(subClass,superClass)}(LinkToolbar,_React$Component);var _super=LinkToolbar_createSuper(LinkToolbar);function LinkToolbar(){var _this;LinkToolbar_classCallCheck(this,LinkToolbar);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=_super.call.apply(_super,[this].concat(args))).menuRef=react.createRef(),_this.state={left:-1e3,top:void 0},_this.handleOnSelectLink=function(_ref){var href=_ref.href,title=_ref.title,_this$props=_this.props,view=_this$props.view,onClose=_this$props.onClose;console.log("handleOnSelectLink",href,title),onClose(),_this.props.view.focus();var dispatch=view.dispatch,state=view.state,_state$selection=state.selection,from=_state$selection.from,to=_state$selection.to;assert_default()(from===to),_this.props.searchTriggerOpen&&(_this.props.resetSearchTrigger&&_this.props.resetSearchTrigger(),dispatch(view.state.tr.delete(from-2,from)),from-=2,to-=2),dispatch(view.state.tr.insertText(title,from,to).addMark(from,to+title.length,state.schema.marks.link.create({href:href})))},_this}return function LinkToolbar_createClass(Constructor,protoProps,staticProps){return protoProps&&LinkToolbar_defineProperties(Constructor.prototype,protoProps),staticProps&&LinkToolbar_defineProperties(Constructor,staticProps),Constructor}(LinkToolbar,[{key:"suggestedLinkTitle",get:function get(){var state=this.props.view.state;return state.doc.cut(state.selection.from,state.selection.to).textContent.trim()||""}},{key:"render",value:function render(){var LinkFinder=this.props.LinkFinder;return LinkToolbar_isActive(this.props)&&LinkFinder?Object(jsx_runtime.jsx)(LinkFinder,{callback:this.handleOnSelectLink,newSearchTerm:this.suggestedLinkTitle,onClose:this.props.onClose}):null}}]),LinkToolbar}(react.Component);try{LinkToolbar_isActive.displayName="isActive",LinkToolbar_isActive.__docgenInfo={description:"",displayName:"isActive",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/LinkToolbar.tsx#isActive"]={docgenInfo:LinkToolbar_isActive.__docgenInfo,name:"isActive",path:"src/components/LinkToolbar.tsx#isActive"})}catch(__react_docgen_typescript_loader_error){}try{LinkToolbar_LinkToolbar.displayName="LinkToolbar",LinkToolbar_LinkToolbar.__docgenInfo={description:"",displayName:"LinkToolbar",props:{isActive:{defaultValue:null,description:"",name:"isActive",required:!0,type:{name:"boolean"}},view:{defaultValue:null,description:"",name:"view",required:!0,type:{name:"EditorView<any>"}},tooltip:{defaultValue:null,description:"",name:"tooltip",required:!0,type:{name:"typeof Component | FC<any>"}},dictionary:{defaultValue:null,description:"",name:"dictionary",required:!0,type:{name:"{ addColumnAfter: string; addColumnBefore: string; addRowAfter: string; addRowBefore: string; alignCenter: string; alignLeft: string; alignRight: string; bulletList: string; checkboxList: string; ... 53 more ...; largeImage: string; }"}},onShowToast:{defaultValue:null,description:"",name:"onShowToast",required:!1,type:{name:"((msg: string, code: string) => void)"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}},searchTriggerOpen:{defaultValue:null,description:"",name:"searchTriggerOpen",required:!1,type:{name:"boolean"}},resetSearchTrigger:{defaultValue:null,description:"",name:"resetSearchTrigger",required:!1,type:{name:"(() => void)"}},LinkFinder:{defaultValue:null,description:"",name:"LinkFinder",required:!1,type:{name:"typeof Component | FC<any>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/LinkToolbar.tsx#LinkToolbar"]={docgenInfo:LinkToolbar_LinkToolbar.__docgenInfo,name:"LinkToolbar",path:"src/components/LinkToolbar.tsx#LinkToolbar"})}catch(__react_docgen_typescript_loader_error){}function Tooltip_Tooltip(_ref){var tooltip=_ref.tooltip,children=_ref.children;return Object(jsx_runtime.jsx)("span",{title:tooltip,children:children})}Tooltip_Tooltip.displayName="Tooltip";try{Tooltip_Tooltip.displayName="Tooltip",Tooltip_Tooltip.__docgenInfo={description:"",displayName:"Tooltip",props:{tooltip:{defaultValue:null,description:"",name:"tooltip",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Tooltip.tsx#Tooltip"]={docgenInfo:Tooltip_Tooltip.__docgenInfo,name:"Tooltip",path:"src/components/Tooltip.tsx#Tooltip"})}catch(__react_docgen_typescript_loader_error){}__webpack_require__(51),__webpack_require__(83);var prosemirror_markdown_dist_index_es=__webpack_require__(537);__webpack_require__(65),__webpack_require__(74);function serializer_slicedToArray(arr,i){return function serializer_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function serializer_iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function serializer_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return serializer_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return serializer_arrayLikeToArray(o,minLen)}(arr,i)||function serializer_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function serializer_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function serializer_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function serializer_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function serializer_createClass(Constructor,protoProps,staticProps){return protoProps&&serializer_defineProperties(Constructor.prototype,protoProps),staticProps&&serializer_defineProperties(Constructor,staticProps),Constructor}var MarkdownSerializer=function(){function MarkdownSerializer(nodes,marks){serializer_classCallCheck(this,MarkdownSerializer),this.nodes=nodes,this.marks=marks}return serializer_createClass(MarkdownSerializer,[{key:"serialize",value:function serialize(content,options){var state=new MarkdownSerializerState(this.nodes,this.marks,options);return state.renderContent(content),state.out}}]),MarkdownSerializer}(),MarkdownSerializerState=function(){function MarkdownSerializerState(nodes,marks,options){serializer_classCallCheck(this,MarkdownSerializerState),this.nodes=nodes,this.marks=marks,this.delim=this.out="",this.closed=!1,this.inTightList=!1,this.options=options||{},void 0===this.options.tightLists&&(this.options.tightLists=!0)}return serializer_createClass(MarkdownSerializerState,[{key:"flushClose",value:function flushClose(size){if(this.closed){if(this.atBlank()||(this.out+="\n"),null==size&&(size=2),size>1){var delimMin=this.delim,trim=/\s+$/.exec(delimMin);trim&&(delimMin=delimMin.slice(0,delimMin.length-trim[0].length));for(var i=1;i<size;i++)this.out+=delimMin+"\n"}this.closed=!1}}},{key:"wrapBlock",value:function wrapBlock(delim,firstDelim,node,f){var old=this.delim;this.write(firstDelim||delim),this.delim+=delim,f(),this.delim=old,this.closeBlock(node)}},{key:"atBlank",value:function atBlank(){return/(^|\n)$/.test(this.out)}},{key:"ensureNewLine",value:function ensureNewLine(){this.atBlank()||(this.out+="\n")}},{key:"write",value:function write(content){this.flushClose(),this.delim&&this.atBlank()&&(this.out+=this.delim),content&&(this.out+=content)}},{key:"closeBlock",value:function closeBlock(node){this.closed=node}},{key:"text",value:function text(_text,escape){for(var lines=_text.split("\n"),i=0;i<lines.length;i++){var startOfLine=this.atBlank()||this.closed;this.write(),this.out+=!1!==escape?this.esc(lines[i],startOfLine):lines[i],i!==lines.length-1&&(this.out+="\n")}}},{key:"render",value:function render(node,parent,index){if("number"==typeof parent)throw new Error("!");this.nodes[node.type.name](this,node,parent,index)}},{key:"renderContent",value:function renderContent(parent){var _this=this;parent.forEach((function(node,_,i){return _this.render(node,parent,i)}))}},{key:"renderInline",value:function renderInline(parent){var _this2=this,active=[],trailing="",progress=function progress(node,_,index){var marks=node?node.marks:[];node&&"hard_break"===node.type.name&&(marks=marks.filter((function(m){if(index+1===parent.childCount)return!1;var next=parent.child(index+1);return m.isInSet(next.marks)&&(!next.isText||/\S/.test(next.text))})));var leading=trailing;if(trailing="",node&&node.isText&&marks.some((function(mark){var info=_this2.marks[mark.type.name];return info&&info.expelEnclosingWhitespace}))){var _$exec2=serializer_slicedToArray(/^(\s*)(.*?)(\s*)$/m.exec(node.text),4),lead=(_$exec2[0],_$exec2[1]),_inner=_$exec2[2],trail=_$exec2[3];leading+=lead,trailing=trail,(lead||trail)&&((node=_inner?node.withText(_inner):null)||(marks=active))}var inner=marks.length&&marks[marks.length-1],noEsc=inner&&!1===_this2.marks[inner.type.name].escape,len=marks.length-(noEsc?1:0);outer:for(var i=0;i<len;i++){var mark=marks[i];if(!_this2.marks[mark.type.name].mixable)break;for(var j=0;j<active.length;j++){var other=active[j];if(!_this2.marks[other.type.name].mixable)break;if(mark.eq(other)){i>j?marks=marks.slice(0,j).concat(mark).concat(marks.slice(j,i)).concat(marks.slice(i+1,len)):j>i&&(marks=marks.slice(0,i).concat(marks.slice(i+1,j)).concat(mark).concat(marks.slice(j,len)));continue outer}}}for(var keep=0;keep<Math.min(active.length,len)&&marks[keep].eq(active[keep]);)++keep;for(;keep<active.length;)_this2.text(_this2.markString(active.pop(),!1,parent,index),!1);if(leading&&_this2.text(leading),node){for(;active.length<len;){var add=marks[active.length];active.push(add),_this2.text(_this2.markString(add,!0,parent,index),!1)}noEsc&&node.isText?_this2.text(_this2.markString(inner,!0,parent,index)+node.text+_this2.markString(inner,!1,parent,index+1),!1):_this2.render(node,parent,index)}};parent.forEach(progress),progress(null,0,parent.childCount)}},{key:"renderList",value:function renderList(node,delim,firstDelim){var _this3=this;this.closed&&this.closed.type===node.type?this.flushClose(3):this.inTightList&&this.flushClose(1);var isTight=void 0!==node.attrs.tight?node.attrs.tight:this.options.tightLists,prevTight=this.inTightList,prevList=this.inList;this.inList=!0,this.inTightList=isTight,node.forEach((function(child,_,i){i&&isTight&&_this3.flushClose(1),_this3.wrapBlock(delim,firstDelim(i),node,(function(){return _this3.render(child,node,i)}))})),this.inList=prevList,this.inTightList=prevTight}},{key:"renderTable",value:function renderTable(node){var _this4=this;this.flushClose(1);var headerBuffer="",prevTable=this.inTable;this.inTable=!0,this.out+="\n",node.forEach((function(row,_,i){headerBuffer&&(_this4.out+="".concat(headerBuffer,"|\n"),headerBuffer=void 0),row.forEach((function(cell,_,j){_this4.out+=0===j?"| ":" | ",cell.forEach((function(para){""===para.textContent?_this4.out+="  ":(_this4.closed=!1,_this4.render(para,row,j))})),0===i&&("center"===cell.attrs.alignment?headerBuffer+="|:---:":"left"===cell.attrs.alignment?headerBuffer+="|:---":"right"===cell.attrs.alignment?headerBuffer+="|---:":headerBuffer+="|----")})),_this4.out+=" |\n"})),this.inTable=prevTable}},{key:"esc",value:function esc(str,startOfLine){return str=str.replace(/[`*\\~\[\]]/g,"\\$&"),startOfLine&&(str=str.replace(/^[:#\-*+]/,"\\$&").replace(/^(\d+)\./,"$1\\.")),this.inTable&&(str=str.replace(/\|/gi,"\\$&")),str}},{key:"quote",value:function quote(str){var wrap=-1===str.indexOf('"')?'""':-1===str.indexOf("'")?"''":"()";return wrap[0]+str+wrap[1]}},{key:"repeat",value:function repeat(str,n){for(var out="",i=0;i<n;i++)out+=str;return out}},{key:"markString",value:function markString(mark,open,parent,index){var info=this.marks[mark.type.name],value=open?info.open:info.close;return"string"==typeof value?value:value(this,mark,parent,index)}},{key:"getEnclosingWhitespace",value:function getEnclosingWhitespace(text){return{leading:(text.match(/^(\s+)/)||[])[0],trailing:(text.match(/(\s+)$/)||[])[0]}}}]),MarkdownSerializerState}(),markdown_it=__webpack_require__(243),markdown_it_default=__webpack_require__.n(markdown_it),markdown_mark=function(options){options.delimEnd||(options.delimEnd=options.delim);var delimCharCode=options.delim.charCodeAt(0),delimEndCharCode=options.delimEnd.charCodeAt(0);return function emphasisPlugin(md){function postProcess(state,delimiters){var i,j,startDelim,endDelim,token,loneMarkers=[],max=delimiters.length;for(i=0;i<max;i++)if((startDelim=delimiters[i]).marker===delimCharCode||startDelim.marker===delimEndCharCode){if(-1===startDelim.end){var hackConditionForCurlyBrackets=![3].includes(startDelim.token);if(options.delimEnd===options.delim||!hackConditionForCurlyBrackets)continue;startDelim.end=1}try{endDelim=options.delimEnd===options.delim?delimiters[startDelim.end]:delimiters[delimiters[i].end],(token=state.tokens[startDelim.token]).type="".concat(options.mark,"_open"),token.tag="span",token.nesting=1,token.markup=options.delim,token.content="",(token=state.tokens[endDelim.token]).type="".concat(options.mark,"_close"),token.tag="span",token.nesting=-1,token.markup=options.delimEnd,token.content="",("text"===state.tokens[endDelim.token-1].type&&state.tokens[endDelim.token-1].content===options.delim[0]||options.delimEnd&&state.tokens[endDelim.token-1].content===options.delimEnd[0])&&loneMarkers.push(endDelim.token-1)}catch(e){console.warn("Error with token mark",e);continue}}for(;loneMarkers.length;){for(j=(i=loneMarkers.pop())+1;j<state.tokens.length&&state.tokens[j].type==="".concat(options.mark,"_close");)j++;i!==--j&&(token=state.tokens[j],state.tokens[j]=state.tokens[i],state.tokens[i]=token)}}md.inline.ruler.before("emphasis",options.mark,(function tokenize(state,silent){var i,start=state.pos,marker=state.src.charCodeAt(start);if(silent)return!1;if(marker!==delimCharCode&&marker!==delimEndCharCode)return!1;var scanned=state.scanDelims(state.pos,!0),ch=String.fromCharCode(marker),len=scanned.length;if(len<2)return!1;for(len%2&&(state.push("text","",0).content=ch,len--),i=0;i<len;i+=2)state.push("text","",0).content=ch+ch,(scanned.can_open||scanned.can_close)&&state.delimiters.push({marker:marker,length:0,jump:i,token:state.tokens.length-1,end:-1,open:scanned.can_open,close:scanned.can_close});return state.pos+=scanned.length,!0})),md.inline.ruler2.before("emphasis",options.mark,(function(state){var curr,tokensMeta=state.tokens_meta,max=(state.tokens_meta||[]).length;for(postProcess(state,state.delimiters),curr=0;curr<max;curr++)tokensMeta[curr]&&tokensMeta[curr].delimiters&&postProcess(state,tokensMeta[curr].delimiters)}))}},CHECKBOX_REGEX=/\[(X|\s|_|-)\]\s(.*)?/i;function looksLikeChecklist(tokens,index){return function isInline(token){return"inline"===token.type}(tokens[index])&&function isParagraph(token){return"paragraph_open"===token.type}(tokens[index-1])&&function checkboxes_matches(token){return token.content.match(CHECKBOX_REGEX)}(tokens[index])}function markdownItCheckbox(md){md.core.ruler.after("inline","checkboxes",(function(state){for(var tokens=state.tokens,i=tokens.length-1;i>0;i--){var _matches=looksLikeChecklist(tokens,i);if(_matches){var checked="x"===_matches[1].toLowerCase();"bullet_list_open"===tokens[i-3].type&&(tokens[i-3].type="checkbox_list_open"),"bullet_list_close"===tokens[i+3].type&&(tokens[i+3].type="checkbox_list_close");var tokenChildren=tokens[i].children;if(tokenChildren){var contentMatches=tokenChildren[0].content.match(CHECKBOX_REGEX);if(contentMatches){var label=contentMatches[2];tokens[i].content=label,tokenChildren[0].content=label}}tokens[i-2].type="checkbox_item_open",!0===checked&&(tokens[i-2].attrs=[["checked","true"]]);for(var j=i;"list_item_close"!==tokens[j].type;)j++;tokens[j].type="checkbox_item_close"}}return!1}))}__webpack_require__(223);var lib_token=__webpack_require__(100),token_default=__webpack_require__.n(lib_token);function embeds_createForOfIteratorHelper(o,allowArrayLike){var it;if("undefined"==typeof Symbol||null==o[Symbol.iterator]){if(Array.isArray(o)||(it=function embeds_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return embeds_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return embeds_arrayLikeToArray(o,minLen)}(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=o[Symbol.iterator]()},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function embeds_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function embeds_isParagraph(token){return"paragraph_open"===token.type}function embeds_isInline(token){return"inline"===token.type&&1===token.level}function isLinkOpen(token){return"link_open"===token.type}function isLinkClose(token){return"link_close"===token.type}function breaks_toConsumableArray(arr){return function breaks_arrayWithoutHoles(arr){if(Array.isArray(arr))return breaks_arrayLikeToArray(arr)}(arr)||function breaks_iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||function breaks_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return breaks_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return breaks_arrayLikeToArray(o,minLen)}(arr)||function breaks_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function breaks_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function isHardbreak(token){return"hardbreak"===token.type||"text"===token.type&&"\\"===token.content}function markdownBreakToParagraphs(md){md.core.ruler.after("inline","breaks",(function(state){for(var Token=state.Token,tokens=state.tokens,i=tokens.length-1;i>0;i--){var tokenChildren=tokens[i].children||[],matches=tokenChildren.filter(isHardbreak);if(matches.length){var token=void 0,nodes=[],children=tokenChildren.filter((function(child){return!isHardbreak(child)})),count=matches.length;children.length&&count++;for(var _i=0;_i<count;_i++){var isLast=_i===count-1;token=new Token("paragraph_open","p",1),nodes.push(token);var text=new Token("text","",0);text.content="",(token=new Token("inline","",0)).level=1,token.children=isLast?[text].concat(breaks_toConsumableArray(children)):[text],token.content="",nodes.push(token),token=new Token("paragraph_close","p",-1),nodes.push(token)}tokens.splice.apply(tokens,[i-1,3].concat(nodes))}}return!1}))}var BREAK_REGEX=/(?:^|[^\\])\\n/;function markdownTables(md){md.core.ruler.after("inline","tables-pm",(function(state){for(var tokens=state.tokens,inside=!1,_loop=function _loop(i){if(inside&&tokens[i].level--,"inline"===tokens[i].type&&tokens[i].content.match(BREAK_REGEX)){var existing=tokens[i].children||[];tokens[i].children=[],existing.forEach((function(child){var _tokens$i$children3,breakParts=child.content.split(BREAK_REGEX);breakParts.length>1&&"code_inline"!==child.type?breakParts.forEach((function(part,index){var _tokens$i$children,token=new token_default.a("text","",1);if(token.content=part.trim(),null===(_tokens$i$children=tokens[i].children)||void 0===_tokens$i$children||_tokens$i$children.push(token),index<breakParts.length-1){var _tokens$i$children2,brToken=new token_default.a("br","br",1);null===(_tokens$i$children2=tokens[i].children)||void 0===_tokens$i$children2||_tokens$i$children2.push(brToken)}})):null===(_tokens$i$children3=tokens[i].children)||void 0===_tokens$i$children3||_tokens$i$children3.push(child)}))}if(["thead_open","thead_close","tbody_open","tbody_close"].includes(tokens[i].type)&&(inside=!inside,tokens.splice(i,1)),["th_open","td_open"].includes(tokens[i].type)){tokens.splice(i+1,0,new token_default.a("paragraph_open","p",1));var tokenAttrs=tokens[i].attrs;if(tokenAttrs){var style=tokenAttrs[0][1];tokens[i].info=style.split(":")[1]}}["th_close","td_close"].includes(tokens[i].type)&&tokens.splice(i,0,new token_default.a("paragraph_close","p",-1))},i=tokens.length-1;i>0;i--)_loop(i);return!1}))}var markdown_it_container=__webpack_require__(538),markdown_it_container_default=__webpack_require__.n(markdown_it_container);function notice(md){return markdown_it_container_default()(md,"notice",{marker:":",validate:function validate(){return!0}})}function markdownUnderlines(md){md.inline.ruler2.after("emphasis","underline",(function(state){for(var tokens=state.tokens,i=tokens.length-1;i>0;i--){var token=tokens[i];"__"===token.markup&&("strong_open"===token.type&&(tokens[i].tag="underline",tokens[i].type="underline_open"),"strong_close"===token.type&&(tokens[i].tag="underline",tokens[i].type="underline_close"))}return!1}))}__webpack_require__(519),__webpack_require__(244);function isValidDelim(state,pos){var prevChar,nextChar,max=state.posMax,can_open=!0,can_close=!0;return prevChar=pos>0?state.src.charCodeAt(pos-1):-1,nextChar=pos+1<=max?state.src.charCodeAt(pos+1):-1,(32===prevChar||9===prevChar||nextChar>=48&&nextChar<=57)&&(can_close=!1),32!==nextChar&&9!==nextChar||(can_open=!1),{can_open:can_open,can_close:can_close}}function math_inline(state,silent){var start,match,token,pos;if("$"!==state.src[state.pos])return!1;if(!isValidDelim(state,state.pos).can_open)return silent||(state.pending+="$"),state.pos+=1,!0;for(match=start=state.pos+1;-1!==(match=state.src.indexOf("$",match));){for(pos=match-1;"\\"===state.src[pos];)pos-=1;if((match-pos)%2==1)break;match+=1}return-1===match?(silent||(state.pending+="$"),state.pos=start,!0):match-start==0?(silent||(state.pending+="$$"),state.pos=start+1,!0):isValidDelim(state,match).can_close?(silent||((token=state.push("math_inline","math",0)).markup="$",token.content=state.src.slice(start,match)),state.pos=match+1,!0):(silent||(state.pending+="$"),state.pos=start,!0)}function math_display(state,start,end,silent){var firstLine,lastLine,next,lastPos,token,found=!1,pos=state.bMarks[start]+state.tShift[start],max=state.eMarks[start];if(pos+2>max)return!1;if("$$"!==state.src.slice(pos,pos+2))return!1;if(pos+=2,firstLine=state.src.slice(pos,max),silent)return!0;for("$$"===firstLine.trim().slice(-2)&&(firstLine=firstLine.trim().slice(0,-2),found=!0),next=start;!found&&!(++next>=end)&&!((pos=state.bMarks[next]+state.tShift[next])<(max=state.eMarks[next])&&state.tShift[next]<state.blkIndent);)"$$"===state.src.slice(pos,max).trim().slice(-2)&&(lastPos=state.src.slice(0,max).lastIndexOf("$$"),lastLine=state.src.slice(pos,lastPos),found=!0);return state.line=next+1,(token=state.push("math_display","math",0)).block=!0,token.content=(firstLine&&firstLine.trim()?firstLine+"\n":"")+state.getLines(start+1,next,state.tShift[start],!0)+(lastLine&&lastLine.trim()?lastLine:""),token.map=[start,state.line],token.markup="$$",!0}function math_plugin(md,options){options=options||{};md.inline.ruler.after("escape","math_inline",math_inline),md.block.ruler.after("blockquote","math_display",math_display,{alt:["paragraph","reference","blockquote","list"]})}function rules(_ref){var embeds=_ref.embeds,enableTemplatePlaceholder=_ref.enableTemplatePlaceholder,mdIt=markdown_it_default()("default",{breaks:!1,html:!1}).use(function(embeds){function isEmbed(token,link){var href=link.attrs?link.attrs[0][1]:"";if(!(href===token.content))return!1;if(!embeds)return!1;var _step,_iterator=embeds_createForOfIteratorHelper(embeds);try{for(_iterator.s();!(_step=_iterator.n()).done;){var embed=_step.value,matches=embed.matcher(href);if(matches)return Object.assign({},embed,{matches:matches})}}catch(err){_iterator.e(err)}finally{_iterator.f()}}return function markdownEmbeds(md){md.core.ruler.after("inline","embeds",(function(state){for(var insideLink,tokens=state.tokens,i=0;i<tokens.length-1;i++)if(embeds_isInline(tokens[i])&&embeds_isParagraph(tokens[i-1]))for(var tokenChildren=tokens[i].children||[],j=0;j<tokenChildren.length-1;j++){var current=tokenChildren[j];if(current)if(isLinkOpen(current))insideLink=current;else if(isLinkClose(current))insideLink=null;else if(insideLink){var result=isEmbed(current,insideLink);if(result){var content=current.content,token=new token_default.a("embed","iframe",0);token.attrSet("href",content),token.attrSet("component",result.component),token.attrSet("matches",result.matches),tokens.splice(i-1,3,token);break}}}return!1}))}}(embeds)).use(markdownBreakToParagraphs).use(markdownItCheckbox);return enableTemplatePlaceholder&&(mdIt=mdIt.use(markdown_mark({delim:"{{",delimEnd:"}}",mark:"placeholder"}))),mdIt=mdIt.use(markdown_mark({delim:"==",mark:"mark"})).use(markdownUnderlines).use(markdownTables).use(math_plugin).use(notice)}function ExtensionManager_slicedToArray(arr,i){return function ExtensionManager_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function ExtensionManager_iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||ExtensionManager_unsupportedIterableToArray(arr,i)||function ExtensionManager_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ExtensionManager_typeof(obj){return(ExtensionManager_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function ExtensionManager_toConsumableArray(arr){return function ExtensionManager_arrayWithoutHoles(arr){if(Array.isArray(arr))return ExtensionManager_arrayLikeToArray(arr)}(arr)||function ExtensionManager_iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||ExtensionManager_unsupportedIterableToArray(arr)||function ExtensionManager_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ExtensionManager_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return ExtensionManager_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ExtensionManager_arrayLikeToArray(o,minLen):void 0}}function ExtensionManager_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function ExtensionManager_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function ExtensionManager_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var ExtensionManager_ExtensionManager=function(){function ExtensionManager(){var extensions=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],editor=arguments.length>1?arguments[1]:void 0;ExtensionManager_classCallCheck(this,ExtensionManager),this.extensions=void 0,this.embeds=void 0,this.enableTemplatePlaceholder=void 0,editor&&extensions.forEach((function(extension){extension.bindEditor(editor)})),this.extensions=extensions,this.embeds=editor?editor.props.embeds:void 0,this.enableTemplatePlaceholder=!editor||editor.props.enableTemplatePlaceholder}return function ExtensionManager_createClass(Constructor,protoProps,staticProps){return protoProps&&ExtensionManager_defineProperties(Constructor.prototype,protoProps),staticProps&&ExtensionManager_defineProperties(Constructor,staticProps),Constructor}(ExtensionManager,[{key:"nodes",get:function get(){return this.extensions.filter((function(extension){return"node"===extension.type})).reduce((function(nodes,node){return Object.assign({},nodes,_defineProperty({},node.name,node.schema))}),{})}},{key:"serializer",value:function serializer(){var nodes=this.extensions.filter((function(extension){return"node"===extension.type})).reduce((function(nodes,extension){return Object.assign({},nodes,_defineProperty({},extension.name,extension.toMarkdown))}),{}),marks=this.extensions.filter((function(extension){return"mark"===extension.type})).reduce((function(marks,extension){return Object.assign({},marks,_defineProperty({},extension.name,extension.toMarkdown))}),{});return new MarkdownSerializer(nodes,marks)}},{key:"parser",value:function parser(_ref){var schema=_ref.schema,tokens=this.extensions.filter((function(extension){return"mark"===extension.type||"node"===extension.type})).reduce((function(nodes,extension){var md=extension.parseMarkdown();return md?Object.assign({},nodes,_defineProperty({},extension.markdownToken||extension.name,md)):nodes}),{});return new prosemirror_markdown_dist_index_es.a(schema,rules({embeds:this.embeds,enableTemplatePlaceholder:this.enableTemplatePlaceholder}),tokens)}},{key:"marks",get:function get(){return this.extensions.filter((function(extension){return"mark"===extension.type})).reduce((function(marks,_ref2){var name=_ref2.name,schema=_ref2.schema;return Object.assign({},marks,_defineProperty({},name,schema))}),{})}},{key:"plugins",get:function get(){return this.extensions.filter((function(extension){return extension.plugins})).reduce((function(allPlugins,_ref3){var plugins=_ref3.plugins;return[].concat(ExtensionManager_toConsumableArray(allPlugins),ExtensionManager_toConsumableArray(plugins))}),[])}},{key:"keymaps",value:function keymaps(_ref4){var schema=_ref4.schema,extensionKeymaps=this.extensions.filter((function(extension){return["extension"].includes(extension.type)})).filter((function(extension){return extension.keys})).map((function(extension){return extension.keys({schema:schema})})),nodeMarkKeymaps=this.extensions.filter((function(extension){return["node","mark"].includes(extension.type)})).filter((function(extension){return extension.keys})).map((function(extension){return extension.keys({type:schema["".concat(extension.type,"s")][extension.name],schema:schema})}));return[].concat(ExtensionManager_toConsumableArray(extensionKeymaps),ExtensionManager_toConsumableArray(nodeMarkKeymaps)).map((function(keys){return Object(prosemirror_keymap_dist_index_es.b)(keys)}))}},{key:"inputRules",value:function inputRules(_ref5){var schema=_ref5.schema,extensionInputRules=this.extensions.filter((function(extension){return["extension"].includes(extension.type)})).filter((function(extension){return extension.inputRules})).map((function(extension){return extension.inputRules({schema:schema})})),nodeMarkInputRules=this.extensions.filter((function(extension){return["node","mark"].includes(extension.type)})).filter((function(extension){return extension.inputRules})).map((function(extension){return extension.inputRules({type:schema["".concat(extension.type,"s")][extension.name],schema:schema})}));return[].concat(ExtensionManager_toConsumableArray(extensionInputRules),ExtensionManager_toConsumableArray(nodeMarkInputRules)).reduce((function(allInputRules,inputRules){return[].concat(ExtensionManager_toConsumableArray(allInputRules),ExtensionManager_toConsumableArray(inputRules))}),[])}},{key:"commands",value:function commands(_ref6){var schema=_ref6.schema,view=_ref6.view;return this.extensions.filter((function(extension){return extension.commands})).reduce((function(allCommands,extension){var name=extension.name,type=extension.type,commands={},value=extension.commands(Object.assign({schema:schema},["node","mark"].includes(type)?{type:schema["".concat(type,"s")][name]}:{})),apply=function apply(callback,attrs){return!!view.editable&&(view.focus(),callback(attrs)(view.state,view.dispatch,view))},handle=function handle(_name,_value){Array.isArray(_value)?commands[_name]=function(attrs){return _value.forEach((function(callback){return apply(callback,attrs)}))}:"function"==typeof _value&&(commands[_name]=function(attrs){return apply(_value,attrs)})};return"object"===ExtensionManager_typeof(value)?Object.entries(value).forEach((function(_ref7){var _ref8=ExtensionManager_slicedToArray(_ref7,2),commandName=_ref8[0],commandValue=_ref8[1];handle(commandName,commandValue)})):handle(name,value),Object.assign({},allCommands,commands)}),{})}}]),ExtensionManager}(),react_dom=__webpack_require__(68),react_dom_default=__webpack_require__.n(react_dom);function ComponentView_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var ComponentView_ComponentView=function(){function ComponentView(component,_ref){var editor=_ref.editor,extension=_ref.extension,node=_ref.node,view=_ref.view,getPos=_ref.getPos,decorations=_ref.decorations;!function ComponentView_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ComponentView),this.component=void 0,this.editor=void 0,this.extension=void 0,this.node=void 0,this.view=void 0,this.getPos=void 0,this.decorations=void 0,this.isSelected=!1,this.dom=void 0,this.component=component,this.editor=editor,this.extension=extension,this.getPos=getPos,this.decorations=decorations,this.node=node,this.view=view,this.dom=node.type.spec.inline?document.createElement("span"):document.createElement("div"),this.renderElement()}return function ComponentView_createClass(Constructor,protoProps,staticProps){return protoProps&&ComponentView_defineProperties(Constructor.prototype,protoProps),staticProps&&ComponentView_defineProperties(Constructor,staticProps),Constructor}(ComponentView,[{key:"renderElement",value:function renderElement(){var dark=this.editor.props.dark,theme=this.editor.props.theme||(dark?theme_dark:light),children=this.component({theme:theme,node:this.node,isSelected:this.isSelected,isEditable:this.view.editable,getPos:this.getPos});react_dom_default.a.render(Object(jsx_runtime.jsx)(styled_components_browser_esm.a,{theme:theme,children:children}),this.dom)}},{key:"update",value:function update(node){return node.type===this.node.type&&(this.node=node,this.renderElement(),!0)}},{key:"selectNode",value:function selectNode(){this.view.editable&&(this.isSelected=!0,this.renderElement())}},{key:"deselectNode",value:function deselectNode(){this.view.editable&&(this.isSelected=!1,this.renderElement())}},{key:"stopEvent",value:function stopEvent(){return!0}},{key:"destroy",value:function destroy(){this.dom&&react_dom_default.a.unmountComponentAtNode(this.dom),this.dom=null}},{key:"ignoreMutation",value:function ignoreMutation(){return!0}}]),ComponentView}(),lodash_escape=__webpack_require__(539),escape_default=__webpack_require__.n(lodash_escape),slugify=__webpack_require__(540),slugify_default=__webpack_require__.n(slugify);function safeSlugify(text){return"h-".concat(escape_default()(slugify_default()(text,{remove:/[!"#$%&'\.()*+,\/:;<=>?@\[\]\\^_`{|}~]/g,lower:!0})))}function headingToSlug(node){var index=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,slugified=safeSlugify(node.textContent);return 0===index?slugified:"".concat(slugified,"-").concat(index)}var prosemirror_math_dist_index_es=__webpack_require__(85);function Extension_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function Extension_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var Extension=function(){function Extension(){var options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Extension_classCallCheck(this,Extension),this.options=void 0,this.editor=void 0,this.options=Object.assign({},this.defaultOptions,options)}return function Extension_createClass(Constructor,protoProps,staticProps){return protoProps&&Extension_defineProperties(Constructor.prototype,protoProps),staticProps&&Extension_defineProperties(Constructor,staticProps),Constructor}(Extension,[{key:"bindEditor",value:function bindEditor(editor){this.editor=editor}},{key:"type",get:function get(){return"extension"}},{key:"name",get:function get(){return""}},{key:"plugins",get:function get(){return[]}},{key:"keys",value:function keys(options){return{}}},{key:"inputRules",value:function inputRules(options){return[]}},{key:"commands",value:function commands(options){return function(attrs){return function(){return!1}}}},{key:"defaultOptions",get:function get(){return{}}}]),Extension}();function Node_typeof(obj){return(Node_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function Node_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function Node_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function Node_setPrototypeOf(o,p){return(Node_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function Node_createSuper(Derived){var hasNativeReflectConstruct=function Node_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=Node_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=Node_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return Node_possibleConstructorReturn(this,result)}}function Node_possibleConstructorReturn(self,call){return!call||"object"!==Node_typeof(call)&&"function"!=typeof call?function Node_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function Node_getPrototypeOf(o){return(Node_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var Node=function(_Extension){!function Node_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&Node_setPrototypeOf(subClass,superClass)}(Node,_Extension);var _super=Node_createSuper(Node);function Node(){return Node_classCallCheck(this,Node),_super.apply(this,arguments)}return function Node_createClass(Constructor,protoProps,staticProps){return protoProps&&Node_defineProperties(Constructor.prototype,protoProps),staticProps&&Node_defineProperties(Constructor,staticProps),Constructor}(Node,[{key:"type",get:function get(){return"node"}},{key:"markdownToken",get:function get(){return""}},{key:"toMarkdown",value:function toMarkdown(state,node){console.error("toMarkdown not implemented",state,node)}},{key:"parseMarkdown",value:function parseMarkdown(){}}]),Node}(Extension);function Doc_typeof(obj){return(Doc_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function Doc_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function Doc_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function Doc_setPrototypeOf(o,p){return(Doc_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function Doc_createSuper(Derived){var hasNativeReflectConstruct=function Doc_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=Doc_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=Doc_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return Doc_possibleConstructorReturn(this,result)}}function Doc_possibleConstructorReturn(self,call){return!call||"object"!==Doc_typeof(call)&&"function"!=typeof call?function Doc_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function Doc_getPrototypeOf(o){return(Doc_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var Doc=function(_Node){!function Doc_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&Doc_setPrototypeOf(subClass,superClass)}(Doc,_Node);var _super=Doc_createSuper(Doc);function Doc(){return Doc_classCallCheck(this,Doc),_super.apply(this,arguments)}return function Doc_createClass(Constructor,protoProps,staticProps){return protoProps&&Doc_defineProperties(Constructor.prototype,protoProps),staticProps&&Doc_defineProperties(Constructor,staticProps),Constructor}(Doc,[{key:"name",get:function get(){return"doc"}},{key:"schema",get:function get(){return{content:"block+"}}}]),Doc}(Node);function Text_typeof(obj){return(Text_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function Text_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function Text_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function Text_setPrototypeOf(o,p){return(Text_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function Text_createSuper(Derived){var hasNativeReflectConstruct=function Text_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=Text_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=Text_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return Text_possibleConstructorReturn(this,result)}}function Text_possibleConstructorReturn(self,call){return!call||"object"!==Text_typeof(call)&&"function"!=typeof call?function Text_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function Text_getPrototypeOf(o){return(Text_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var Text=function(_Node){!function Text_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&Text_setPrototypeOf(subClass,superClass)}(Text,_Node);var _super=Text_createSuper(Text);function Text(){return Text_classCallCheck(this,Text),_super.apply(this,arguments)}return function Text_createClass(Constructor,protoProps,staticProps){return protoProps&&Text_defineProperties(Constructor.prototype,protoProps),staticProps&&Text_defineProperties(Constructor,staticProps),Constructor}(Text,[{key:"name",get:function get(){return"text"}},{key:"schema",get:function get(){return{group:"inline"}}},{key:"toMarkdown",value:function toMarkdown(state,node){state.text(node.text)}}]),Text}(Node);function toggleWrap(type,attrs){return function(state,dispatch){return queries_isNodeActive(type)(state)?Object(prosemirror_commands_dist_index_es.e)(state,dispatch):Object(prosemirror_commands_dist_index_es.j)(type,attrs)(state,dispatch)}}function Blockquote_typeof(obj){return(Blockquote_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function Blockquote_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function Blockquote_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function Blockquote_setPrototypeOf(o,p){return(Blockquote_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function Blockquote_createSuper(Derived){var hasNativeReflectConstruct=function Blockquote_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=Blockquote_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=Blockquote_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return Blockquote_possibleConstructorReturn(this,result)}}function Blockquote_possibleConstructorReturn(self,call){return!call||"object"!==Blockquote_typeof(call)&&"function"!=typeof call?function Blockquote_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function Blockquote_getPrototypeOf(o){return(Blockquote_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var Blockquote_Blockquote=function(_Node){!function Blockquote_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&Blockquote_setPrototypeOf(subClass,superClass)}(Blockquote,_Node);var _super=Blockquote_createSuper(Blockquote);function Blockquote(){return Blockquote_classCallCheck(this,Blockquote),_super.apply(this,arguments)}return function Blockquote_createClass(Constructor,protoProps,staticProps){return protoProps&&Blockquote_defineProperties(Constructor.prototype,protoProps),staticProps&&Blockquote_defineProperties(Constructor,staticProps),Constructor}(Blockquote,[{key:"name",get:function get(){return"blockquote"}},{key:"schema",get:function get(){return{content:"block+",group:"block",defining:!0,parseDOM:[{tag:"blockquote"}],toDOM:function toDOM(){return["blockquote",0]}}}},{key:"inputRules",value:function inputRules(_ref){var type=_ref.type;return[Object(prosemirror_inputrules_dist_index_es.g)(/^\s*>\s$/,type)]}},{key:"commands",value:function commands(_ref2){var type=_ref2.type;return function(){return toggleWrap(type)}}},{key:"keys",value:function keys(_ref3){var type=_ref3.type;return{"Ctrl->":toggleWrap(type),"Mod-]":toggleWrap(type)}}},{key:"toMarkdown",value:function toMarkdown(state,node){state.wrapBlock("> ",null,node,(function(){return state.renderContent(node)}))}},{key:"parseMarkdown",value:function parseMarkdown(){return{block:"blockquote"}}}]),Blockquote}(Node),prosemirror_schema_list_dist_index_es=__webpack_require__(75);function isList_isList(node,schema){return node.type===schema.nodes.bullet_list||node.type===schema.nodes.ordered_list||node.type===schema.nodes.todo_list}function toggleList(listType,itemType){return function(state,dispatch){var schema=state.schema,selection=state.selection,$from=selection.$from,$to=selection.$to,range=$from.blockRange($to);if(!range)return!1;var parentList=Object(dist.findParentNode)((function(node){return isList_isList(node,schema)}))(selection);if(range.depth>=1&&parentList&&range.depth-parentList.depth<=1){if(parentList.node.type===listType)return Object(prosemirror_schema_list_dist_index_es.a)(itemType)(state,dispatch);if(isList_isList(parentList.node,schema)&&listType.validContent(parentList.node.content)){var _tr=state.tr;return _tr.setNodeMarkup(parentList.pos,listType),dispatch&&dispatch(_tr),!1}}return Object(prosemirror_schema_list_dist_index_es.d)(listType)(state,dispatch)}}function BulletList_typeof(obj){return(BulletList_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function BulletList_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function BulletList_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function BulletList_setPrototypeOf(o,p){return(BulletList_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function BulletList_createSuper(Derived){var hasNativeReflectConstruct=function BulletList_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=BulletList_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=BulletList_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return BulletList_possibleConstructorReturn(this,result)}}function BulletList_possibleConstructorReturn(self,call){return!call||"object"!==BulletList_typeof(call)&&"function"!=typeof call?function BulletList_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function BulletList_getPrototypeOf(o){return(BulletList_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var BulletList_BulletList=function(_Node){!function BulletList_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&BulletList_setPrototypeOf(subClass,superClass)}(BulletList,_Node);var _super=BulletList_createSuper(BulletList);function BulletList(){return BulletList_classCallCheck(this,BulletList),_super.apply(this,arguments)}return function BulletList_createClass(Constructor,protoProps,staticProps){return protoProps&&BulletList_defineProperties(Constructor.prototype,protoProps),staticProps&&BulletList_defineProperties(Constructor,staticProps),Constructor}(BulletList,[{key:"name",get:function get(){return"bullet_list"}},{key:"schema",get:function get(){return{content:"list_item+",group:"block",parseDOM:[{tag:"ul"}],toDOM:function toDOM(){return["ul",0]}}}},{key:"commands",value:function commands(_ref){var type=_ref.type,schema=_ref.schema;return function(){return toggleList(type,schema.nodes.list_item)}}},{key:"keys",value:function keys(_ref2){return{"Shift-Ctrl-8":toggleList(_ref2.type,_ref2.schema.nodes.list_item)}}},{key:"inputRules",value:function inputRules(_ref3){var type=_ref3.type;return[Object(prosemirror_inputrules_dist_index_es.g)(/^\s*([-+*])\s$/,type)]}},{key:"toMarkdown",value:function toMarkdown(state,node){state.renderList(node,"  ",(function(){return(node.attrs.bullet||"*")+" "}))}},{key:"parseMarkdown",value:function parseMarkdown(){return{block:"bullet_list"}}}]),BulletList}(Node),core=__webpack_require__(151),core_default=__webpack_require__.n(core),bash=__webpack_require__(356),bash_default=__webpack_require__.n(bash),css=__webpack_require__(234),css_default=__webpack_require__.n(css),clike=__webpack_require__(358),clike_default=__webpack_require__.n(clike),csharp=__webpack_require__(541),csharp_default=__webpack_require__.n(csharp),go=__webpack_require__(542),go_default=__webpack_require__.n(go),java=__webpack_require__(543),java_default=__webpack_require__.n(java),javascript=__webpack_require__(359),javascript_default=__webpack_require__.n(javascript),json=__webpack_require__(357),json_default=__webpack_require__.n(json),markup=__webpack_require__(235),markup_default=__webpack_require__.n(markup),php=__webpack_require__(544),php_default=__webpack_require__.n(php),python=__webpack_require__(545),python_default=__webpack_require__.n(python),powershell=__webpack_require__(546),powershell_default=__webpack_require__.n(powershell),ruby=__webpack_require__(547),ruby_default=__webpack_require__.n(ruby),sql=__webpack_require__(548),sql_default=__webpack_require__.n(sql),typescript=__webpack_require__(236),typescript_default=__webpack_require__.n(typescript),copy_to_clipboard=__webpack_require__(245),copy_to_clipboard_default=__webpack_require__.n(copy_to_clipboard),flattenDeep=__webpack_require__(549),flattenDeep_default=__webpack_require__.n(flattenDeep);function Prism_toConsumableArray(arr){return function Prism_arrayWithoutHoles(arr){if(Array.isArray(arr))return Prism_arrayLikeToArray(arr)}(arr)||function Prism_iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||function Prism_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return Prism_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Prism_arrayLikeToArray(o,minLen)}(arr)||function Prism_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Prism_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var LANGUAGES={none:"None",bash:"Bash",css:"CSS",clike:"C",csharp:"C#",go:"Go",markup:"HTML",java:"Java",javascript:"JavaScript",json:"JSON",php:"PHP",powershell:"Powershell",python:"Python",ruby:"Ruby",sql:"SQL",typescript:"TypeScript"};function getDecorations(_ref){var doc=_ref.doc,name=_ref.name,decorations=[];return Object(dist.findBlockNodes)(doc).filter((function(item){return item.node.type.name===name})).forEach((function(block){var startPos=block.pos+1,language=block.node.attrs.language;if(language&&"none"!==language&&core_default.a.registered(language)){var nodes=core_default.a.highlight(block.node.textContent,language);flattenDeep_default()(function parseNodes(nodes){var classNames=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return nodes.map((function(node){if("element"===node.type){var classes=[].concat(Prism_toConsumableArray(classNames),Prism_toConsumableArray(node.properties.className||[]));return parseNodes(node.children,classes)}return{text:node.value,classes:classNames}}))}(nodes)).map((function(node){var from=startPos,to=from+node.text.length;return startPos=to,Object.assign({},node,{from:from,to:to})})).forEach((function(node){var decoration=prosemirror_view_dist_index_es.a.inline(node.from,node.to,{class:(node.classes||[]).join(" ")});decorations.push(decoration)}))}})),prosemirror_view_dist_index_es.b.create(doc,decorations)}function CodeFence_typeof(obj){return(CodeFence_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function CodeFence_slicedToArray(arr,i){return function CodeFence_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function CodeFence_iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function CodeFence_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return CodeFence_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CodeFence_arrayLikeToArray(o,minLen)}(arr,i)||function CodeFence_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function CodeFence_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function CodeFence_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function CodeFence_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function CodeFence_setPrototypeOf(o,p){return(CodeFence_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function CodeFence_createSuper(Derived){var hasNativeReflectConstruct=function CodeFence_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=CodeFence_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=CodeFence_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return CodeFence_possibleConstructorReturn(this,result)}}function CodeFence_possibleConstructorReturn(self,call){return!call||"object"!==CodeFence_typeof(call)&&"function"!=typeof call?function CodeFence_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function CodeFence_getPrototypeOf(o){return(CodeFence_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}[bash_default.a,css_default.a,clike_default.a,csharp_default.a,go_default.a,java_default.a,javascript_default.a,json_default.a,markup_default.a,php_default.a,python_default.a,powershell_default.a,ruby_default.a,sql_default.a,typescript_default.a].forEach(core_default.a.register);var CodeFence_CodeFence=function(_Node){!function CodeFence_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&CodeFence_setPrototypeOf(subClass,superClass)}(CodeFence,_Node);var _super=CodeFence_createSuper(CodeFence);function CodeFence(){var _this;CodeFence_classCallCheck(this,CodeFence);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=_super.call.apply(_super,[this].concat(args))).handleLanguageChange=function(event){var view=_this.editor.view,tr=view.state.tr,element=event.target,_element$getBoundingC=element.getBoundingClientRect(),top=_element$getBoundingC.top,left=_element$getBoundingC.left,result=view.posAtCoords({top:top,left:left});if(result){var transaction=tr.setNodeMarkup(result.inside,void 0,{language:element.value});view.dispatch(transaction)}},_this}return function CodeFence_createClass(Constructor,protoProps,staticProps){return protoProps&&CodeFence_defineProperties(Constructor.prototype,protoProps),staticProps&&CodeFence_defineProperties(Constructor,staticProps),Constructor}(CodeFence,[{key:"languageOptions",get:function get(){return Object.entries(LANGUAGES)}},{key:"name",get:function get(){return"code_fence"}},{key:"schema",get:function get(){var _this2=this;return{attrs:{language:{default:"javascript"}},content:"text*",marks:"",group:"block",code:!0,defining:!0,draggable:!1,parseDOM:[{tag:"pre",preserveWhitespace:"full"},{tag:".code-block",preserveWhitespace:"full",contentElement:"code",getAttrs:function getAttrs(dom){return{language:dom.dataset.language}}}],toDOM:function toDOM(node){var button=document.createElement("button");button.innerText="Copy",button.type="button",button.addEventListener("click",_this2.handleCopyToClipboard(node));var select=document.createElement("select");return select.addEventListener("change",_this2.handleLanguageChange),_this2.languageOptions.forEach((function(_ref){var _ref2=CodeFence_slicedToArray(_ref,2),key=_ref2[0],label=_ref2[1],option=document.createElement("option"),value="none"===key?"":key;option.value=value,option.innerText=label,option.selected=node.attrs.language===value,select.appendChild(option)})),["div",{class:"code-block","data-language":node.attrs.language},["div",{contentEditable:!1},select,button],["pre",["code",{spellCheck:!1},0]]]}}}},{key:"commands",value:function commands(_ref3){var type=_ref3.type;return function(){return Object(prosemirror_commands_dist_index_es.h)(type)}}},{key:"keys",value:function keys(_ref4){var type=_ref4.type;return{"Shift-Ctrl-\\":Object(prosemirror_commands_dist_index_es.h)(type)}}},{key:"handleCopyToClipboard",value:function handleCopyToClipboard(node){var _this3=this;return function(){copy_to_clipboard_default()(node.textContent),_this3.options.onShowToast&&_this3.options.onShowToast(_this3.options.dictionary.codeCopied,ToastType.Info)}}},{key:"plugins",get:function get(){return[(_ref2={name:this.name,deferred:!this.options.initialReadOnly},name=_ref2.name,_ref2$deferred=_ref2.deferred,deferred=void 0===_ref2$deferred||_ref2$deferred,new index_es.Plugin({key:new index_es.PluginKey("prism"),state:{init:function init(_,_ref3){var doc=_ref3.doc;if(!deferred)return getDecorations({doc:doc,name:name})},apply:function apply(transaction,decorationSet,oldState,state){var deferredInit=!decorationSet,nodeName=state.selection.$head.parent.type.name,previousNodeName=oldState.selection.$head.parent.type.name,codeBlockChanged=transaction.docChanged&&[nodeName,previousNodeName].includes(name);return deferredInit||codeBlockChanged?getDecorations({doc:transaction.doc,name:name}):decorationSet.map(transaction.mapping,transaction.doc)}},props:{decorations:function decorations(state){return this.getState(state)}}}))];var _ref2,name,_ref2$deferred,deferred}},{key:"inputRules",value:function inputRules(_ref5){var type=_ref5.type;return[Object(prosemirror_inputrules_dist_index_es.e)(/^```$/,type)]}},{key:"toMarkdown",value:function toMarkdown(state,node){state.write("```"+(node.attrs.language||"")+"\n"),state.text(node.textContent,!1),state.ensureNewLine(),state.write("```"),state.closeBlock(node)}},{key:"markdownToken",get:function get(){return"fence"}},{key:"parseMarkdown",value:function parseMarkdown(){return{block:"code_block",getAttrs:function getAttrs(tok){return{language:tok.info}}}}}]),CodeFence}(Node);function CodeBlock_typeof(obj){return(CodeBlock_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function CodeBlock_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function CodeBlock_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function CodeBlock_setPrototypeOf(o,p){return(CodeBlock_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function CodeBlock_createSuper(Derived){var hasNativeReflectConstruct=function CodeBlock_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=CodeBlock_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=CodeBlock_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return CodeBlock_possibleConstructorReturn(this,result)}}function CodeBlock_possibleConstructorReturn(self,call){return!call||"object"!==CodeBlock_typeof(call)&&"function"!=typeof call?function CodeBlock_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function CodeBlock_getPrototypeOf(o){return(CodeBlock_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var CodeBlock=function(_CodeFence){!function CodeBlock_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&CodeBlock_setPrototypeOf(subClass,superClass)}(CodeBlock,_CodeFence);var _super=CodeBlock_createSuper(CodeBlock);function CodeBlock(){return CodeBlock_classCallCheck(this,CodeBlock),_super.apply(this,arguments)}return function CodeBlock_createClass(Constructor,protoProps,staticProps){return protoProps&&CodeBlock_defineProperties(Constructor.prototype,protoProps),staticProps&&CodeBlock_defineProperties(Constructor,staticProps),Constructor}(CodeBlock,[{key:"name",get:function get(){return"code_block"}},{key:"markdownToken",get:function get(){return"code_block"}}]),CodeBlock}(CodeFence_CodeFence);function CheckboxList_typeof(obj){return(CheckboxList_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function CheckboxList_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function CheckboxList_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function CheckboxList_setPrototypeOf(o,p){return(CheckboxList_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function CheckboxList_createSuper(Derived){var hasNativeReflectConstruct=function CheckboxList_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=CheckboxList_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=CheckboxList_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return CheckboxList_possibleConstructorReturn(this,result)}}function CheckboxList_possibleConstructorReturn(self,call){return!call||"object"!==CheckboxList_typeof(call)&&"function"!=typeof call?function CheckboxList_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function CheckboxList_getPrototypeOf(o){return(CheckboxList_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var CheckboxList_CheckboxList=function(_Node){!function CheckboxList_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&CheckboxList_setPrototypeOf(subClass,superClass)}(CheckboxList,_Node);var _super=CheckboxList_createSuper(CheckboxList);function CheckboxList(){return CheckboxList_classCallCheck(this,CheckboxList),_super.apply(this,arguments)}return function CheckboxList_createClass(Constructor,protoProps,staticProps){return protoProps&&CheckboxList_defineProperties(Constructor.prototype,protoProps),staticProps&&CheckboxList_defineProperties(Constructor,staticProps),Constructor}(CheckboxList,[{key:"name",get:function get(){return"checkbox_list"}},{key:"schema",get:function get(){var _this=this;return{group:"block",content:"checkbox_item+",toDOM:function toDOM(){return["ul",{class:_this.name},0]},parseDOM:[{tag:'[class="'.concat(this.name,'"]')}]}}},{key:"keys",value:function keys(_ref){return{"Shift-Ctrl-7":toggleList(_ref.type,_ref.schema.nodes.checkbox_item)}}},{key:"commands",value:function commands(_ref2){var type=_ref2.type,schema=_ref2.schema;return function(){return toggleList(type,schema.nodes.checkbox_item)}}},{key:"inputRules",value:function inputRules(_ref3){var type=_ref3.type;return[Object(prosemirror_inputrules_dist_index_es.g)(/^-?\s*(\[ \])\s$/i,type)]}},{key:"toMarkdown",value:function toMarkdown(state,node){state.renderList(node,"  ",(function(){return"- "}))}},{key:"parseMarkdown",value:function parseMarkdown(){return{block:"checkbox_list"}}}]),CheckboxList}(Node);function CheckboxItem_typeof(obj){return(CheckboxItem_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function CheckboxItem_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function CheckboxItem_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function CheckboxItem_setPrototypeOf(o,p){return(CheckboxItem_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function CheckboxItem_createSuper(Derived){var hasNativeReflectConstruct=function CheckboxItem_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=CheckboxItem_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=CheckboxItem_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return CheckboxItem_possibleConstructorReturn(this,result)}}function CheckboxItem_possibleConstructorReturn(self,call){return!call||"object"!==CheckboxItem_typeof(call)&&"function"!=typeof call?function CheckboxItem_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function CheckboxItem_getPrototypeOf(o){return(CheckboxItem_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var CheckboxItem_CheckboxItem=function(_Node){!function CheckboxItem_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&CheckboxItem_setPrototypeOf(subClass,superClass)}(CheckboxItem,_Node);var _super=CheckboxItem_createSuper(CheckboxItem);function CheckboxItem(){var _this;CheckboxItem_classCallCheck(this,CheckboxItem);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=_super.call.apply(_super,[this].concat(args))).handleChange=function(event){var view=_this.editor.view,tr=view.state.tr,_event$target$getBoun=event.target.getBoundingClientRect(),top=_event$target$getBoun.top,left=_event$target$getBoun.left,result=view.posAtCoords({top:top,left:left});if(result){var transaction=tr.setNodeMarkup(result.inside,void 0,{checked:event.target.checked});view.dispatch(transaction)}},_this}return function CheckboxItem_createClass(Constructor,protoProps,staticProps){return protoProps&&CheckboxItem_defineProperties(Constructor.prototype,protoProps),staticProps&&CheckboxItem_defineProperties(Constructor,staticProps),Constructor}(CheckboxItem,[{key:"name",get:function get(){return"checkbox_item"}},{key:"schema",get:function get(){var _this2=this;return{attrs:{checked:{default:!1}},content:"paragraph block*",defining:!0,draggable:!1,parseDOM:[{tag:'li[data-type="'.concat(this.name,'"]'),getAttrs:function getAttrs(dom){return{checked:dom.className.includes("checked")}}}],toDOM:function toDOM(node){var input=document.createElement("input");return input.type="checkbox",input.addEventListener("change",_this2.handleChange),node.attrs.checked&&(input.checked=!0),["li",{"data-type":_this2.name,class:node.attrs.checked?"checked":void 0},["span",{contentEditable:!1},input],["div",0]]}}}},{key:"keys",value:function keys(_ref){var type=_ref.type;return{Enter:Object(prosemirror_schema_list_dist_index_es.c)(type),Tab:Object(prosemirror_schema_list_dist_index_es.b)(type),"Shift-Tab":Object(prosemirror_schema_list_dist_index_es.a)(type),"Mod-]":Object(prosemirror_schema_list_dist_index_es.b)(type),"Mod-[":Object(prosemirror_schema_list_dist_index_es.a)(type)}}},{key:"toMarkdown",value:function toMarkdown(state,node){state.write(node.attrs.checked?"[x] ":"[ ] "),state.renderContent(node)}},{key:"parseMarkdown",value:function parseMarkdown(){return{block:"checkbox_item",getAttrs:function getAttrs(tok){return{checked:!!tok.attrGet("checked")||void 0}}}}}]),CheckboxItem}(Node);function Embed_typeof(obj){return(Embed_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function Embed_createForOfIteratorHelper(o,allowArrayLike){var it;if("undefined"==typeof Symbol||null==o[Symbol.iterator]){if(Array.isArray(o)||(it=function Embed_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return Embed_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Embed_arrayLikeToArray(o,minLen)}(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=o[Symbol.iterator]()},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function Embed_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function Embed_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function Embed_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function Embed_setPrototypeOf(o,p){return(Embed_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function Embed_createSuper(Derived){var hasNativeReflectConstruct=function Embed_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=Embed_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=Embed_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return Embed_possibleConstructorReturn(this,result)}}function Embed_possibleConstructorReturn(self,call){return!call||"object"!==Embed_typeof(call)&&"function"!=typeof call?function Embed_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function Embed_getPrototypeOf(o){return(Embed_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var Embed_Embed=function(_Node){!function Embed_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&Embed_setPrototypeOf(subClass,superClass)}(Embed,_Node);var _super=Embed_createSuper(Embed);function Embed(){return Embed_classCallCheck(this,Embed),_super.apply(this,arguments)}return function Embed_createClass(Constructor,protoProps,staticProps){return protoProps&&Embed_defineProperties(Constructor.prototype,protoProps),staticProps&&Embed_defineProperties(Constructor,staticProps),Constructor}(Embed,[{key:"name",get:function get(){return"embed"}},{key:"schema",get:function get(){var _this=this;return{content:"inline*",group:"block",atom:!0,attrs:{href:{},component:{},matches:{}},parseDOM:[{tag:"iframe",getAttrs:function getAttrs(dom){var embeds=_this.editor.props.embeds,href=dom.getAttribute("src")||"";if(embeds){var _step,_iterator=Embed_createForOfIteratorHelper(embeds);try{for(_iterator.s();!(_step=_iterator.n()).done;){var embed=_step.value,matches=embed.matcher(href);if(matches)return{href:href,component:embed.component,matches:matches}}}catch(err){_iterator.e(err)}finally{_iterator.f()}}return{}}}],toDOM:function toDOM(node){return["iframe",{src:node.attrs.href,contentEditable:!1},0]}}}},{key:"component",value:function component(_ref){var isEditable=_ref.isEditable,isSelected=_ref.isSelected,theme=_ref.theme,node=_ref.node,Component=node.attrs.component;return Object(jsx_runtime.jsx)(Component,{attrs:node.attrs,isEditable:isEditable,isSelected:isSelected,theme:theme})}},{key:"commands",value:function commands(_ref2){var type=_ref2.type;return function(attrs){return function(state,dispatch){return dispatch(state.tr.replaceSelectionWith(type.create(attrs)).scrollIntoView()),!0}}}},{key:"toMarkdown",value:function toMarkdown(state,node){state.ensureNewLine(),state.write("["+state.esc(node.attrs.href)+"]("+state.esc(node.attrs.href)+")"),state.write("\n\n")}},{key:"parseMarkdown",value:function parseMarkdown(){return{node:"embed",getAttrs:function getAttrs(token){return{href:token.attrGet("href"),matches:token.attrGet("matches"),component:token.attrGet("component")}}}}}]),Embed}(Node);function HardBreak_typeof(obj){return(HardBreak_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function HardBreak_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function HardBreak_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function HardBreak_setPrototypeOf(o,p){return(HardBreak_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function HardBreak_createSuper(Derived){var hasNativeReflectConstruct=function HardBreak_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=HardBreak_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=HardBreak_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return HardBreak_possibleConstructorReturn(this,result)}}function HardBreak_possibleConstructorReturn(self,call){return!call||"object"!==HardBreak_typeof(call)&&"function"!=typeof call?function HardBreak_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function HardBreak_getPrototypeOf(o){return(HardBreak_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var HardBreak_HardBreak=function(_Node){!function HardBreak_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&HardBreak_setPrototypeOf(subClass,superClass)}(HardBreak,_Node);var _super=HardBreak_createSuper(HardBreak);function HardBreak(){return HardBreak_classCallCheck(this,HardBreak),_super.apply(this,arguments)}return function HardBreak_createClass(Constructor,protoProps,staticProps){return protoProps&&HardBreak_defineProperties(Constructor.prototype,protoProps),staticProps&&HardBreak_defineProperties(Constructor,staticProps),Constructor}(HardBreak,[{key:"name",get:function get(){return"br"}},{key:"schema",get:function get(){return{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM:function toDOM(){return["br"]}}}},{key:"commands",value:function commands(_ref){var type=_ref.type;return function(){return function(state,dispatch){return dispatch(state.tr.replaceSelectionWith(type.create()).scrollIntoView()),!0}}}},{key:"keys",value:function keys(_ref2){var type=_ref2.type;return{"Shift-Enter":function ShiftEnter(state,dispatch){return!!Object(prosemirror_tables_dist_index_es.isInTable)(state)&&(dispatch(state.tr.replaceSelectionWith(type.create()).scrollIntoView()),!0)}}}},{key:"toMarkdown",value:function toMarkdown(state){state.write(" \\n ")}},{key:"parseMarkdown",value:function parseMarkdown(){return{node:"br"}}}]),HardBreak}(Node);__webpack_require__(325),__webpack_require__(30),__webpack_require__(520);function backspaceToParagraph(type){return function(state,dispatch){var _state$selection=state.selection,$from=_state$selection.$from,from=_state$selection.from,to=_state$selection.to;return _state$selection.empty?$from.parent.type!==type||state.doc.resolve(from-1).parent===$from.parent?null:(dispatch(state.tr.setBlockType(from,to,type.schema.nodes.paragraph).scrollIntoView()),!0):null}}function Heading_typeof(obj){return(Heading_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function Heading_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function Heading_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function Heading_setPrototypeOf(o,p){return(Heading_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function Heading_createSuper(Derived){var hasNativeReflectConstruct=function Heading_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=Heading_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=Heading_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return Heading_possibleConstructorReturn(this,result)}}function Heading_possibleConstructorReturn(self,call){return!call||"object"!==Heading_typeof(call)&&"function"!=typeof call?function Heading_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function Heading_getPrototypeOf(o){return(Heading_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var Heading_Heading=function(_Node){!function Heading_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&Heading_setPrototypeOf(subClass,superClass)}(Heading,_Node);var _super=Heading_createSuper(Heading);function Heading(){var _this;Heading_classCallCheck(this,Heading);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=_super.call.apply(_super,[this].concat(args))).className="heading-name",_this.handleCopyLink=function(){return function(event){var anchor=event.currentTarget.parentNode.previousSibling;if(!anchor.className.includes(_this.className))throw new Error("Did not find anchor as previous sibling of heading");var hash="#".concat(anchor.id),urlWithoutHash=window.location.href.split("#")[0];copy_to_clipboard_default()(urlWithoutHash+hash),_this.options.onShowToast&&_this.options.onShowToast(_this.options.dictionary.linkCopied,ToastType.Info)}},_this}return function Heading_createClass(Constructor,protoProps,staticProps){return protoProps&&Heading_defineProperties(Constructor.prototype,protoProps),staticProps&&Heading_defineProperties(Constructor,staticProps),Constructor}(Heading,[{key:"name",get:function get(){return"heading"}},{key:"defaultOptions",get:function get(){return{levels:[1,2,3,4]}}},{key:"schema",get:function get(){var _this2=this;return{attrs:{layoutClass:{default:null},level:{default:1}},content:"inline*",group:"block",defining:!0,draggable:!1,parseDOM:this.options.levels.map((function(level){return{tag:"h".concat(level),attrs:{level:level},getAttrs:function getAttrs(dom){return _this2.extractLayoutClassFromDOM(dom)},contentElement:"span"}})),toDOM:function toDOM(node){return _this2.createDOMAttributes(node)}}}},{key:"toMarkdown",value:function toMarkdown(state,node){var alignment=node.attrs.layoutClass;alignment&&state.write("".concat(alignment,"> ")),state.write(state.repeat("#",node.attrs.level)+" "),state.renderInline(node),state.closeBlock(node)}},{key:"parseMarkdown",value:function parseMarkdown(){return{block:"heading",getAttrs:function getAttrs(token){return{level:+token.tag.slice(1)}}}}},{key:"commands",value:function commands(_ref){var type=_ref.type,schema=_ref.schema;return function(attrs){return function toggleBlockType(type,toggleType){var attrs=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(state,dispatch){return queries_isNodeActive(type,attrs)(state)?Object(prosemirror_commands_dist_index_es.h)(toggleType)(state,dispatch):Object(prosemirror_commands_dist_index_es.h)(type,attrs)(state,dispatch)}}(type,schema.nodes.paragraph,attrs)}}},{key:"keys",value:function keys(_ref2){var type=_ref2.type,options=this.options.levels.reduce((function(items,level){return Object.assign({},items,function Heading_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}({},"Shift-Ctrl-".concat(level),Object(prosemirror_commands_dist_index_es.h)(type,{level:level})))}),{});return Object.assign({},options,{Backspace:backspaceToParagraph(type)})}},{key:"plugins",get:function get(){var _this3=this,getAnchors=function getAnchors(doc){var decorations=[],previouslySeen={};return doc.descendants((function(node,pos){if(node.type.name===_this3.name){var slug=headingToSlug(node),id=slug;previouslySeen[slug]>0&&(id=headingToSlug(node,previouslySeen[slug])),previouslySeen[slug]=void 0!==previouslySeen[slug]?previouslySeen[slug]+1:1,decorations.push(prosemirror_view_dist_index_es.a.widget(pos,(function(){var anchor=document.createElement("a");return anchor.id=id,anchor.className=_this3.className,anchor}),{side:-1,key:id}))}})),prosemirror_view_dist_index_es.b.create(doc,decorations)},plugin=new index_es.Plugin({state:{init:function init(config,state){return getAnchors(state.doc)},apply:function apply(tr,oldState){return tr.docChanged?getAnchors(tr.doc):oldState}},props:{decorations:function decorations(state){return plugin.getState(state)}}});return[plugin]}},{key:"inputRules",value:function inputRules(_ref3){var type=_ref3.type;return this.options.levels.map((function(level){return Object(prosemirror_inputrules_dist_index_es.e)(new RegExp("^(#{1,".concat(level,"})\\s$")),type,(function(){return{level:level}}))}))}},{key:"extractLayoutClassFromDOM",value:function extractLayoutClassFromDOM(dom){var className=dom.className,layoutClassMatched=className&&className.match(/text-(.*)$/);return{layoutClass:layoutClassMatched?layoutClassMatched[1]:null}}},{key:"createDOMAttributes",value:function createDOMAttributes(node){var className=node.attrs.layoutClass?"text-".concat(node.attrs.layoutClass):null,button=document.createElement("button");return button.innerText="#",button.type="button",button.className="heading-anchor",button.addEventListener("click",this.handleCopyLink()),["h".concat(node.attrs.level+(this.options.offset||0)),["span",{class:className},0]]}}]),Heading}(Node);function HorizontalRule_typeof(obj){return(HorizontalRule_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function HorizontalRule_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function HorizontalRule_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function HorizontalRule_setPrototypeOf(o,p){return(HorizontalRule_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function HorizontalRule_createSuper(Derived){var hasNativeReflectConstruct=function HorizontalRule_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=HorizontalRule_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=HorizontalRule_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return HorizontalRule_possibleConstructorReturn(this,result)}}function HorizontalRule_possibleConstructorReturn(self,call){return!call||"object"!==HorizontalRule_typeof(call)&&"function"!=typeof call?function HorizontalRule_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function HorizontalRule_getPrototypeOf(o){return(HorizontalRule_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var Image_templateObject,Image_templateObject2,HorizontalRule_HorizontalRule=function(_Node){!function HorizontalRule_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&HorizontalRule_setPrototypeOf(subClass,superClass)}(HorizontalRule,_Node);var _super=HorizontalRule_createSuper(HorizontalRule);function HorizontalRule(){return HorizontalRule_classCallCheck(this,HorizontalRule),_super.apply(this,arguments)}return function HorizontalRule_createClass(Constructor,protoProps,staticProps){return protoProps&&HorizontalRule_defineProperties(Constructor.prototype,protoProps),staticProps&&HorizontalRule_defineProperties(Constructor,staticProps),Constructor}(HorizontalRule,[{key:"name",get:function get(){return"hr"}},{key:"schema",get:function get(){return{group:"block",parseDOM:[{tag:"hr"}],toDOM:function toDOM(){return["hr"]}}}},{key:"commands",value:function commands(_ref){var type=_ref.type;return function(){return function(state,dispatch){return dispatch(state.tr.replaceSelectionWith(type.create()).scrollIntoView()),!0}}}},{key:"keys",value:function keys(_ref2){var type=_ref2.type;return{"Mod-_":function Mod_(state,dispatch){return dispatch(state.tr.replaceSelectionWith(type.create()).scrollIntoView()),!0}}}},{key:"inputRules",value:function inputRules(_ref3){var type=_ref3.type;return[new prosemirror_inputrules_dist_index_es.a(/^(?:---|___\s|\*\*\*\s)$/,(function(state,match,start,end){var tr=state.tr;return match[0]&&tr.replaceWith(start-1,end,type.create({})),tr}))]}},{key:"toMarkdown",value:function toMarkdown(state,node){state.write(node.attrs.markup||"\n---"),state.closeBlock(node)}},{key:"parseMarkdown",value:function parseMarkdown(){return{node:"hr"}}}]),HorizontalRule}(Node),react_medium_image_zoom_lib=__webpack_require__(550),react_medium_image_zoom_lib_default=__webpack_require__.n(react_medium_image_zoom_lib);function Image_typeof(obj){return(Image_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function Image_taggedTemplateLiteral(strings,raw){return raw||(raw=strings.slice(0)),Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function Image_slicedToArray(arr,i){return function Image_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function Image_iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function Image_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return Image_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Image_arrayLikeToArray(o,minLen)}(arr,i)||function Image_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Image_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function Image_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function Image_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _wrapRegExp(re,groups){_wrapRegExp=function _wrapRegExp(re,groups){return new BabelRegExp(re,void 0,groups)};var _RegExp=_wrapNativeSuper(RegExp),_super=RegExp.prototype,_groups=new WeakMap;function BabelRegExp(re,flags,groups){var _this=_RegExp.call(this,re,flags);return _groups.set(_this,groups||_groups.get(re)),_this}function buildGroups(result,re){var g=_groups.get(re);return Object.keys(g).reduce((function(groups,name){return groups[name]=result[g[name]],groups}),Object.create(null))}return Image_inherits(BabelRegExp,_RegExp),BabelRegExp.prototype.exec=function(str){var result=_super.exec.call(this,str);return result&&(result.groups=buildGroups(result,this)),result},BabelRegExp.prototype[Symbol.replace]=function(str,substitution){if("string"==typeof substitution){var groups=_groups.get(this);return _super[Symbol.replace].call(this,str,substitution.replace(/\$<([^>]+)>/g,(function(_,name){return"$"+groups[name]})))}if("function"==typeof substitution){var _this=this;return _super[Symbol.replace].call(this,str,(function(){var args=[];return args.push.apply(args,arguments),"object"!==Image_typeof(args[args.length-1])&&args.push(buildGroups(args,_this)),substitution.apply(this,args)}))}return _super[Symbol.replace].call(this,str,substitution)},_wrapRegExp.apply(this,arguments)}function Image_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&Image_setPrototypeOf(subClass,superClass)}function Image_possibleConstructorReturn(self,call){return!call||"object"!==Image_typeof(call)&&"function"!=typeof call?function Image_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _wrapNativeSuper(Class){var _cache="function"==typeof Map?new Map:void 0;return(_wrapNativeSuper=function _wrapNativeSuper(Class){if(null===Class||!function _isNativeFunction(fn){return-1!==Function.toString.call(fn).indexOf("[native code]")}(Class))return Class;if("function"!=typeof Class)throw new TypeError("Super expression must either be null or a function");if(void 0!==_cache){if(_cache.has(Class))return _cache.get(Class);_cache.set(Class,Wrapper)}function Wrapper(){return _construct(Class,arguments,Image_getPrototypeOf(this).constructor)}return Wrapper.prototype=Object.create(Class.prototype,{constructor:{value:Wrapper,enumerable:!1,writable:!0,configurable:!0}}),Image_setPrototypeOf(Wrapper,Class)})(Class)}function _construct(Parent,args,Class){return(_construct=Image_isNativeReflectConstruct()?Reflect.construct:function _construct(Parent,args,Class){var a=[null];a.push.apply(a,args);var instance=new(Function.bind.apply(Parent,a));return Class&&Image_setPrototypeOf(instance,Class.prototype),instance}).apply(null,arguments)}function Image_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Image_setPrototypeOf(o,p){return(Image_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function Image_getPrototypeOf(o){return(Image_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var IMAGE_INPUT_REGEX=_wrapRegExp(/!\[(.*?)\]\((.*?)(?=\u201C|\))\u201C?((?:(?!\u201D)[\s\S])+)?\u201D?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]?((?:(?![\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF])[\s\S])+)?\)/,{alt:1,filename:2,layoutclass:3,sizeclass:4}),Image_uploadPlugin=function uploadPlugin(options){return new index_es.Plugin({props:{handleDOMEvents:{paste:function paste(view,event){if(view.props.editable&&!view.props.editable(view.state)||!options.uploadImage)return!1;if(!event.clipboardData)return!1;var files=Array.prototype.slice.call(event.clipboardData.items).map((function(dt){return dt.getAsFile()})).filter((function(file){return file}));if(0===files.length)return!1;var tr=view.state.tr;tr.selection.empty||tr.deleteSelection();var pos=tr.selection.from;return options.isImage=files[0].type.startsWith("image"),options.isAudio=files[0].type.startsWith("audio"),commands_insertFiles(view,event,pos,files,options),!0},drop:function drop(view,event){if(view.props.editable&&!view.props.editable(view.state)||!options.uploadImage)return!1;var files=getDataTransferFiles(event).filter((function(file){return file}));if(0===files.length)return!1;var result=view.posAtCoords({left:event.clientX,top:event.clientY});return!!result&&(options.isImage=files[0].type.startsWith("image"),options.isAudio=files[0].type.startsWith("audio"),commands_insertFiles(view,event,result.pos,files,options),!0)}}}})},IMAGE_CLASSES=["right","left","center","small","medium","large"],getLayoutAndTitle=function getLayoutAndTitle(tokenTitle){return console.log({tokenTitle:tokenTitle}),tokenTitle?IMAGE_CLASSES.includes(tokenTitle)?{layoutClass:tokenTitle,sizeClass:tokenTitle}:{title:tokenTitle}:{}},Image_Image=function(_Node){Image_inherits(Image,_Node);var _super2=function Image_createSuper(Derived){var hasNativeReflectConstruct=Image_isNativeReflectConstruct();return function _createSuperInternal(){var result,Super=Image_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=Image_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return Image_possibleConstructorReturn(this,result)}}(Image);function Image(){var _this2;Image_classCallCheck(this,Image);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this2=_super2.call.apply(_super2,[this].concat(args))).handleKeyDown=function(_ref){var node=_ref.node,getPos=_ref.getPos;return function(event){if("Enter"===event.key){event.preventDefault();var view=_this2.editor.view,pos=getPos()+node.nodeSize;return view.focus(),void view.dispatch(Object(dist.setTextSelection)(pos)(view.state.tr))}if("Backspace"===event.key&&""===event.target.innerText){var _view=_this2.editor.view,$pos=_view.state.doc.resolve(getPos()),tr=_view.state.tr.setSelection(new index_es.NodeSelection($pos));return _view.dispatch(tr.deleteSelection()),void _view.focus()}}},_this2.handleBlur=function(_ref2){var node=_ref2.node,getPos=_ref2.getPos;return function(event){var alt=event.target.innerText,_node$attrs=node.attrs,src=_node$attrs.src,title=_node$attrs.title,layoutClass=_node$attrs.layoutClass,sizeClass=_node$attrs.sizeClass;if(alt!==node.attrs.alt){var view=_this2.editor.view,tr=view.state.tr,pos=getPos(),transaction=tr.setNodeMarkup(pos,void 0,{src:src,alt:alt,title:title,layoutClass:layoutClass,sizeClass:sizeClass});view.dispatch(transaction)}}},_this2.handleSelect=function(_ref3){var getPos=_ref3.getPos;return function(event){event.preventDefault();var view=_this2.editor.view,$pos=view.state.doc.resolve(getPos()),transaction=view.state.tr.setSelection(new index_es.NodeSelection($pos));view.dispatch(transaction)}},_this2.component=function(props){var theme=props.theme,isSelected=props.isSelected,_props$node$attrs=props.node.attrs,alt=_props$node$attrs.alt,src=_props$node$attrs.src,title=_props$node$attrs.title,layoutClass=_props$node$attrs.layoutClass,sizeClass=_props$node$attrs.sizeClass,className="".concat(layoutClass?"image image-".concat(layoutClass):"image"," ").concat(sizeClass?"image-".concat(sizeClass):""),readOnly=_this2.editor.props.readOnly,isSvg=src.toLowerCase().endsWith(".svg");return Object(jsx_runtime.jsxs)("div",{contentEditable:!1,className:className,style:isSvg?{position:"absolute",width:"100%",top:"1.4em",zIndex:1}:void 0,children:[Object(jsx_runtime.jsx)(ImageWrapper,{className:isSelected?"ProseMirror-selectednode":"",onClick:_this2.handleSelect(props),children:Object(jsx_runtime.jsx)("div",{style:{pointerEvents:readOnly||isSelected?"initial":"none"},children:Object(jsx_runtime.jsx)(react_medium_image_zoom_lib_default.a,{image:{src:src,alt:alt,title:title},defaultStyles:{overlay:{backgroundColor:theme.background},zoomContainer:{zIndex:1300}},shouldRespectMaxDimension:!0})})}),Object(jsx_runtime.jsx)(Caption,{onKeyDown:_this2.handleKeyDown(props),onBlur:_this2.handleBlur(props),className:"caption",tabIndex:-1,role:readOnly?"":"textbox",contentEditable:!0,suppressContentEditableWarning:!0,children:alt})]})},_this2.getCurrentLayoutClass=function(state){var currentLayoutClass=state.selection.node.attrs.layoutClass;if(console.log({currentLayoutClass:currentLayoutClass}),currentLayoutClass){var firstIndex=currentLayoutClass.indexOf("-");currentLayoutClass=-1!==firstIndex?currentLayoutClass.substring(0,firstIndex):currentLayoutClass}return currentLayoutClass},_this2}return function Image_createClass(Constructor,protoProps,staticProps){return protoProps&&Image_defineProperties(Constructor.prototype,protoProps),staticProps&&Image_defineProperties(Constructor,staticProps),Constructor}(Image,[{key:"name",get:function get(){return"image"}},{key:"schema",get:function get(){return{inline:!0,attrs:{src:{},alt:{default:null},layoutClass:{default:null},sizeClass:{default:null},title:{default:null}},content:"text*",marks:"",group:"inline",selectable:!0,draggable:!0,parseDOM:[{tag:"div[class~=image]",getAttrs:function getAttrs(dom){var img=dom.getElementsByTagName("img")[0],className=dom.className,layoutClassMatched=className&&className.match(/image-(.*)$/),layoutClass=layoutClassMatched?layoutClassMatched[1]:null,sizeClassMatched=className&&className.match(/image-(.*)$/),sizeClass=sizeClassMatched?sizeClassMatched[1]:null;return{src:img.getAttribute("src"),alt:img.getAttribute("alt"),title:img.getAttribute("title"),layoutClass:layoutClass,sizeClass:sizeClass}}}],toDOM:function toDOM(node){var _node$attrs2=node.attrs,layoutClass=_node$attrs2.layoutClass,sizeClass=_node$attrs2.sizeClass;return["div",{class:"".concat(layoutClass?"image-".concat(layoutClass):"image"," ").concat(sizeClass?"image-".concat(sizeClass):"")},["img",Object.assign({},node.attrs,{contentEditable:!1})],["p",{class:"caption"},0]]}}}},{key:"toMarkdown",value:function toMarkdown(state,node){var markdown=" !["+state.esc((node.attrs.alt||"").replace("\n","")||"")+"]("+state.esc(node.attrs.src);node.attrs.layoutClass?markdown+=' "'+state.esc(node.attrs.layoutClass)+'"':node.attrs.title&&(markdown+=' "'+state.esc(node.attrs.title)+'"'),markdown+=")",state.write(markdown)}},{key:"parseMarkdown",value:function parseMarkdown(){return{node:"image",getAttrs:function getAttrs(token){return Object.assign({src:token.attrGet("src"),alt:token.children[0]&&token.children[0].content||null},getLayoutAndTitle(token.attrGet("title")))}}}},{key:"commands",value:function commands(_ref4){var _this3=this,type=_ref4.type;return{deleteImage:function deleteImage(){return function(state,dispatch){return dispatch(state.tr.deleteSelection()),!0}},alignRight:function alignRight(){return function(state,dispatch){var currentSizeClass=state.selection.node.attrs.sizeClass,attrs=Object.assign({},state.selection.node.attrs,{title:null,layoutClass:currentSizeClass?"right-".concat(currentSizeClass):"right"}),selection=state.selection;return dispatch(state.tr.setNodeMarkup(selection.$from.pos,void 0,attrs)),!0}},alignLeft:function alignLeft(){return function(state,dispatch){var currentSizeClass=state.selection.node.attrs.sizeClass,attrs=Object.assign({},state.selection.node.attrs,{title:null,layoutClass:currentSizeClass?"left-".concat(currentSizeClass):"left"}),selection=state.selection;return dispatch(state.tr.setNodeMarkup(selection.$from.pos,void 0,attrs)),!0}},alignCenter:function alignCenter(){return function(state,dispatch){var currentSizeClass=state.selection.node.attrs.sizeClass,attrs=Object.assign({},state.selection.node.attrs,{layoutClass:currentSizeClass?"center-".concat(currentSizeClass):"center"}),selection=state.selection;return dispatch(state.tr.setNodeMarkup(selection.$from.pos,void 0,attrs)),!0}},smallSize:function smallSize(){return function(state,dispatch){var currentLayoutClass=_this3.getCurrentLayoutClass(state),attrs=Object.assign({},state.selection.node.attrs,{title:null,layoutClass:currentLayoutClass?"".concat(currentLayoutClass,"-small"):"small",sizeClass:"small"}),selection=state.selection;return dispatch(state.tr.setNodeMarkup(selection.$from.pos,void 0,attrs)),!0}},mediumSize:function mediumSize(){return function(state,dispatch){var currentLayoutClass=_this3.getCurrentLayoutClass(state),attrs=Object.assign({},state.selection.node.attrs,{title:null,layoutClass:currentLayoutClass?"".concat(currentLayoutClass,"-medium"):"medium",sizeClass:"medium"}),selection=state.selection;return dispatch(state.tr.setNodeMarkup(selection.$from.pos,void 0,attrs)),!0}},largeSize:function largeSize(){return function(state,dispatch){var currentLayoutClass=_this3.getCurrentLayoutClass(state),attrs=Object.assign({},state.selection.node.attrs,{layoutClass:currentLayoutClass?"".concat(currentLayoutClass,"-large"):"large",sizeClass:"large"}),selection=state.selection;return dispatch(state.tr.setNodeMarkup(selection.$from.pos,void 0,attrs)),!0}},createImage:function createImage(attrs){return function(state,dispatch){var selection=state.selection,position=selection.$cursor?selection.$cursor.pos:selection.$to.pos,node=type.create(attrs);return dispatch(state.tr.insert(position,node)),!0}}}}},{key:"inputRules",value:function inputRules(_ref5){var type=_ref5.type;return[new prosemirror_inputrules_dist_index_es.a(IMAGE_INPUT_REGEX,(function(state,match,start,end){var _match=Image_slicedToArray(match,4),okay=_match[0],alt=_match[1],src=_match[2],matchedTitle=_match[3],tr=state.tr;return okay&&tr.replaceWith(start-1,end,type.create(Object.assign({src:src,alt:alt},getLayoutAndTitle(matchedTitle)))),tr}))]}},{key:"plugins",get:function get(){return[lib_uploadPlaceholder,Image_uploadPlugin(this.options)]}}]),Image}(Node),ImageWrapper=styled_components_browser_esm.b.span(Image_templateObject||(Image_templateObject=Image_taggedTemplateLiteral(["\n  line-height: 0;\n  display: inline-block;\n"]))),Caption=styled_components_browser_esm.b.p(Image_templateObject2||(Image_templateObject2=Image_taggedTemplateLiteral(["\n  border: 0;\n  display: block;\n  font-size: 13px;\n  font-style: italic;\n  color: ",";\n  padding: 2px 0;\n  line-height: 16px;\n  text-align: center;\n  min-height: 1em;\n  outline: none;\n  background: none;\n  resize: none;\n  user-select: text;\n  cursor: text;\n\n  &:empty:before {\n    color: ",';\n    content: "','";\n    pointer-events: none;\n  }\n'])),(function(props){return props.theme.textSecondary}),(function(props){return props.theme.placeholder}),(function(props){return props.role?"Write a caption":""}));function ListItem_typeof(obj){return(ListItem_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function ListItem_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function ListItem_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function ListItem_setPrototypeOf(o,p){return(ListItem_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function ListItem_createSuper(Derived){var hasNativeReflectConstruct=function ListItem_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=ListItem_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=ListItem_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return ListItem_possibleConstructorReturn(this,result)}}function ListItem_possibleConstructorReturn(self,call){return!call||"object"!==ListItem_typeof(call)&&"function"!=typeof call?function ListItem_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function ListItem_getPrototypeOf(o){return(ListItem_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var ListItem_ListItem=function(_Node){!function ListItem_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&ListItem_setPrototypeOf(subClass,superClass)}(ListItem,_Node);var _super=ListItem_createSuper(ListItem);function ListItem(){return ListItem_classCallCheck(this,ListItem),_super.apply(this,arguments)}return function ListItem_createClass(Constructor,protoProps,staticProps){return protoProps&&ListItem_defineProperties(Constructor.prototype,protoProps),staticProps&&ListItem_defineProperties(Constructor,staticProps),Constructor}(ListItem,[{key:"name",get:function get(){return"list_item"}},{key:"schema",get:function get(){return{content:"paragraph block*",defining:!0,draggable:!0,parseDOM:[{tag:"li"}],toDOM:function toDOM(){return["li",0]}}}},{key:"keys",value:function keys(_ref){var type=_ref.type;return{Enter:Object(prosemirror_schema_list_dist_index_es.c)(type),Tab:Object(prosemirror_schema_list_dist_index_es.b)(type),"Shift-Tab":Object(prosemirror_schema_list_dist_index_es.a)(type),"Mod-]":Object(prosemirror_schema_list_dist_index_es.b)(type),"Mod-[":Object(prosemirror_schema_list_dist_index_es.a)(type)}}},{key:"toMarkdown",value:function toMarkdown(state,node){state.renderContent(node)}},{key:"parseMarkdown",value:function parseMarkdown(){return{block:"list_item"}}}]),ListItem}(Node);__webpack_require__(1302),__webpack_require__(1365);function Math_typeof(obj){return(Math_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function Math_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function Math_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function Math_setPrototypeOf(o,p){return(Math_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function Math_createSuper(Derived){var hasNativeReflectConstruct=function Math_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=Math_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=Math_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return Math_possibleConstructorReturn(this,result)}}function Math_possibleConstructorReturn(self,call){return!call||"object"!==Math_typeof(call)&&"function"!=typeof call?function Math_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function Math_getPrototypeOf(o){return(Math_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var Math_Math=function(_Node){!function Math_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&Math_setPrototypeOf(subClass,superClass)}(Math,_Node);var _super=Math_createSuper(Math);function Math(){return Math_classCallCheck(this,Math),_super.apply(this,arguments)}return function Math_createClass(Constructor,protoProps,staticProps){return protoProps&&Math_defineProperties(Constructor.prototype,protoProps),staticProps&&Math_defineProperties(Constructor,staticProps),Constructor}(Math,[{key:"name",get:function get(){return"math_inline"}},{key:"schema",get:function get(){return{group:"inline math",content:"text*",inline:!0,atom:!0,toDOM:function toDOM(){return["math-inline",{class:"math-node"},0]},parseDOM:[{tag:"math-inline"}]}}},{key:"commands",value:function commands(_ref){var type=_ref.type;return function(){return Object(prosemirror_math_dist_index_es.c)(type)}}},{key:"inputRules",value:function inputRules(_ref2){var schema=_ref2.schema;return[Object(prosemirror_math_dist_index_es.e)(prosemirror_math_dist_index_es.b,schema.nodes.math_inline)]}},{key:"keys",value:function keys(_ref3){var type=_ref3.type;return{"Mod-Space":Object(prosemirror_math_dist_index_es.c)(type),Backspace:Object(prosemirror_commands_dist_index_es.b)(prosemirror_commands_dist_index_es.c,prosemirror_math_dist_index_es.f,prosemirror_commands_dist_index_es.d,prosemirror_commands_dist_index_es.g)}}},{key:"plugins",get:function get(){return[prosemirror_math_dist_index_es.g]}},{key:"toMarkdown",value:function toMarkdown(state,node){state.write("$"),state.text(node.textContent,!1),state.write("$")}},{key:"parseMarkdown",value:function parseMarkdown(){return{node:"math_inline",block:"math_inline",noCloseToken:"math_inline"}}}]),Math}(Node);function MathDisplay_typeof(obj){return(MathDisplay_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function MathDisplay_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function MathDisplay_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function MathDisplay_setPrototypeOf(o,p){return(MathDisplay_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function MathDisplay_createSuper(Derived){var hasNativeReflectConstruct=function MathDisplay_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=MathDisplay_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=MathDisplay_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return MathDisplay_possibleConstructorReturn(this,result)}}function MathDisplay_possibleConstructorReturn(self,call){return!call||"object"!==MathDisplay_typeof(call)&&"function"!=typeof call?function MathDisplay_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function MathDisplay_getPrototypeOf(o){return(MathDisplay_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var MathDisplay_MathDisplay=function(_Node){!function MathDisplay_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&MathDisplay_setPrototypeOf(subClass,superClass)}(MathDisplay,_Node);var _super=MathDisplay_createSuper(MathDisplay);function MathDisplay(){return MathDisplay_classCallCheck(this,MathDisplay),_super.apply(this,arguments)}return function MathDisplay_createClass(Constructor,protoProps,staticProps){return protoProps&&MathDisplay_defineProperties(Constructor.prototype,protoProps),staticProps&&MathDisplay_defineProperties(Constructor,staticProps),Constructor}(MathDisplay,[{key:"name",get:function get(){return"math_display"}},{key:"schema",get:function get(){return{group:"block math",content:"text*",atom:!0,code:!0,toDOM:function toDOM(){return["math-display",{class:"math-node"},0]},parseDOM:[{tag:"math-display"}]}}},{key:"commands",value:function commands(_ref){var type=_ref.type;return function(){return Object(prosemirror_math_dist_index_es.c)(type)}}},{key:"inputRules",value:function inputRules(_ref2){var type=_ref2.type;return[Object(prosemirror_math_dist_index_es.d)(prosemirror_math_dist_index_es.a,type)]}},{key:"toMarkdown",value:function toMarkdown(state,node){state.write("$$\n"),state.text(node.textContent,!1),state.ensureNewLine(),state.write("$$"),state.closeBlock(node)}},{key:"parseMarkdown",value:function parseMarkdown(){return{node:"math_display",block:"math_display",noCloseToken:"math_display"}}}]),MathDisplay}(Node);function Notice_typeof(obj){return(Notice_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function Notice_slicedToArray(arr,i){return function Notice_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function Notice_iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function Notice_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return Notice_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Notice_arrayLikeToArray(o,minLen)}(arr,i)||function Notice_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Notice_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function Notice_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function Notice_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function Notice_setPrototypeOf(o,p){return(Notice_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function Notice_createSuper(Derived){var hasNativeReflectConstruct=function Notice_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=Notice_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=Notice_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return Notice_possibleConstructorReturn(this,result)}}function Notice_possibleConstructorReturn(self,call){return!call||"object"!==Notice_typeof(call)&&"function"!=typeof call?function Notice_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function Notice_getPrototypeOf(o){return(Notice_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var Notice_Notice=function(_Node){!function Notice_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&Notice_setPrototypeOf(subClass,superClass)}(Notice,_Node);var _super=Notice_createSuper(Notice);function Notice(){var _this;Notice_classCallCheck(this,Notice);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=_super.call.apply(_super,[this].concat(args))).handleStyleChange=function(event){var view=_this.editor.view,tr=view.state.tr,element=event.target,_element$getBoundingC=element.getBoundingClientRect(),top=_element$getBoundingC.top,left=_element$getBoundingC.left,result=view.posAtCoords({top:top,left:left});if(result){var transaction=tr.setNodeMarkup(result.inside,void 0,{style:element.value});view.dispatch(transaction)}},_this}return function Notice_createClass(Constructor,protoProps,staticProps){return protoProps&&Notice_defineProperties(Constructor.prototype,protoProps),staticProps&&Notice_defineProperties(Constructor,staticProps),Constructor}(Notice,[{key:"styleOptions",get:function get(){return Object.entries({info:this.options.dictionary.info,warning:this.options.dictionary.warning,tip:this.options.dictionary.tip})}},{key:"name",get:function get(){return"container_notice"}},{key:"schema",get:function get(){var _this2=this;return{attrs:{style:{default:"info"}},content:"block+",group:"block",defining:!0,draggable:!0,parseDOM:[{tag:"div.notice-block",preserveWhitespace:"full",contentElement:"div:last-child",getAttrs:function getAttrs(dom){return{style:dom.className.includes("tip")?"tip":dom.className.includes("warning")?"warning":void 0}}}],toDOM:function toDOM(node){var component,select=document.createElement("select");select.addEventListener("change",_this2.handleStyleChange),_this2.styleOptions.forEach((function(_ref){var _ref2=Notice_slicedToArray(_ref,2),key=_ref2[0],label=_ref2[1],option=document.createElement("option");option.value=key,option.innerText=label,option.selected=node.attrs.style===key,select.appendChild(option)})),component="tip"===node.attrs.style?Object(jsx_runtime.jsx)(lib.StarredIcon,{color:"currentColor"}):"warning"===node.attrs.style?Object(jsx_runtime.jsx)(lib.WarningIcon,{color:"currentColor"}):Object(jsx_runtime.jsx)(lib.InfoIcon,{color:"currentColor"});var icon=document.createElement("div");return icon.className="icon",react_dom_default.a.render(component,icon),["div",{class:"notice-block ".concat(node.attrs.style)},icon,["div",{contentEditable:!1},select],["div",0]]}}}},{key:"commands",value:function commands(_ref3){var type=_ref3.type;return function(attrs){return toggleWrap(type,attrs)}}},{key:"inputRules",value:function inputRules(_ref4){var type=_ref4.type;return[Object(prosemirror_inputrules_dist_index_es.g)(/^:::$/,type)]}},{key:"toMarkdown",value:function toMarkdown(state,node){state.write("\n:::"+(node.attrs.style||"info")+"\n"),state.renderContent(node),state.ensureNewLine(),state.write(":::"),state.closeBlock(node)}},{key:"parseMarkdown",value:function parseMarkdown(){return{block:"container_notice",getAttrs:function getAttrs(tok){return{style:tok.info}}}}}]),Notice}(Node);__webpack_require__(485);function OrderedList_typeof(obj){return(OrderedList_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function OrderedList_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function OrderedList_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function OrderedList_setPrototypeOf(o,p){return(OrderedList_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function OrderedList_createSuper(Derived){var hasNativeReflectConstruct=function OrderedList_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=OrderedList_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=OrderedList_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return OrderedList_possibleConstructorReturn(this,result)}}function OrderedList_possibleConstructorReturn(self,call){return!call||"object"!==OrderedList_typeof(call)&&"function"!=typeof call?function OrderedList_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function OrderedList_getPrototypeOf(o){return(OrderedList_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var OrderedList_OrderedList=function(_Node){!function OrderedList_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&OrderedList_setPrototypeOf(subClass,superClass)}(OrderedList,_Node);var _super=OrderedList_createSuper(OrderedList);function OrderedList(){return OrderedList_classCallCheck(this,OrderedList),_super.apply(this,arguments)}return function OrderedList_createClass(Constructor,protoProps,staticProps){return protoProps&&OrderedList_defineProperties(Constructor.prototype,protoProps),staticProps&&OrderedList_defineProperties(Constructor,staticProps),Constructor}(OrderedList,[{key:"name",get:function get(){return"ordered_list"}},{key:"schema",get:function get(){return{attrs:{order:{default:1}},content:"list_item+",group:"block",parseDOM:[{tag:"ol",getAttrs:function getAttrs(dom){return{order:dom.hasAttribute("start")?parseInt(dom.getAttribute("start")||"1",10):1}}}],toDOM:function toDOM(node){return 1===node.attrs.order?["ol",0]:["ol",{start:node.attrs.order},0]}}}},{key:"commands",value:function commands(_ref){var type=_ref.type,schema=_ref.schema;return function(){return toggleList(type,schema.nodes.list_item)}}},{key:"keys",value:function keys(_ref2){return{"Shift-Ctrl-9":toggleList(_ref2.type,_ref2.schema.nodes.list_item)}}},{key:"inputRules",value:function inputRules(_ref3){var type=_ref3.type;return[Object(prosemirror_inputrules_dist_index_es.g)(/^(\d+)\.\s$/,type,(function(match){return{order:+match[1]}}),(function(match,node){return node.childCount+node.attrs.order===+match[1]}))]}},{key:"toMarkdown",value:function toMarkdown(state,node){var start=node.attrs.order||1,maxW="".concat(start+node.childCount-1).length,space=state.repeat(" ",maxW+2);state.renderList(node,space,(function(i){var nStr="".concat(start+i);return state.repeat(" ",maxW-nStr.length)+nStr+". "}))}},{key:"parseMarkdown",value:function parseMarkdown(){return{block:"ordered_list"}}}]),OrderedList}(Node);function Paragraph_typeof(obj){return(Paragraph_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function Paragraph_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function Paragraph_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function Paragraph_setPrototypeOf(o,p){return(Paragraph_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function Paragraph_createSuper(Derived){var hasNativeReflectConstruct=function Paragraph_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=Paragraph_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=Paragraph_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return Paragraph_possibleConstructorReturn(this,result)}}function Paragraph_possibleConstructorReturn(self,call){return!call||"object"!==Paragraph_typeof(call)&&"function"!=typeof call?function Paragraph_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function Paragraph_getPrototypeOf(o){return(Paragraph_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var Paragraph_Paragraph=function(_Node){!function Paragraph_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&Paragraph_setPrototypeOf(subClass,superClass)}(Paragraph,_Node);var _super=Paragraph_createSuper(Paragraph);function Paragraph(){return Paragraph_classCallCheck(this,Paragraph),_super.apply(this,arguments)}return function Paragraph_createClass(Constructor,protoProps,staticProps){return protoProps&&Paragraph_defineProperties(Constructor.prototype,protoProps),staticProps&&Paragraph_defineProperties(Constructor,staticProps),Constructor}(Paragraph,[{key:"name",get:function get(){return"paragraph"}},{key:"schema",get:function get(){var _this=this;return{attrs:{layoutClass:{default:null}},content:"inline*",group:"block",parseDOM:[{tag:"p",getAttrs:function getAttrs(dom){return _this.extractLayoutClassFromDOM(dom)}}],toDOM:function toDOM(node){return _this.createDOMAttributes(node)}}}},{key:"keys",value:function keys(_ref){var type=_ref.type;return{"Shift-Ctrl-0":Object(prosemirror_commands_dist_index_es.h)(type)}}},{key:"commands",value:function commands(_ref2){var type=_ref2.type,alignText=function alignText(state,dispatch,layoutClass){var attrs={layoutClass:layoutClass},pos=state.selection.$from.pos-1,node=state.doc.nodeAt(pos);if(node){var newAttrs=Object.assign({},node.attrs,attrs);return dispatch(state.tr.setNodeMarkup(pos,null,newAttrs)),!0}return!1};return{setBlockType:function setBlockType(){return Object(prosemirror_commands_dist_index_es.h)(type)},alignTextRight:function alignTextRight(){return function(state,dispatch){return alignText(state,dispatch,"right")}},alignTextLeft:function alignTextLeft(){return function(state,dispatch){return alignText(state,dispatch,"left")}},alignTextCenter:function alignTextCenter(){return function(state,dispatch){return alignText(state,dispatch,"center")}}}}},{key:"toMarkdown",value:function toMarkdown(state,node){if(console.log(state,node),""!==node.textContent.trim()||0!==node.childCount||state.inTable){var alignment=node.attrs.layoutClass;alignment&&state.write("".concat(alignment,"> ")),state.renderInline(node),state.closeBlock(node)}else state.write("\\\n")}},{key:"parseMarkdown",value:function parseMarkdown(){return{block:"paragraph"}}},{key:"extractLayoutClassFromDOM",value:function extractLayoutClassFromDOM(dom){var className=dom.className,layoutClassMatched=className&&className.match(/text-(.*)$/);return{layoutClass:layoutClassMatched?layoutClassMatched[1]:null}}},{key:"createDOMAttributes",value:function createDOMAttributes(node){return["p",{class:node.attrs.layoutClass?"text-".concat(node.attrs.layoutClass):null},0]}}]),Paragraph}(Node);__webpack_require__(1367);function Table_typeof(obj){return(Table_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function Table_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function Table_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function Table_setPrototypeOf(o,p){return(Table_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function Table_createSuper(Derived){var hasNativeReflectConstruct=function Table_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=Table_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=Table_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return Table_possibleConstructorReturn(this,result)}}function Table_possibleConstructorReturn(self,call){return!call||"object"!==Table_typeof(call)&&"function"!=typeof call?function Table_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function Table_getPrototypeOf(o){return(Table_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var Table_Table=function(_Node){!function Table_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&Table_setPrototypeOf(subClass,superClass)}(Table,_Node);var _super=Table_createSuper(Table);function Table(){return Table_classCallCheck(this,Table),_super.apply(this,arguments)}return function Table_createClass(Constructor,protoProps,staticProps){return protoProps&&Table_defineProperties(Constructor.prototype,protoProps),staticProps&&Table_defineProperties(Constructor,staticProps),Constructor}(Table,[{key:"name",get:function get(){return"table"}},{key:"schema",get:function get(){return{content:"tr+",tableRole:"table",isolating:!0,group:"block",parseDOM:[{tag:"table"}],toDOM:function toDOM(){return["div",{class:"scrollable-wrapper"},["div",{class:"scrollable"},["table",{class:"rme-table"},["tbody",0]]]]}}}},{key:"commands",value:function commands(_ref){var schema=_ref.schema;return{createTable:function createTable(_ref2){var rowsCount=_ref2.rowsCount,colsCount=_ref2.colsCount;return function(state,dispatch){var offset=state.tr.selection.anchor+1,nodes=Object(dist.createTable)(schema,rowsCount,colsCount),tr=state.tr.replaceSelectionWith(nodes).scrollIntoView(),resolvedPos=tr.doc.resolve(offset);tr.setSelection(index_es.TextSelection.near(resolvedPos)),dispatch(tr)}},setColumnAttr:function setColumnAttr(_ref3){var index=_ref3.index,alignment=_ref3.alignment;return function(state,dispatch){var cells=Object(dist.getCellsInColumn)(index)(state.selection)||[],transaction=state.tr;cells.forEach((function(_ref4){var pos=_ref4.pos;transaction=transaction.setNodeMarkup(pos,null,{alignment:alignment})})),dispatch(transaction)}},addColumnBefore:function addColumnBefore(){return prosemirror_tables_dist_index_es.addColumnBefore},addColumnAfter:function addColumnAfter(){return prosemirror_tables_dist_index_es.addColumnAfter},deleteColumn:function deleteColumn(){return prosemirror_tables_dist_index_es.deleteColumn},addRowAfter:function addRowAfter(_ref5){var index=_ref5.index;return function(state,dispatch){if(0===index){var tr=Object(dist.addRowAt)(index+2,!0)(state.tr);dispatch(Object(dist.moveRow)(index+2,index+1)(tr))}else dispatch(Object(dist.addRowAt)(index+1,!0)(state.tr))}},deleteRow:function deleteRow(){return prosemirror_tables_dist_index_es.deleteRow},deleteTable:function deleteTable(){return prosemirror_tables_dist_index_es.deleteTable},toggleHeaderColumn:function toggleHeaderColumn(){return prosemirror_tables_dist_index_es.toggleHeaderColumn},toggleHeaderRow:function toggleHeaderRow(){return prosemirror_tables_dist_index_es.toggleHeaderRow},toggleHeaderCell:function toggleHeaderCell(){return prosemirror_tables_dist_index_es.toggleHeaderCell},setCellAttr:function setCellAttr(){return prosemirror_tables_dist_index_es.setCellAttr},fixTables:function fixTables(){return prosemirror_tables_dist_index_es.fixTables}}}},{key:"keys",value:function keys(){return{Tab:Object(prosemirror_tables_dist_index_es.goToNextCell)(1),"Shift-Tab":Object(prosemirror_tables_dist_index_es.goToNextCell)(-1),Enter:function Enter(state,dispatch){if(!Object(prosemirror_tables_dist_index_es.isInTable)(state))return!1;var cells=Object(dist.getCellsInColumn)(0)(state.selection)||[];return dispatch(Object(dist.addRowAt)(cells.length,!0)(state.tr)),!0}}}},{key:"toMarkdown",value:function toMarkdown(state,node){state.renderTable(node),state.closeBlock(node)}},{key:"parseMarkdown",value:function parseMarkdown(){return{block:"table"}}},{key:"plugins",get:function get(){var _this=this;return[Object(prosemirror_tables_dist_index_es.tableEditing)(),new index_es.Plugin({props:{decorations:function decorations(state){var doc=state.doc,decorations=[],index=0;return doc.descendants((function(node,pos){if(node.type.name===_this.name){var table=document.getElementsByClassName("rme-table")[index];if(table){var element=table.parentElement;!!(element&&element.scrollWidth>element.clientWidth)&&decorations.push(prosemirror_view_dist_index_es.a.widget(pos+1,(function(){var shadow=document.createElement("div");return shadow.className="scrollable-shadow right",shadow}))),index++}}})),prosemirror_view_dist_index_es.b.create(doc,decorations)}}})]}}]),Table}(Node);function TableCell_typeof(obj){return(TableCell_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function TableCell_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function TableCell_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function TableCell_setPrototypeOf(o,p){return(TableCell_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function TableCell_createSuper(Derived){var hasNativeReflectConstruct=function TableCell_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=TableCell_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=TableCell_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return TableCell_possibleConstructorReturn(this,result)}}function TableCell_possibleConstructorReturn(self,call){return!call||"object"!==TableCell_typeof(call)&&"function"!=typeof call?function TableCell_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function TableCell_getPrototypeOf(o){return(TableCell_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var TableCell_TableCell=function(_Node){!function TableCell_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&TableCell_setPrototypeOf(subClass,superClass)}(TableCell,_Node);var _super=TableCell_createSuper(TableCell);function TableCell(){return TableCell_classCallCheck(this,TableCell),_super.apply(this,arguments)}return function TableCell_createClass(Constructor,protoProps,staticProps){return protoProps&&TableCell_defineProperties(Constructor.prototype,protoProps),staticProps&&TableCell_defineProperties(Constructor,staticProps),Constructor}(TableCell,[{key:"name",get:function get(){return"td"}},{key:"schema",get:function get(){return{content:"paragraph+",tableRole:"cell",isolating:!0,parseDOM:[{tag:"td"}],toDOM:function toDOM(node){return["td",node.attrs.alignment?{style:"text-align: ".concat(node.attrs.alignment)}:{},0]},attrs:{colspan:{default:1},rowspan:{default:1},alignment:{default:null}}}}},{key:"toMarkdown",value:function toMarkdown(state,node){state.renderContent(node)}},{key:"parseMarkdown",value:function parseMarkdown(){return{block:"td",getAttrs:function getAttrs(tok){return{alignment:tok.info}}}}},{key:"plugins",get:function get(){var _this=this;return[new index_es.Plugin({props:{decorations:function decorations(state){var doc=state.doc,selection=state.selection,decorations=[],cells=Object(dist.getCellsInColumn)(0)(selection);return cells&&cells.forEach((function(_ref,index){var pos=_ref.pos;0===index&&decorations.push(prosemirror_view_dist_index_es.a.widget(pos+1,(function(){var className="grip-table";Object(dist.isTableSelected)(selection)&&(className+=" selected");var grip=document.createElement("a");return grip.className=className,grip.addEventListener("mousedown",(function(event){event.preventDefault(),_this.options.onSelectTable(state)})),grip}))),decorations.push(prosemirror_view_dist_index_es.a.widget(pos+1,(function(){var className="grip-row";Object(dist.isRowSelected)(index)(selection)&&(className+=" selected"),0===index?className+=" first":index===cells.length-1&&(className+=" last");var grip=document.createElement("a");return grip.className=className,grip.addEventListener("mousedown",(function(event){event.preventDefault(),_this.options.onSelectRow(index,state)})),grip})))})),prosemirror_view_dist_index_es.b.create(doc,decorations)}}})]}}]),TableCell}(Node);function TableHeadCell_typeof(obj){return(TableHeadCell_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function TableHeadCell_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function TableHeadCell_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function TableHeadCell_setPrototypeOf(o,p){return(TableHeadCell_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function TableHeadCell_createSuper(Derived){var hasNativeReflectConstruct=function TableHeadCell_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=TableHeadCell_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=TableHeadCell_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return TableHeadCell_possibleConstructorReturn(this,result)}}function TableHeadCell_possibleConstructorReturn(self,call){return!call||"object"!==TableHeadCell_typeof(call)&&"function"!=typeof call?function TableHeadCell_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function TableHeadCell_getPrototypeOf(o){return(TableHeadCell_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var TableHeadCell_TableHeadCell=function(_Node){!function TableHeadCell_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&TableHeadCell_setPrototypeOf(subClass,superClass)}(TableHeadCell,_Node);var _super=TableHeadCell_createSuper(TableHeadCell);function TableHeadCell(){return TableHeadCell_classCallCheck(this,TableHeadCell),_super.apply(this,arguments)}return function TableHeadCell_createClass(Constructor,protoProps,staticProps){return protoProps&&TableHeadCell_defineProperties(Constructor.prototype,protoProps),staticProps&&TableHeadCell_defineProperties(Constructor,staticProps),Constructor}(TableHeadCell,[{key:"name",get:function get(){return"th"}},{key:"schema",get:function get(){return{content:"paragraph+",tableRole:"header_cell",isolating:!0,parseDOM:[{tag:"th"}],toDOM:function toDOM(node){return["th",node.attrs.alignment?{style:"text-align: ".concat(node.attrs.alignment)}:{},0]},attrs:{colspan:{default:1},rowspan:{default:1},alignment:{default:null}}}}},{key:"toMarkdown",value:function toMarkdown(state,node){state.renderContent(node)}},{key:"parseMarkdown",value:function parseMarkdown(){return{block:"th",getAttrs:function getAttrs(tok){return{alignment:tok.info}}}}},{key:"plugins",get:function get(){var _this=this;return[new index_es.Plugin({props:{decorations:function decorations(state){var doc=state.doc,selection=state.selection,decorations=[],cells=Object(dist.getCellsInRow)(0)(selection);return cells&&cells.forEach((function(_ref,index){var pos=_ref.pos;decorations.push(prosemirror_view_dist_index_es.a.widget(pos+1,(function(){var className="grip-column";Object(dist.isColumnSelected)(index)(selection)&&(className+=" selected"),0===index?className+=" first":index===cells.length-1&&(className+=" last");var grip=document.createElement("a");return grip.className=className,grip.addEventListener("mousedown",(function(event){event.preventDefault(),_this.options.onSelectColumn(index,state)})),grip})))})),prosemirror_view_dist_index_es.b.create(doc,decorations)}}})]}}]),TableHeadCell}(Node);function TableRow_typeof(obj){return(TableRow_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function TableRow_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function TableRow_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function TableRow_setPrototypeOf(o,p){return(TableRow_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function TableRow_createSuper(Derived){var hasNativeReflectConstruct=function TableRow_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=TableRow_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=TableRow_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return TableRow_possibleConstructorReturn(this,result)}}function TableRow_possibleConstructorReturn(self,call){return!call||"object"!==TableRow_typeof(call)&&"function"!=typeof call?function TableRow_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function TableRow_getPrototypeOf(o){return(TableRow_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var TableRow=function(_Node){!function TableRow_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&TableRow_setPrototypeOf(subClass,superClass)}(TableRow,_Node);var _super=TableRow_createSuper(TableRow);function TableRow(){return TableRow_classCallCheck(this,TableRow),_super.apply(this,arguments)}return function TableRow_createClass(Constructor,protoProps,staticProps){return protoProps&&TableRow_defineProperties(Constructor.prototype,protoProps),staticProps&&TableRow_defineProperties(Constructor,staticProps),Constructor}(TableRow,[{key:"name",get:function get(){return"tr"}},{key:"schema",get:function get(){return{content:"(th | td)*",tableRole:"row",parseDOM:[{tag:"tr"}],toDOM:function toDOM(){return["tr",0]}}}},{key:"parseMarkdown",value:function parseMarkdown(){return{block:"tr"}}}]),TableRow}(Node);function markInputRule_toConsumableArray(arr){return function markInputRule_arrayWithoutHoles(arr){if(Array.isArray(arr))return markInputRule_arrayLikeToArray(arr)}(arr)||function markInputRule_iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||function markInputRule_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return markInputRule_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return markInputRule_arrayLikeToArray(o,minLen)}(arr)||function markInputRule_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function markInputRule_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var markInputRule=function(regexp,markType,getAttrs){return new prosemirror_inputrules_dist_index_es.a(regexp,(function(state,match,start,end){var attrs=getAttrs instanceof Function?getAttrs(match):getAttrs,tr=state.tr,m=match.length-1,markEnd=end,markStart=start;if(match[m]){var matchStart=start+match[0].indexOf(match[m-1]),matchEnd=matchStart+match[m-1].length-1,textStart=matchStart+match[m-1].lastIndexOf(match[m]),textEnd=textStart+match[m].length;if(function getMarksBetween(start,end,state){var marks=[];return state.doc.nodesBetween(start,end,(function(node,pos){marks=[].concat(markInputRule_toConsumableArray(marks),markInputRule_toConsumableArray(node.marks.map((function(mark){return{start:pos,end:pos+node.nodeSize,mark:mark}}))))})),marks}(start,end,state).filter((function(item){return item.mark.type.excludes(markType)})).filter((function(item){return item.end>matchStart})).length)return null;textEnd<matchEnd&&tr.delete(textEnd,matchEnd),textStart>matchStart&&tr.delete(matchStart,textStart),markEnd=(markStart=matchStart)+match[m].length}return tr.addMark(markStart,markEnd,markType.create(attrs)),tr.removeStoredMark(markType),tr}))};function Mark_typeof(obj){return(Mark_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function Mark_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function Mark_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function Mark_setPrototypeOf(o,p){return(Mark_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function Mark_createSuper(Derived){var hasNativeReflectConstruct=function Mark_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=Mark_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=Mark_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return Mark_possibleConstructorReturn(this,result)}}function Mark_possibleConstructorReturn(self,call){return!call||"object"!==Mark_typeof(call)&&"function"!=typeof call?function Mark_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function Mark_getPrototypeOf(o){return(Mark_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var Mark_Mark=function(_Extension){!function Mark_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&Mark_setPrototypeOf(subClass,superClass)}(Mark,_Extension);var _super=Mark_createSuper(Mark);function Mark(){return Mark_classCallCheck(this,Mark),_super.apply(this,arguments)}return function Mark_createClass(Constructor,protoProps,staticProps){return protoProps&&Mark_defineProperties(Constructor.prototype,protoProps),staticProps&&Mark_defineProperties(Constructor,staticProps),Constructor}(Mark,[{key:"type",get:function get(){return"mark"}},{key:"markdownToken",get:function get(){return""}},{key:"toMarkdown",get:function get(){return{}}},{key:"parseMarkdown",value:function parseMarkdown(){return{}}},{key:"commands",value:function commands(_ref){var type=_ref.type;return function(){return Object(prosemirror_commands_dist_index_es.i)(type)}}}]),Mark}(Extension);function Bold_typeof(obj){return(Bold_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function Bold_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function Bold_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function Bold_setPrototypeOf(o,p){return(Bold_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function Bold_createSuper(Derived){var hasNativeReflectConstruct=function Bold_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=Bold_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=Bold_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return Bold_possibleConstructorReturn(this,result)}}function Bold_possibleConstructorReturn(self,call){return!call||"object"!==Bold_typeof(call)&&"function"!=typeof call?function Bold_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function Bold_getPrototypeOf(o){return(Bold_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var Bold_Bold=function(_Mark){!function Bold_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&Bold_setPrototypeOf(subClass,superClass)}(Bold,_Mark);var _super=Bold_createSuper(Bold);function Bold(){return Bold_classCallCheck(this,Bold),_super.apply(this,arguments)}return function Bold_createClass(Constructor,protoProps,staticProps){return protoProps&&Bold_defineProperties(Constructor.prototype,protoProps),staticProps&&Bold_defineProperties(Constructor,staticProps),Constructor}(Bold,[{key:"name",get:function get(){return"strong"}},{key:"schema",get:function get(){return{parseDOM:[{tag:"b"},{tag:"strong"},{style:"font-style",getAttrs:function getAttrs(value){return"bold"===value}}],toDOM:function toDOM(){return["strong"]}}}},{key:"inputRules",value:function inputRules(_ref){var type=_ref.type;return[markInputRule(/(?:\*\*)([^*]+)(?:\*\*)$/,type)]}},{key:"keys",value:function keys(_ref2){var type=_ref2.type;return{"Mod-b":Object(prosemirror_commands_dist_index_es.i)(type),"Mod-B":Object(prosemirror_commands_dist_index_es.i)(type)}}},{key:"toMarkdown",get:function get(){return{open:"**",close:"**",mixable:!0,expelEnclosingWhitespace:!0}}},{key:"parseMarkdown",value:function parseMarkdown(){return{mark:"strong"}}}]),Bold}(Mark_Mark);function Code_typeof(obj){return(Code_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function Code_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function Code_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function Code_setPrototypeOf(o,p){return(Code_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function Code_createSuper(Derived){var hasNativeReflectConstruct=function Code_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=Code_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=Code_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return Code_possibleConstructorReturn(this,result)}}function Code_possibleConstructorReturn(self,call){return!call||"object"!==Code_typeof(call)&&"function"!=typeof call?function Code_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function Code_getPrototypeOf(o){return(Code_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function backticksFor(node,side){var match,ticks=/`+/g,len=0;if(node.isText)for(;match=ticks.exec(node.text);)len=Math.max(len,match[0].length);for(var result=len>0&&side>0?" `":"`",i=0;i<len;i++)result+="`";return len>0&&side<0&&(result+=" "),result}var Code_Code=function(_Mark){!function Code_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&Code_setPrototypeOf(subClass,superClass)}(Code,_Mark);var _super=Code_createSuper(Code);function Code(){return Code_classCallCheck(this,Code),_super.apply(this,arguments)}return function Code_createClass(Constructor,protoProps,staticProps){return protoProps&&Code_defineProperties(Constructor.prototype,protoProps),staticProps&&Code_defineProperties(Constructor,staticProps),Constructor}(Code,[{key:"name",get:function get(){return"code_inline"}},{key:"schema",get:function get(){return{excludes:"_",parseDOM:[{tag:"code"}],toDOM:function toDOM(){return["code",{spellCheck:!1}]}}}},{key:"inputRules",value:function inputRules(_ref){var type=_ref.type;return[markInputRule(/(?:^|[^`])(`([^`]+)`)$/,type)]}},{key:"keys",value:function keys(_ref2){var type=_ref2.type;return{"Mod`":Object(prosemirror_commands_dist_index_es.i)(type)}}},{key:"toMarkdown",get:function get(){return{open:function open(_state,_mark,parent,index){return backticksFor(parent.child(index),-1)},close:function close(_state,_mark,parent,index){return backticksFor(parent.child(index-1),1)},escape:!1}}},{key:"parseMarkdown",value:function parseMarkdown(){return{mark:"code_inline"}}}]),Code}(Mark_Mark);function Highlight_typeof(obj){return(Highlight_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function Highlight_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function Highlight_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function Highlight_setPrototypeOf(o,p){return(Highlight_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function Highlight_createSuper(Derived){var hasNativeReflectConstruct=function Highlight_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=Highlight_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=Highlight_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return Highlight_possibleConstructorReturn(this,result)}}function Highlight_possibleConstructorReturn(self,call){return!call||"object"!==Highlight_typeof(call)&&"function"!=typeof call?function Highlight_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function Highlight_getPrototypeOf(o){return(Highlight_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var Highlight_Highlight=function(_Mark){!function Highlight_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&Highlight_setPrototypeOf(subClass,superClass)}(Highlight,_Mark);var _super=Highlight_createSuper(Highlight);function Highlight(){return Highlight_classCallCheck(this,Highlight),_super.apply(this,arguments)}return function Highlight_createClass(Constructor,protoProps,staticProps){return protoProps&&Highlight_defineProperties(Constructor.prototype,protoProps),staticProps&&Highlight_defineProperties(Constructor,staticProps),Constructor}(Highlight,[{key:"name",get:function get(){return"mark"}},{key:"schema",get:function get(){return{parseDOM:[{tag:"mark"}],toDOM:function toDOM(){return["mark"]}}}},{key:"inputRules",value:function inputRules(_ref){var type=_ref.type;return[markInputRule(/(?:==)([^=]+)(?:==)$/,type)]}},{key:"keys",value:function keys(_ref2){var type=_ref2.type;return{"Mod-Ctrl-h":Object(prosemirror_commands_dist_index_es.i)(type)}}},{key:"toMarkdown",get:function get(){return{open:"==",close:"==",mixable:!0,expelEnclosingWhitespace:!0}}},{key:"parseMarkdown",value:function parseMarkdown(){return{mark:"mark"}}}]),Highlight}(Mark_Mark);function Italic_typeof(obj){return(Italic_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function Italic_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function Italic_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function Italic_setPrototypeOf(o,p){return(Italic_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function Italic_createSuper(Derived){var hasNativeReflectConstruct=function Italic_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=Italic_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=Italic_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return Italic_possibleConstructorReturn(this,result)}}function Italic_possibleConstructorReturn(self,call){return!call||"object"!==Italic_typeof(call)&&"function"!=typeof call?function Italic_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function Italic_getPrototypeOf(o){return(Italic_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var Italic_Italic=function(_Mark){!function Italic_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&Italic_setPrototypeOf(subClass,superClass)}(Italic,_Mark);var _super=Italic_createSuper(Italic);function Italic(){return Italic_classCallCheck(this,Italic),_super.apply(this,arguments)}return function Italic_createClass(Constructor,protoProps,staticProps){return protoProps&&Italic_defineProperties(Constructor.prototype,protoProps),staticProps&&Italic_defineProperties(Constructor,staticProps),Constructor}(Italic,[{key:"name",get:function get(){return"em"}},{key:"schema",get:function get(){return{parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style",getAttrs:function getAttrs(value){return"italic"===value}}],toDOM:function toDOM(){return["em"]}}}},{key:"inputRules",value:function inputRules(_ref){var type=_ref.type;return[markInputRule(/(?:^|[^_])(_([^_]+)_)$/,type),markInputRule(/(?:^|[^*])(\*([^*]+)\*)$/,type)]}},{key:"keys",value:function keys(_ref2){var type=_ref2.type;return{"Mod-i":Object(prosemirror_commands_dist_index_es.i)(type),"Mod-I":Object(prosemirror_commands_dist_index_es.i)(type)}}},{key:"toMarkdown",get:function get(){return{open:"*",close:"*",mixable:!0,expelEnclosingWhitespace:!0}}},{key:"parseMarkdown",value:function parseMarkdown(){return{mark:"em"}}}]),Italic}(Mark_Mark);function Link_slicedToArray(arr,i){return function Link_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function Link_iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function Link_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return Link_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Link_arrayLikeToArray(o,minLen)}(arr,i)||function Link_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Link_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function Link_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function Link_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function Link_setPrototypeOf(o,p){return(Link_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function Link_createSuper(Derived){var hasNativeReflectConstruct=function Link_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=Link_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=Link_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return Link_possibleConstructorReturn(this,result)}}function Link_possibleConstructorReturn(self,call){return!call||"object"!==Link_typeof(call)&&"function"!=typeof call?function Link_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function Link_getPrototypeOf(o){return(Link_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function Link_typeof(obj){return(Link_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function markApplies(doc,ranges,type){for(var _loop=function _loop(i){var _ranges$i=ranges[i],$from=_ranges$i.$from,$to=_ranges$i.$to,can=0===$from.depth&&doc.type.allowsMarkType(type);if(doc.nodesBetween($from.pos,$to.pos,(function(node){if(can)return!1;can=node.inlineContent&&node.type.allowsMarkType(type)})),can)return{v:!0}},i=0;i<ranges.length;i++){var _ret=_loop(i);if("object"===Link_typeof(_ret))return _ret.v}return!1}var LINK_INPUT_REGEX=/\[(.+)]\((\S+)\)/;function isPlainURL(link,parent,index,side){if(link.attrs.title||!/^\w+:/.test(link.attrs.href))return!1;var content=parent.child(index+(side<0?-1:0));if(!content.isText||content.text!==link.attrs.href||content.marks[content.marks.length-1]!==link)return!1;if(index===(side<0?1:parent.childCount-1))return!0;var next=parent.child(index+(side<0?-2:1));return!link.isInSet(next.marks)}var Link_Link=function(_Mark){!function Link_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&Link_setPrototypeOf(subClass,superClass)}(Link,_Mark);var _super=Link_createSuper(Link);function Link(){return Link_classCallCheck(this,Link),_super.apply(this,arguments)}return function Link_createClass(Constructor,protoProps,staticProps){return protoProps&&Link_defineProperties(Constructor.prototype,protoProps),staticProps&&Link_defineProperties(Constructor,staticProps),Constructor}(Link,[{key:"name",get:function get(){return"link"}},{key:"schema",get:function get(){return{attrs:{href:{default:""}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:function getAttrs(dom){return{href:dom.getAttribute("href")}}}],toDOM:function toDOM(node){return["a",Object.assign({},node.attrs,{rel:"noopener noreferrer nofollow"}),0]}}}},{key:"inputRules",value:function inputRules(_ref){var _this=this,type=_ref.type;return[new prosemirror_inputrules_dist_index_es.a(LINK_INPUT_REGEX,(function(state,match,start,end){var _match=Link_slicedToArray(match,3),okay=_match[0],alt=_match[1],href=_match[2],tr=state.tr;return okay&&tr.replaceWith(start,end,_this.editor.schema.text(alt)).addMark(start,start+alt.length,type.create({href:href})),tr}))]}},{key:"commands",value:function commands(_ref2){var _this2=this,type=_ref2.type;return function(){var _ref3=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{href:""},href=_ref3.href;return function(state,dispatch){var _state$selection=state.selection,empty=_state$selection.empty,$cursor=_state$selection.$cursor,ranges=_state$selection.ranges;if(empty&&!$cursor||!markApplies(state.doc,ranges,type))return!1;if(empty&&_this2.options.onKeyboardShortcut(),dispatch)if($cursor)type.isInSet(state.storedMarks||$cursor.marks())?dispatch(state.tr.removeStoredMark(type)):dispatch(state.tr.addStoredMark(type.create({href:href})));else{for(var has=!1,tr=state.tr,i=0;!has&&i<ranges.length;i++){var _ranges$i2=ranges[i],$from=_ranges$i2.$from,$to=_ranges$i2.$to;has=state.doc.rangeHasMark($from.pos,$to.pos,type)}for(var _i2=0;_i2<ranges.length;_i2++){var _ranges$_i=ranges[_i2],_$from=_ranges$_i.$from,_$to=_ranges$_i.$to;has?tr.removeMark(_$from.pos,_$to.pos,type):tr.addMark(_$from.pos,_$to.pos,type.create({href:href}))}dispatch(tr.scrollIntoView())}return!0}}}},{key:"keys",value:function keys(_ref4){var _this3=this,type=_ref4.type;return{"Mod-k":function ModK(state,dispatch){return state.selection.empty?(_this3.options.onKeyboardShortcut(),!0):Object(prosemirror_commands_dist_index_es.i)(type,{href:""})(state,dispatch)}}}},{key:"plugins",get:function get(){var _this4=this,onStart=function onStart(view,event){return event.target instanceof HTMLAnchorElement&&(window.TOUCHLINKMOVED=!1,!0)},onMove=function onMove(view,event){return event.target instanceof HTMLAnchorElement&&!window.TOUCHLINKMOVED&&(window.TOUCHLINKMOVED=!0,!0)},onEnd=function onEnd(view,event){var preventDefault=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(event.target instanceof HTMLAnchorElement&&!window.TOUCHLINKMOVED){var _view$state,_view$state$selection;preventDefault&&event.preventDefault();var href=event.target.href,selectionContent=null==view||null===(_view$state=view.state)||void 0===_view$state||null===(_view$state$selection=_view$state.selection)||void 0===_view$state$selection?void 0:_view$state$selection.content(),selectedText=selectionContent&&getText(selectionContent);if(!selectedText){var isHashtag=href.startsWith("#");if(isHashtag&&_this4.options.onClickHashtag)return _this4.options.onClickHashtag(href,event),!0;if(_this4.options.onClickLink)return _this4.options.onClickLink(href,event),!0}}return!1};return[new index_es.Plugin({props:{handleDOMEvents:{touchstart:onStart,mousedown:onStart,touchmove:onMove,mousemove:onMove,touchend:function touchend(view,event){return onEnd(view,event,!0)},mouseup:function mouseup(view,event){return onEnd(view,event)},mouseover:function mouseover(view,event){return!!(event.target instanceof HTMLAnchorElement&&!event.target.className.includes("ProseMirror-widget")&&_this4.options.onHoverLink)&&_this4.options.onHoverLink(event)},click:function click(view,event){return event.target instanceof HTMLAnchorElement&&(_this4.options.onClickLink&&(event.stopPropagation(),event.preventDefault()),!0)}}}})]}},{key:"toMarkdown",get:function get(){return{open:function open(_state,mark,parent,index){return isPlainURL(mark,parent,index,1)?"<":"["},close:function close(state,mark,parent,index){return isPlainURL(mark,parent,index,-1)?">":"]("+state.esc(mark.attrs.href)+(mark.attrs.title?" "+state.quote(mark.attrs.title):"")+")"}}}},{key:"parseMarkdown",value:function parseMarkdown(){return{mark:"link",getAttrs:function getAttrs(tok){return{href:tok.attrGet("href"),title:tok.attrGet("title")||null}}}}}]),Link}(Mark_Mark);function Strikethrough_typeof(obj){return(Strikethrough_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function Strikethrough_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function Strikethrough_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function Strikethrough_setPrototypeOf(o,p){return(Strikethrough_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function Strikethrough_createSuper(Derived){var hasNativeReflectConstruct=function Strikethrough_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=Strikethrough_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=Strikethrough_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return Strikethrough_possibleConstructorReturn(this,result)}}function Strikethrough_possibleConstructorReturn(self,call){return!call||"object"!==Strikethrough_typeof(call)&&"function"!=typeof call?function Strikethrough_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function Strikethrough_getPrototypeOf(o){return(Strikethrough_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var Strikethrough_Strikethrough=function(_Mark){!function Strikethrough_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&Strikethrough_setPrototypeOf(subClass,superClass)}(Strikethrough,_Mark);var _super=Strikethrough_createSuper(Strikethrough);function Strikethrough(){return Strikethrough_classCallCheck(this,Strikethrough),_super.apply(this,arguments)}return function Strikethrough_createClass(Constructor,protoProps,staticProps){return protoProps&&Strikethrough_defineProperties(Constructor.prototype,protoProps),staticProps&&Strikethrough_defineProperties(Constructor,staticProps),Constructor}(Strikethrough,[{key:"name",get:function get(){return"strikethrough"}},{key:"schema",get:function get(){return{parseDOM:[{tag:"s"},{tag:"del"},{tag:"strike"}],toDOM:function toDOM(){return["del",0]}}}},{key:"keys",value:function keys(_ref){var type=_ref.type;return{"Mod-d":Object(prosemirror_commands_dist_index_es.i)(type)}}},{key:"inputRules",value:function inputRules(_ref2){var type=_ref2.type;return[markInputRule(/~([^~]+)~$/,type)]}},{key:"toMarkdown",get:function get(){return{open:"~~",close:"~~",mixable:!0,expelEnclosingWhitespace:!0}}},{key:"markdownToken",get:function get(){return"s"}},{key:"parseMarkdown",value:function parseMarkdown(){return{mark:"strikethrough"}}}]),Strikethrough}(Mark_Mark);function Placeholder_typeof(obj){return(Placeholder_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function Placeholder_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function Placeholder_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function Placeholder_setPrototypeOf(o,p){return(Placeholder_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function Placeholder_createSuper(Derived){var hasNativeReflectConstruct=function Placeholder_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=Placeholder_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=Placeholder_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return Placeholder_possibleConstructorReturn(this,result)}}function Placeholder_possibleConstructorReturn(self,call){return!call||"object"!==Placeholder_typeof(call)&&"function"!=typeof call?function Placeholder_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function Placeholder_getPrototypeOf(o){return(Placeholder_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var Placeholder_Placeholder=function(_Mark){!function Placeholder_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&Placeholder_setPrototypeOf(subClass,superClass)}(Placeholder,_Mark);var _super=Placeholder_createSuper(Placeholder);function Placeholder(){return Placeholder_classCallCheck(this,Placeholder),_super.apply(this,arguments)}return function Placeholder_createClass(Constructor,protoProps,staticProps){return protoProps&&Placeholder_defineProperties(Constructor.prototype,protoProps),staticProps&&Placeholder_defineProperties(Constructor,staticProps),Constructor}(Placeholder,[{key:"name",get:function get(){return"placeholder"}},{key:"schema",get:function get(){return{parseDOM:[{tag:"span.template-placeholder"}],toDOM:function toDOM(){return["span",{class:"template-placeholder"}]}}}},{key:"toMarkdown",get:function get(){return{open:"{{",close:"}}",mixable:!0,expelEnclosingWhitespace:!0}}},{key:"parseMarkdown",value:function parseMarkdown(){return{mark:"placeholder"}}},{key:"plugins",get:function get(){var _this=this;return[new index_es.Plugin({props:{handleTextInput:function handleTextInput(view,from,to,text){if(_this.editor.props.template)return!1;var state=view.state,dispatch=view.dispatch,range=getMarkRange(state.doc.resolve(from),state.schema.marks.placeholder);if(!range)return!1;var selectionStart=Math.min(from,range.from),selectionEnd=Math.max(to,range.to);dispatch(state.tr.removeMark(range.from,range.to,state.schema.marks.placeholder).insertText(text,selectionStart,selectionEnd));var $to=view.state.doc.resolve(selectionStart+text.length);return dispatch(view.state.tr.setSelection(index_es.TextSelection.near($to))),!0},handleKeyDown:function handleKeyDown(view,event){if(!view.props.editable||!view.props.editable(view.state))return!1;if(_this.editor.props.template)return!1;if("ArrowLeft"!==event.key&&"ArrowRight"!==event.key&&"Backspace"!==event.key)return!1;var state=view.state,dispatch=view.dispatch;if("Backspace"===event.key){var range=getMarkRange(state.doc.resolve(Math.max(0,state.selection.from-1)),state.schema.marks.placeholder);return!!range&&(dispatch(state.tr.removeMark(range.from,range.to,state.schema.marks.placeholder).insertText("",range.from,range.to)),!0)}if("ArrowLeft"===event.key){var _range=getMarkRange(state.doc.resolve(Math.max(0,state.selection.from-1)),state.schema.marks.placeholder);if(!_range)return!1;var startOfMark=state.doc.resolve(_range.from);return dispatch(state.tr.setSelection(index_es.TextSelection.near(startOfMark))),!0}if("ArrowRight"===event.key){var _range2=getMarkRange(state.selection.$from,state.schema.marks.placeholder);if(!_range2)return!1;var endOfMark=state.doc.resolve(_range2.to);return dispatch(state.tr.setSelection(index_es.TextSelection.near(endOfMark))),!0}return!1},handleClick:function handleClick(view,pos,event){if(!(view.props.editable&&view.props.editable(view.state)||_this.editor.props.readOnlyWriteCheckboxes))return!1;if(_this.editor.props.template)return!1;if(event.target instanceof HTMLSpanElement&&event.target.className.includes("template-placeholder")){var state=view.state,dispatch=view.dispatch,range=getMarkRange(state.selection.$from,state.schema.marks.placeholder);if(!range)return!1;event.stopPropagation(),event.preventDefault();var startOfMark=state.doc.resolve(range.from);return dispatch(state.tr.setSelection(index_es.TextSelection.near(startOfMark))),!0}return!1}}})]}}]),Placeholder}(Mark_Mark);function Underline_typeof(obj){return(Underline_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function Underline_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function Underline_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function Underline_setPrototypeOf(o,p){return(Underline_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function Underline_createSuper(Derived){var hasNativeReflectConstruct=function Underline_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=Underline_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=Underline_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return Underline_possibleConstructorReturn(this,result)}}function Underline_possibleConstructorReturn(self,call){return!call||"object"!==Underline_typeof(call)&&"function"!=typeof call?function Underline_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function Underline_getPrototypeOf(o){return(Underline_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var Underline_Underline=function(_Mark){!function Underline_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&Underline_setPrototypeOf(subClass,superClass)}(Underline,_Mark);var _super=Underline_createSuper(Underline);function Underline(){return Underline_classCallCheck(this,Underline),_super.apply(this,arguments)}return function Underline_createClass(Constructor,protoProps,staticProps){return protoProps&&Underline_defineProperties(Constructor.prototype,protoProps),staticProps&&Underline_defineProperties(Constructor,staticProps),Constructor}(Underline,[{key:"name",get:function get(){return"underline"}},{key:"schema",get:function get(){return{parseDOM:[{tag:"u"},{style:"text-decoration",getAttrs:function getAttrs(value){return"underline"===value}}],toDOM:function toDOM(){return["u",0]}}}},{key:"inputRules",value:function inputRules(_ref){var type=_ref.type;return[markInputRule(/(?:__)([^_]+)(?:__)$/,type)]}},{key:"keys",value:function keys(_ref2){var type=_ref2.type;return{"Mod-u":Object(prosemirror_commands_dist_index_es.i)(type)}}},{key:"toMarkdown",get:function get(){return{open:"__",close:"__",mixable:!0,expelEnclosingWhitespace:!0}}},{key:"parseMarkdown",value:function parseMarkdown(){return{mark:"underline"}}}]),Underline}(Mark_Mark);function BlockMenuTrigger_typeof(obj){return(BlockMenuTrigger_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function BlockMenuTrigger_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function BlockMenuTrigger_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function BlockMenuTrigger_setPrototypeOf(o,p){return(BlockMenuTrigger_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function BlockMenuTrigger_createSuper(Derived){var hasNativeReflectConstruct=function BlockMenuTrigger_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=BlockMenuTrigger_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=BlockMenuTrigger_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return BlockMenuTrigger_possibleConstructorReturn(this,result)}}function BlockMenuTrigger_possibleConstructorReturn(self,call){return!call||"object"!==BlockMenuTrigger_typeof(call)&&"function"!=typeof call?function BlockMenuTrigger_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function BlockMenuTrigger_getPrototypeOf(o){return(BlockMenuTrigger_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var OPEN_REGEX=/^\/(\w+)?$/,CLOSE_REGEX=/(^(?!\/(\w+)?)(.*)$|^\/((\w+)\s.*|\s)$)/;function run(view,from,to,regex,handler){if(view.composing)return!1;var state=view.state,$from=state.doc.resolve(from);if($from.parent.type.spec.code)return!1;var textBefore=$from.parent.textBetween(Math.max(0,$from.parentOffset-500),$from.parentOffset,null,"￼"),match=regex.exec(textBefore);return!!handler(state,match,match?from-match[0].length:from,to)}var BlockMenuTrigger_BlockMenuTrigger=function(_Extension){!function BlockMenuTrigger_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&BlockMenuTrigger_setPrototypeOf(subClass,superClass)}(BlockMenuTrigger,_Extension);var _super=BlockMenuTrigger_createSuper(BlockMenuTrigger);function BlockMenuTrigger(){return BlockMenuTrigger_classCallCheck(this,BlockMenuTrigger),_super.apply(this,arguments)}return function BlockMenuTrigger_createClass(Constructor,protoProps,staticProps){return protoProps&&BlockMenuTrigger_defineProperties(Constructor.prototype,protoProps),staticProps&&BlockMenuTrigger_defineProperties(Constructor,staticProps),Constructor}(BlockMenuTrigger,[{key:"name",get:function get(){return"blockmenu"}},{key:"plugins",get:function get(){var _this=this;return[new index_es.Plugin({props:{handleClick:function handleClick(){return _this.options.onClose(),!1},handleKeyDown:function handleKeyDown(view,event){if("Backspace"===event.key&&setTimeout((function(){var pos=view.state.selection.$from.pos;return run(view,pos,pos,OPEN_REGEX,(function(state,match){return match?_this.options.onOpen(match[1]):_this.options.onClose(),null}))})),"Enter"===event.key||"ArrowUp"===event.key||"ArrowDown"===event.key||"Tab"===event.key){var pos=view.state.selection.$from.pos;return run(view,pos,pos,OPEN_REGEX,(function(state,match){return!!match||null}))}return!1},decorations:function decorations(state){var parent=Object(dist.findParentNode)((function(node){return"paragraph"===node.type.name}))(state.selection);if(parent){var decorations=[],isEmpty=parent&&0===parent.node.content.size,isSlash=parent&&"/"===parent.node.textContent;return 1===state.selection.$from.depth?(isEmpty&&(decorations.push(prosemirror_view_dist_index_es.a.widget(parent.pos,(function(){var icon=document.createElement("button");return icon.type="button",icon.className="block-menu-trigger",icon.innerText="+",icon.addEventListener("click",(function(){_this.options.onOpen("")})),icon}))),decorations.push(prosemirror_view_dist_index_es.a.node(parent.pos,parent.pos+parent.node.nodeSize,{class:"placeholder","data-empty-text":_this.options.newLinePlaceholder||_this.options.dictionary.newLineEmpty}))),isSlash&&decorations.push(prosemirror_view_dist_index_es.a.node(parent.pos,parent.pos+parent.node.nodeSize,{class:"placeholder","data-empty-text":"  ".concat(_this.options.dictionary.newLineWithSlash)})),prosemirror_view_dist_index_es.b.create(state.doc,decorations)):void 0}}}})]}},{key:"inputRules",value:function inputRules(){var _this2=this;return[new prosemirror_inputrules_dist_index_es.a(OPEN_REGEX,(function(state,match){return match&&"paragraph"===state.selection.$from.parent.type.name&&!Object(prosemirror_tables_dist_index_es.isInTable)(state)&&_this2.options.onOpen(match[1]),null})),new prosemirror_inputrules_dist_index_es.a(CLOSE_REGEX,(function(state,match){return match&&_this2.options.onClose(),null}))]}}]),BlockMenuTrigger}(Extension);function SearchTrigger_typeof(obj){return(SearchTrigger_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function SearchTrigger_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function SearchTrigger_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function SearchTrigger_setPrototypeOf(o,p){return(SearchTrigger_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function SearchTrigger_createSuper(Derived){var hasNativeReflectConstruct=function SearchTrigger_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=SearchTrigger_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=SearchTrigger_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return SearchTrigger_possibleConstructorReturn(this,result)}}function SearchTrigger_possibleConstructorReturn(self,call){return!call||"object"!==SearchTrigger_typeof(call)&&"function"!=typeof call?function SearchTrigger_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function SearchTrigger_getPrototypeOf(o){return(SearchTrigger_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var SearchTrigger_OPEN_REGEX=/^(.*)?\[\[$/,SearchTrigger_SearchTrigger=function(_Extension){!function SearchTrigger_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&SearchTrigger_setPrototypeOf(subClass,superClass)}(SearchTrigger,_Extension);var _super=SearchTrigger_createSuper(SearchTrigger);function SearchTrigger(){return SearchTrigger_classCallCheck(this,SearchTrigger),_super.apply(this,arguments)}return function SearchTrigger_createClass(Constructor,protoProps,staticProps){return protoProps&&SearchTrigger_defineProperties(Constructor.prototype,protoProps),staticProps&&SearchTrigger_defineProperties(Constructor,staticProps),Constructor}(SearchTrigger,[{key:"name",get:function get(){return"search"}},{key:"plugins",get:function get(){return[new index_es.Plugin({props:{}})]}},{key:"inputRules",value:function inputRules(){var _this=this;return[new prosemirror_inputrules_dist_index_es.a(SearchTrigger_OPEN_REGEX,(function(state,match){return match&&_this.options.onOpen(match[1]||""),null}))]}}]),SearchTrigger}(Extension),prosemirror_history_dist_index_es=__webpack_require__(183);function History_typeof(obj){return(History_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function History_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function History_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function History_setPrototypeOf(o,p){return(History_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function History_createSuper(Derived){var hasNativeReflectConstruct=function History_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=History_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=History_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return History_possibleConstructorReturn(this,result)}}function History_possibleConstructorReturn(self,call){return!call||"object"!==History_typeof(call)&&"function"!=typeof call?function History_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function History_getPrototypeOf(o){return(History_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var History_History=function(_Extension){!function History_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&History_setPrototypeOf(subClass,superClass)}(History,_Extension);var _super=History_createSuper(History);function History(){return History_classCallCheck(this,History),_super.apply(this,arguments)}return function History_createClass(Constructor,protoProps,staticProps){return protoProps&&History_defineProperties(Constructor.prototype,protoProps),staticProps&&History_defineProperties(Constructor,staticProps),Constructor}(History,[{key:"name",get:function get(){return"history"}},{key:"keys",value:function keys(){return{"Mod-z":prosemirror_history_dist_index_es.c,"Mod-y":prosemirror_history_dist_index_es.b,"Shift-Mod-z":prosemirror_history_dist_index_es.b,Backspace:prosemirror_inputrules_dist_index_es.f}}},{key:"plugins",get:function get(){return[Object(prosemirror_history_dist_index_es.a)()]}}]),History}(Extension);function Keys_typeof(obj){return(Keys_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function Keys_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function Keys_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function Keys_setPrototypeOf(o,p){return(Keys_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function Keys_createSuper(Derived){var hasNativeReflectConstruct=function Keys_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=Keys_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=Keys_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return Keys_possibleConstructorReturn(this,result)}}function Keys_possibleConstructorReturn(self,call){return!call||"object"!==Keys_typeof(call)&&"function"!=typeof call?function Keys_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function Keys_getPrototypeOf(o){return(Keys_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var Keys_Keys=function(_Extension){!function Keys_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&Keys_setPrototypeOf(subClass,superClass)}(Keys,_Extension);var _super=Keys_createSuper(Keys);function Keys(){return Keys_classCallCheck(this,Keys),_super.apply(this,arguments)}return function Keys_createClass(Constructor,protoProps,staticProps){return protoProps&&Keys_defineProperties(Constructor.prototype,protoProps),staticProps&&Keys_defineProperties(Constructor,staticProps),Constructor}(Keys,[{key:"name",get:function get(){return"keys"}},{key:"plugins",get:function get(){var _this=this;return[new index_es.Plugin({props:{handleKeyDown:function handleKeyDown(view,event){if(view.state.selection instanceof index_es.AllSelection){if("ArrowUp"===event.key){var selection=index_es.Selection.atStart(view.state.doc);return view.dispatch(view.state.tr.setSelection(selection)),!0}if("ArrowDown"===event.key){var _selection=index_es.Selection.atEnd(view.state.doc);return view.dispatch(view.state.tr.setSelection(_selection)),!0}}return!!event.metaKey&&("s"===event.key?(event.preventDefault(),_this.options.onSave(),!0):"Enter"===event.key?(event.preventDefault(),_this.options.onSaveAndExit(),!0):"Escape"===event.key&&(event.preventDefault(),_this.options.onCancel(),!0))}}})]}}]),Keys}(Extension);function plugins_Placeholder_typeof(obj){return(plugins_Placeholder_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function plugins_Placeholder_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function plugins_Placeholder_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function plugins_Placeholder_setPrototypeOf(o,p){return(plugins_Placeholder_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function plugins_Placeholder_createSuper(Derived){var hasNativeReflectConstruct=function plugins_Placeholder_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=plugins_Placeholder_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=plugins_Placeholder_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return plugins_Placeholder_possibleConstructorReturn(this,result)}}function plugins_Placeholder_possibleConstructorReturn(self,call){return!call||"object"!==plugins_Placeholder_typeof(call)&&"function"!=typeof call?function plugins_Placeholder_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function plugins_Placeholder_getPrototypeOf(o){return(plugins_Placeholder_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var plugins_Placeholder_Placeholder=function(_Extension){!function plugins_Placeholder_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&plugins_Placeholder_setPrototypeOf(subClass,superClass)}(Placeholder,_Extension);var _super=plugins_Placeholder_createSuper(Placeholder);function Placeholder(){return plugins_Placeholder_classCallCheck(this,Placeholder),_super.apply(this,arguments)}return function plugins_Placeholder_createClass(Constructor,protoProps,staticProps){return protoProps&&plugins_Placeholder_defineProperties(Constructor.prototype,protoProps),staticProps&&plugins_Placeholder_defineProperties(Constructor,staticProps),Constructor}(Placeholder,[{key:"name",get:function get(){return"empty-placeholder"}},{key:"defaultOptions",get:function get(){return{emptyNodeClass:"placeholder",placeholder:""}}},{key:"plugins",get:function get(){var _this=this;return[new index_es.Plugin({props:{decorations:function decorations(state){var doc=state.doc,decorations=[],completelyEmpty=""===doc.textContent&&doc.childCount<=1&&doc.content.size<=2;return doc.descendants((function(node,pos){if(completelyEmpty&&0===pos&&"paragraph"===node.type.name){var decoration=prosemirror_view_dist_index_es.a.node(pos,pos+node.nodeSize,{class:_this.options.emptyNodeClass,"data-empty-text":_this.options.placeholder});decorations.push(decoration)}})),prosemirror_view_dist_index_es.b.create(doc,decorations)}}})]}}]),Placeholder}(Extension);function SmartText_typeof(obj){return(SmartText_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function SmartText_toConsumableArray(arr){return function SmartText_arrayWithoutHoles(arr){if(Array.isArray(arr))return SmartText_arrayLikeToArray(arr)}(arr)||function SmartText_iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||function SmartText_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return SmartText_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SmartText_arrayLikeToArray(o,minLen)}(arr)||function SmartText_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function SmartText_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function SmartText_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function SmartText_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function SmartText_setPrototypeOf(o,p){return(SmartText_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function SmartText_createSuper(Derived){var hasNativeReflectConstruct=function SmartText_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=SmartText_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=SmartText_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return SmartText_possibleConstructorReturn(this,result)}}function SmartText_possibleConstructorReturn(self,call){return!call||"object"!==SmartText_typeof(call)&&"function"!=typeof call?function SmartText_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function SmartText_getPrototypeOf(o){return(SmartText_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var rightArrow=new prosemirror_inputrules_dist_index_es.a(/->$/,"→"),SmartText_SmartText=function(_Extension){!function SmartText_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&SmartText_setPrototypeOf(subClass,superClass)}(SmartText,_Extension);var _super=SmartText_createSuper(SmartText);function SmartText(){return SmartText_classCallCheck(this,SmartText),_super.apply(this,arguments)}return function SmartText_createClass(Constructor,protoProps,staticProps){return protoProps&&SmartText_defineProperties(Constructor.prototype,protoProps),staticProps&&SmartText_defineProperties(Constructor,staticProps),Constructor}(SmartText,[{key:"name",get:function get(){return"smart_text"}},{key:"inputRules",value:function inputRules(){return[rightArrow,prosemirror_inputrules_dist_index_es.b].concat(SmartText_toConsumableArray(prosemirror_inputrules_dist_index_es.d))}}]),SmartText}(Extension);function TrailingNode_typeof(obj){return(TrailingNode_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function TrailingNode_slicedToArray(arr,i){return function TrailingNode_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function TrailingNode_iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function TrailingNode_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return TrailingNode_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TrailingNode_arrayLikeToArray(o,minLen)}(arr,i)||function TrailingNode_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function TrailingNode_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function TrailingNode_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function TrailingNode_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function TrailingNode_setPrototypeOf(o,p){return(TrailingNode_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function TrailingNode_createSuper(Derived){var hasNativeReflectConstruct=function TrailingNode_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=TrailingNode_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=TrailingNode_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return TrailingNode_possibleConstructorReturn(this,result)}}function TrailingNode_possibleConstructorReturn(self,call){return!call||"object"!==TrailingNode_typeof(call)&&"function"!=typeof call?function TrailingNode_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function TrailingNode_getPrototypeOf(o){return(TrailingNode_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var TrailingNode_TrailingNode=function(_Extension){!function TrailingNode_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&TrailingNode_setPrototypeOf(subClass,superClass)}(TrailingNode,_Extension);var _super=TrailingNode_createSuper(TrailingNode);function TrailingNode(){return TrailingNode_classCallCheck(this,TrailingNode),_super.apply(this,arguments)}return function TrailingNode_createClass(Constructor,protoProps,staticProps){return protoProps&&TrailingNode_defineProperties(Constructor.prototype,protoProps),staticProps&&TrailingNode_defineProperties(Constructor,staticProps),Constructor}(TrailingNode,[{key:"name",get:function get(){return"trailing_node"}},{key:"defaultOptions",get:function get(){return{node:"paragraph",notAfter:["paragraph","heading"]}}},{key:"plugins",get:function get(){var _this=this,plugin=new index_es.PluginKey(this.name),disabledNodes=Object.entries(this.editor.schema.nodes).map((function(_ref){return TrailingNode_slicedToArray(_ref,2)[1]})).filter((function(node){return _this.options.notAfter.includes(node.name)}));return[new index_es.Plugin({key:plugin,view:function view(){return{update:function update(view){var state=view.state;if(plugin.getState(state)){var doc=state.doc,schema=state.schema,tr=state.tr,type=schema.nodes[_this.options.node],transaction=tr.insert(doc.content.size,type.create());view.dispatch(transaction)}}}},state:{init:function init(_,state){var lastNode=state.tr.doc.lastChild;return!!lastNode&&!disabledNodes.includes(lastNode.type)},apply:function apply(tr,value){if(!tr.docChanged)return value;var lastNode=tr.doc.lastChild;return!!lastNode&&!disabledNodes.includes(lastNode.type)}}})]}}]),TrailingNode}(Extension);function MarkdownPaste_typeof(obj){return(MarkdownPaste_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function MarkdownPaste_slicedToArray(arr,i){return function MarkdownPaste_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function MarkdownPaste_iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||MarkdownPaste_unsupportedIterableToArray(arr,i)||function MarkdownPaste_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function MarkdownPaste_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return MarkdownPaste_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?MarkdownPaste_arrayLikeToArray(o,minLen):void 0}}function MarkdownPaste_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function MarkdownPaste_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function MarkdownPaste_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function MarkdownPaste_setPrototypeOf(o,p){return(MarkdownPaste_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function MarkdownPaste_createSuper(Derived){var hasNativeReflectConstruct=function MarkdownPaste_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=MarkdownPaste_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=MarkdownPaste_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return MarkdownPaste_possibleConstructorReturn(this,result)}}function MarkdownPaste_possibleConstructorReturn(self,call){return!call||"object"!==MarkdownPaste_typeof(call)&&"function"!=typeof call?function MarkdownPaste_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function MarkdownPaste_getPrototypeOf(o){return(MarkdownPaste_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var MarkdownPaste_LINK_INPUT_REGEX=/^\[(.+)]\((\S+)\)$/,MarkdownPaste_MarkdownPaste=function(_Extension){!function MarkdownPaste_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&MarkdownPaste_setPrototypeOf(subClass,superClass)}(MarkdownPaste,_Extension);var _super=MarkdownPaste_createSuper(MarkdownPaste);function MarkdownPaste(){return MarkdownPaste_classCallCheck(this,MarkdownPaste),_super.apply(this,arguments)}return function MarkdownPaste_createClass(Constructor,protoProps,staticProps){return protoProps&&MarkdownPaste_defineProperties(Constructor.prototype,protoProps),staticProps&&MarkdownPaste_defineProperties(Constructor,staticProps),Constructor}(MarkdownPaste,[{key:"name",get:function get(){return"markdown-paste"}},{key:"plugins",get:function get(){var _this=this;return[new index_es.Plugin({props:{handlePaste:function handlePaste(view,event){if(view.props.editable&&!view.props.editable(view.state))return!1;if(!event.clipboardData)return!1;var text=event.clipboardData.getData("text/plain"),html=event.clipboardData.getData("text/html"),state=view.state,dispatch=view.dispatch;_this.options.onPaste(text);var mdLink=text.match(MarkdownPaste_LINK_INPUT_REGEX);if(console.log("mdLink",mdLink,text),mdLink){var _mdLink=MarkdownPaste_slicedToArray(mdLink,3),txt=_mdLink[1],lnk=_mdLink[2];console.log("md link",txt,lnk);var _transaction=view.state.tr.insertText(txt,state.selection.from,state.selection.to).addMark(state.selection.from,state.selection.to+txt.length,state.schema.marks.link.create({href:lnk}));return view.dispatch(_transaction),!0}if(isUrl(text)){if(!state.selection.empty)return Object(prosemirror_commands_dist_index_es.i)(_this.editor.schema.marks.link,{href:text})(state,dispatch),!0;var embeds=_this.editor.props.embeds;if(embeds){var _step,_iterator=function MarkdownPaste_createForOfIteratorHelper(o,allowArrayLike){var it;if("undefined"==typeof Symbol||null==o[Symbol.iterator]){if(Array.isArray(o)||(it=MarkdownPaste_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e2){throw _e2},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=o[Symbol.iterator]()},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e3){didErr=!0,err=_e3},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}(embeds);try{for(_iterator.s();!(_step=_iterator.n()).done;){var embed=_step.value,matches=embed.matcher(text);if(matches)return _this.editor.commands.embed({href:text,component:embed.component,matches:matches}),!0}}catch(err){_iterator.e(err)}finally{_iterator.f()}}var _transaction2=view.state.tr.insertText(text,state.selection.from,state.selection.to).addMark(state.selection.from,state.selection.to+text.length,state.schema.marks.link.create({href:text}));return view.dispatch(_transaction2),!0}if(0===text.length||html)return!1;if(event.preventDefault(),function isInCode(state){for(var $head=state.selection.$head,d=$head.depth;d>0;d--)if($head.node(d).type===state.schema.nodes.code_block)return!0;return queries_isMarkActive(state.schema.marks.code_inline)(state)}(view.state))return view.dispatch(view.state.tr.insertText(text)),!0;var slice=_this.editor.parser.parse(text).slice(0),transaction=view.state.tr.replaceSelection(slice);return view.dispatch(transaction),!0}}})]}}]),MarkdownPaste}(Extension);var src_templateObject,extensions=new ExtensionManager_ExtensionManager([new Doc,new Text,new HardBreak_HardBreak,new Paragraph_Paragraph,new Blockquote_Blockquote,new BulletList_BulletList,new CodeBlock,new CodeFence_CodeFence,new CheckboxList_CheckboxList,new CheckboxItem_CheckboxItem,new Embed_Embed,new ListItem_ListItem,new Notice_Notice,new Heading_Heading,new HorizontalRule_HorizontalRule,new Image_Image,new Table_Table,new TableCell_TableCell,new TableHeadCell_TableHeadCell,new TableRow,new Bold_Bold,new Code_Code,new Highlight_Highlight,new Italic_Italic,new Link_Link,new Strikethrough_Strikethrough,new Placeholder_Placeholder,new Math_Math,new MathDisplay_MathDisplay,new Underline_Underline,new OrderedList_OrderedList]),server_schema=new prosemirror_model_dist_index_es.Schema({nodes:extensions.nodes,marks:extensions.marks});extensions.parser({schema:server_schema}),extensions.serializer();function src_typeof(obj){return(src_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function src_toConsumableArray(arr){return function src_arrayWithoutHoles(arr){if(Array.isArray(arr))return src_arrayLikeToArray(arr)}(arr)||function src_iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||function src_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return src_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return src_arrayLikeToArray(o,minLen)}(arr)||function src_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function src_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function src_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function src_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function src_setPrototypeOf(o,p){return(src_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function src_createSuper(Derived){var hasNativeReflectConstruct=function src_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=src_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=src_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return src_possibleConstructorReturn(this,result)}}function src_possibleConstructorReturn(self,call){return!call||"object"!==src_typeof(call)&&"function"!=typeof call?function src_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function src_getPrototypeOf(o){return(src_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var src_RichMarkdownEditor=function(_React$PureComponent){!function src_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&src_setPrototypeOf(subClass,superClass)}(RichMarkdownEditor,_React$PureComponent);var _super=src_createSuper(RichMarkdownEditor);function RichMarkdownEditor(){var _this;src_classCallCheck(this,RichMarkdownEditor);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=_super.call.apply(_super,[this].concat(args))).state={blockMenuOpen:!1,linkMenuOpen:!1,searchTriggerOpen:!1,blockMenuSearch:"",focused:!1},_this.extensions=void 0,_this.element=void 0,_this.view=void 0,_this.schema=void 0,_this.serializer=void 0,_this.parser=void 0,_this.plugins=void 0,_this.keymaps=void 0,_this.inputRules=void 0,_this.nodeViews=void 0,_this.nodes=void 0,_this.marks=void 0,_this.commands=void 0,_this.value=function(){return _this.serializer.serialize(_this.view.state.doc)},_this.handleChange=function(){_this.props.onChange&&_this.props.onChange((function(){return _this.value()}))},_this.handleSave=function(){var onSave=_this.props.onSave;onSave&&onSave({done:!1})},_this.handleSaveAndExit=function(){var onSave=_this.props.onSave;onSave&&onSave({done:!0})},_this.handleOpenLinkMenu=function(){_this.setState({linkMenuOpen:!0})},_this.handleCloseLinkMenu=function(){console.log("close"),_this.setState({linkMenuOpen:!1})},_this.handleOpenBlockMenu=function(search){_this.setState({blockMenuOpen:!0,blockMenuSearch:search})},_this.handleCloseBlockMenu=function(){_this.state.blockMenuOpen&&_this.setState({blockMenuOpen:!1})},_this.handleSelectRow=function(index,state){_this.view.dispatch(Object(dist.selectRow)(index)(state.tr))},_this.handleSelectColumn=function(index,state){_this.view.dispatch(Object(dist.selectColumn)(index)(state.tr))},_this.handleSelectTable=function(state){_this.view.dispatch(Object(dist.selectTable)(state.tr))},_this.focusAtStart=function(){var selection=index_es.Selection.atStart(_this.view.state.doc),transaction=_this.view.state.tr.setSelection(selection);_this.view.dispatch(transaction),_this.view.focus()},_this.focusAtEnd=function(){var selection=index_es.Selection.atEnd(_this.view.state.doc),transaction=_this.view.state.tr.setSelection(selection);_this.view.dispatch(transaction),_this.view.focus()},_this.getHeadings=function(){var headings=[],previouslySeen={};return _this.view.state.doc.forEach((function(node){if("heading"===node.type.name){var slug=headingToSlug(node),id=slug;previouslySeen[slug]>0&&(id=headingToSlug(node,previouslySeen[slug])),previouslySeen[slug]=void 0!==previouslySeen[slug]?previouslySeen[slug]+1:1,headings.push({title:node.textContent,level:node.attrs.level,id:id})}})),headings},_this.getSelection=function(){var _this$view,_this$view$state;console.log("selection");var selection=null===(_this$view=_this.view)||void 0===_this$view||null===(_this$view$state=_this$view.state)||void 0===_this$view$state?void 0:_this$view$state.selection,selectionContent=null==selection?void 0:selection.content();return[selectionContent&&getText(selectionContent)||"",_this.value()]},_this.theme=function(){return Object.assign({},_this.props.dark?theme_dark:light,_this.props.theme||{})},_this.dictionary=memoize_default()((function(providedDictionary){return Object.assign({},src_dictionary,providedDictionary)})),_this.render=function(){var _this$props=_this.props,readOnly=_this$props.readOnly,readOnlyWriteCheckboxes=_this$props.readOnlyWriteCheckboxes,style=_this$props.style,tooltip=_this$props.tooltip,className=_this$props.className,onKeyDown=_this$props.onKeyDown,dictionary=_this.dictionary(_this.props.dictionary);return Object(jsx_runtime.jsx)(styled_components_browser_esm.a,{theme:_this.theme(),children:Object(jsx_runtime.jsx)(components_Flex,{onKeyDown:onKeyDown,style:style,className:className,align:"flex-start",justify:"flex-start",column:!0,onFocus:function onFocus(){return _this.setState({focused:!0})},onBlur:function onBlur(event){event.relatedTarget&&!event.currentTarget.contains(event.relatedTarget)&&_this.setState({focused:!1}),(!event.relatedTarget||document.getElementById("block-menu-container")&&!document.getElementById("block-menu-container")&&document.getElementById("block-menu-container").contains(event.relatedTarget)&&!event.relatedTarget.className.includes("block-menu-trigger"))&&_this.handleCloseBlockMenu()},children:Object(jsx_runtime.jsxs)(react.Fragment,{children:[Object(jsx_runtime.jsx)(StyledEditor,{style:{minHeight:_this.props.editorMinHeight?_this.props.editorMinHeight:void 0},readOnly:readOnly,readOnlyWriteCheckboxes:readOnlyWriteCheckboxes,templatePlaceholderAsQuestion:_this.props.templatePlaceholderAsQuestion,enableTemplatePlaceholder:_this.props.enableTemplatePlaceholder,ref:function ref(_ref){return _this.element=_ref}}),!readOnly&&_this.view&&Object(jsx_runtime.jsxs)(react.Fragment,{children:[Object(jsx_runtime.jsx)(SelectionToolbar_SelectionToolbar,{view:_this.view,dictionary:dictionary,commands:_this.commands,isTemplate:!0===_this.props.template,onCreateFlashcard:_this.props.onCreateFlashcard,onMakeAnswer:_this.props.onMakeAnswer,tooltip:tooltip,onClose:_this.handleCloseLinkMenu,LinkFinder:_this.props.LinkFinder,getSelection:_this.getSelection}),Object(jsx_runtime.jsx)(LinkToolbar_LinkToolbar,{view:_this.view,dictionary:dictionary,isActive:_this.state.linkMenuOpen,onShowToast:_this.props.onShowToast,onClose:_this.handleCloseLinkMenu,tooltip:tooltip,LinkFinder:_this.props.LinkFinder,searchTriggerOpen:_this.state.searchTriggerOpen,resetSearchTrigger:function resetSearchTrigger(){return _this.setState({searchTriggerOpen:!1})}}),Object(jsx_runtime.jsx)(components_BlockMenu,{view:_this.view,commands:_this.commands,dictionary:dictionary,isActive:_this.state.blockMenuOpen,search:_this.state.blockMenuSearch,onClose:_this.handleCloseBlockMenu,uploadImage:_this.props.uploadImage,uploadSketch:_this.props.uploadSketch,onLinkToolbarOpen:_this.handleOpenLinkMenu,onImageUploadStart:_this.props.onImageUploadStart,onImageUploadStop:_this.props.onImageUploadStop,onShowToast:_this.props.onShowToast,embeds:_this.props.embeds,excludeBlockMenuItems:_this.props.excludeBlockMenuItems,upgradeCallback:_this.props.upgradeCallback})]})]})})})},_this}return function src_createClass(Constructor,protoProps,staticProps){return protoProps&&src_defineProperties(Constructor.prototype,protoProps),staticProps&&src_defineProperties(Constructor,staticProps),Constructor}(RichMarkdownEditor,[{key:"componentDidMount",value:function componentDidMount(){this.init(),this.props.scrollTo&&this.scrollToAnchor(this.props.scrollTo),this.props.readOnly||this.props.autoFocus&&this.focusAtEnd()}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps){var _this2=this;if(this.props.value&&prevProps.value!==this.props.value){var newState=this.createState(this.props.value);this.view.updateState(newState)}prevProps.readOnly!==this.props.readOnly&&this.view.update(Object.assign({},this.view.props,{editable:function editable(){return!_this2.props.readOnly}})),this.props.scrollTo&&this.props.scrollTo!==prevProps.scrollTo&&this.scrollToAnchor(this.props.scrollTo),prevProps.readOnly&&!this.props.readOnly&&this.props.autoFocus&&this.focusAtEnd()}},{key:"init",value:function init(){this.extensions=this.createExtensions(),this.nodes=this.createNodes(),this.marks=this.createMarks(),this.schema=this.createSchema(),this.plugins=this.createPlugins(),this.keymaps=this.createKeymaps(),this.serializer=this.createSerializer(),this.parser=this.createParser(),this.inputRules=this.createInputRules(),this.nodeViews=this.createNodeViews(),this.view=this.createView(),this.commands=this.createCommands()}},{key:"createExtensions",value:function createExtensions(){var _this3=this,dictionary=this.dictionary(this.props.dictionary),templatePlaceHolderList=this.props.enableTemplatePlaceholder?[new Placeholder_Placeholder]:[];return new ExtensionManager_ExtensionManager([new Doc,new Text,new HardBreak_HardBreak,new Paragraph_Paragraph,new Blockquote_Blockquote,new CodeBlock({dictionary:dictionary,initialReadOnly:this.props.readOnly,onShowToast:this.props.onShowToast}),new CodeFence_CodeFence({dictionary:dictionary,initialReadOnly:this.props.readOnly,onShowToast:this.props.onShowToast}),new CheckboxList_CheckboxList,new CheckboxItem_CheckboxItem,new BulletList_BulletList,new Embed_Embed,new ListItem_ListItem,new Notice_Notice({dictionary:dictionary}),new Heading_Heading({dictionary:dictionary,onShowToast:this.props.onShowToast,offset:this.props.headingsOffset}),new HorizontalRule_HorizontalRule,new Image_Image({dictionary:dictionary,uploadImage:this.props.uploadImage,uploadSketch:this.props.uploadSketch,embeds:this.props.embeds,onImageUploadStart:this.props.onImageUploadStart,onImageUploadStop:this.props.onImageUploadStop,onShowToast:this.props.onShowToast}),new Table_Table,new TableCell_TableCell({onSelectTable:this.handleSelectTable,onSelectRow:this.handleSelectRow}),new TableHeadCell_TableHeadCell({onSelectColumn:this.handleSelectColumn}),new TableRow,new Bold_Bold,new Code_Code,new Highlight_Highlight,new Italic_Italic].concat(templatePlaceHolderList,[new Math_Math,new MathDisplay_MathDisplay,new Underline_Underline,new Link_Link({onKeyboardShortcut:this.handleOpenLinkMenu,onClickLink:this.props.onClickLink,onClickHashtag:this.props.onClickHashtag,onHoverLink:this.props.onHoverLink}),new Strikethrough_Strikethrough,new OrderedList_OrderedList,new History_History,new SmartText_SmartText,new TrailingNode_TrailingNode,new MarkdownPaste_MarkdownPaste({onPaste:function onPaste(){}}),new Keys_Keys({onSave:this.handleSave,onSaveAndExit:this.handleSaveAndExit,onCancel:this.props.onCancel}),new BlockMenuTrigger_BlockMenuTrigger({dictionary:dictionary,onOpen:this.handleOpenBlockMenu,onClose:this.handleCloseBlockMenu,newLinePlaceholder:this.props.newLinePlaceholder}),new SearchTrigger_SearchTrigger({onOpen:function onOpen(){_this3.handleOpenLinkMenu(),_this3.setState({searchTriggerOpen:!0})}}),new plugins_Placeholder_Placeholder({placeholder:this.props.placeholder})],src_toConsumableArray(this.props.extensions)),this)}},{key:"createPlugins",value:function createPlugins(){return this.extensions.plugins}},{key:"createKeymaps",value:function createKeymaps(){return this.extensions.keymaps({schema:this.schema})}},{key:"createInputRules",value:function createInputRules(){return this.extensions.inputRules({schema:this.schema})}},{key:"createNodeViews",value:function createNodeViews(){var _this4=this;return this.extensions.extensions.filter((function(extension){return extension.component})).reduce((function(nodeViews,extension){return Object.assign({},nodeViews,function src_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}({},extension.name,(function nodeView(node,view,getPos,decorations){return new ComponentView_ComponentView(extension.component,{editor:_this4,extension:extension,node:node,view:view,getPos:getPos,decorations:decorations})})))}),{})}},{key:"createCommands",value:function createCommands(){return this.extensions.commands({schema:this.schema,view:this.view})}},{key:"createNodes",value:function createNodes(){return this.extensions.nodes}},{key:"createMarks",value:function createMarks(){return this.extensions.marks}},{key:"createSchema",value:function createSchema(){return new prosemirror_model_dist_index_es.Schema({nodes:this.nodes,marks:this.marks})}},{key:"createSerializer",value:function createSerializer(){return this.extensions.serializer()}},{key:"createParser",value:function createParser(){return this.extensions.parser({schema:this.schema})}},{key:"createState",value:function createState(value){var doc=this.createDocument(value||this.props.defaultValue);return index_es.EditorState.create({schema:this.schema,doc:doc,plugins:[].concat(src_toConsumableArray(this.plugins),src_toConsumableArray(this.keymaps),[Object(dist_index_es.a)({color:this.theme().cursor||"black"}),Object(prosemirror_gapcursor_dist_index_es.a)(),Object(prosemirror_inputrules_dist_index_es.c)({rules:this.inputRules}),Object(prosemirror_keymap_dist_index_es.b)(prosemirror_commands_dist_index_es.a)])})}},{key:"createDocument",value:function createDocument(content){return this.parser.parse(content)}},{key:"createView",value:function createView(){var _this5=this;if(!this.element)throw new Error("createView called before ref available");var isEditingCheckbox=function isEditingCheckbox(tr){return tr.steps.some((function(step){var _step$slice,_step$slice$content,_step$slice$content$f,_step$slice$content$f2;return(null===(_step$slice=step.slice)||void 0===_step$slice||null===(_step$slice$content=_step$slice.content)||void 0===_step$slice$content||null===(_step$slice$content$f=_step$slice$content.firstChild)||void 0===_step$slice$content$f||null===(_step$slice$content$f2=_step$slice$content$f.type)||void 0===_step$slice$content$f2?void 0:_step$slice$content$f2.name)===_this5.schema.nodes.checkbox_item.name}))};return new prosemirror_view_dist_index_es.c(this.element,{state:this.createState(),editable:function editable(){return!_this5.props.readOnly},nodeViews:this.nodeViews,handleDOMEvents:this.props.handleDOMEvents,clipboardTextSerializer:function clipboardTextSerializer(slice){return prosemirror_math_dist_index_es.h.serializeSlice(slice)},dispatchTransaction:function dispatchTransaction(transaction){var _this5$view$state$app=_this5.view.state.applyTransaction(transaction),state=_this5$view$state$app.state,transactions=_this5$view$state$app.transactions;_this5.view.updateState(state),transactions.some((function(tr){return tr.docChanged}))&&(!_this5.props.readOnly||_this5.props.readOnlyWriteCheckboxes&&transactions.some(isEditingCheckbox))&&_this5.handleChange(),_this5.forceUpdate()}})}},{key:"scrollToAnchor",value:function scrollToAnchor(hash){if(hash)try{var element=document.querySelector(hash);element&&element.scrollIntoView({behavior:"smooth"})}catch(err){console.warn("Attempted to scroll to invalid hash: ".concat(hash),err)}}}]),RichMarkdownEditor}(react.PureComponent);src_RichMarkdownEditor.defaultProps={defaultValue:"",placeholders:"Write note…",onImageUploadStart:function onImageUploadStart(){},onImageUploadStop:function onImageUploadStop(){},onClickLink:function onClickLink(href){window.open(href,"_blank")},getPlaceHolderLink:function getPlaceHolderLink(title){return"/cards/".concat(title)},enableTemplatePlaceholder:!0,templatePlaceholderAsQuestion:!1,embeds:[],extensions:[],tooltip:Tooltip_Tooltip,newLinePlaceholder:"",onCreateFlashcard:null,onMakeAnswer:null,excludeBlockMenuItems:["Image occlusion"]};var StyledEditor=Object(styled_components_browser_esm.b)("div")(src_templateObject||(src_templateObject=function src_taggedTemplateLiteral(strings,raw){return raw||(raw=strings.slice(0)),Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}(["\n  background: ",';\n  line-height: 1.7em;\n  width: 100%;\n\n  .ProseMirror {\n    position: relative;\n    outline: none;\n    word-wrap: break-word;\n    white-space: pre-wrap;\n    white-space: break-spaces;\n    -webkit-font-variant-ligatures: none;\n    font-variant-ligatures: none;\n    font-feature-settings: "liga" 0; /* the above doesn\'t seem to work in Edge */\n  }\n\n  pre {\n    white-space: pre-wrap;\n  }\n\n  li {\n    position: relative;\n  }\n\n  img {\n    max-width: 100%;\n  }\n\n  .image {\n    text-align: center;\n    max-width: 100%;\n    clear: both;\n\n    img {\n      display: inline-block;\n      max-width: 100%;\n      max-height: 75vh;\n    }\n  }\n\n  .image.placeholder {\n    position: relative;\n    background: ',";\n\n    img {\n      opacity: 0.5;\n    }\n  }\n\n  .image-center,\n  .image-right,\n  .image-left {\n    margin-bottom: 1em;\n    clear: initial;\n  }\n\n  .image-center,\n  .image-center-small,\n  .image-center-medium,\n  .image-center-large {\n    width: 50%;\n    margin: auto;\n  }\n\n  .image-right,\n  .image-right-small,\n  .image-right-medium,\n  .image-right-large {\n    float: right;\n    margin-left: 2em;\n  }\n\n  .image-left,\n  .image-left-small,\n  .image-left-medium,\n  .image-left-large {\n    float: left;\n    margin-right: 2em;\n  }\n\n  .image-small,\n  .image-center-small,\n  .image-right-small,\n  .image-left-small {\n    width: 200px;\n  }\n  .image-medium,\n  .image-center-medium,\n  .image-right-medium,\n  .image-left-medium {\n    width: 400px;\n  }\n  .image-large,\n  .image-center-large,\n  .image-right-large,\n  .image-left-large {\n    width: 600px;\n  }\n\n  .text-center {\n    display: block;\n    width: 100%;\n    text-align: center;\n  }\n\n  .text-right {\n    display: block;\n    width: 100%;\n    text-align: right;\n  }\n\n  .text-left {\n    display: block;\n    width: 100%;\n    text-align: left;\n  }\n\n  .ProseMirror-hideselection *::selection {\n    background: transparent;\n  }\n  .ProseMirror-hideselection *::-moz-selection {\n    background: transparent;\n  }\n  .ProseMirror-hideselection {\n    caret-color: transparent;\n  }\n\n  .ProseMirror-selectednode {\n    outline: 2px solid\n      ",';\n  }\n\n  /* Make sure li selections wrap around markers */\n\n  li.ProseMirror-selectednode {\n    outline: none;\n  }\n\n  li.ProseMirror-selectednode:after {\n    content: "";\n    position: absolute;\n    left: -32px;\n    right: -2px;\n    top: -2px;\n    bottom: -2px;\n    border: 2px solid ',";\n    pointer-events: none;\n  }\n\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6 {\n    margin: 1em 0 0.5em;\n    font-weight: 500;\n\n    &:not(.placeholder):before {\n      display: ",";\n      position: absolute;\n      font-family: ",";\n      color: ",";\n      font-size: 13px;\n      left: -24px;\n    }\n  }\n\n  a:first-child {\n    h1,\n    h2,\n    h3,\n    h4,\n    h5,\n    h6 {\n      margin-top: 0;\n    }\n  }\n\n  .heading-name {\n    color: ",";\n\n    &:hover {\n      text-decoration: none;\n\n      .heading-anchor {\n        opacity: 1;\n      }\n    }\n  }\n\n  .with-emoji {\n    margin-left: -1em;\n  }\n\n  .heading-anchor {\n    opacity: 0;\n    display: ",";\n    color: ",";\n    cursor: pointer;\n    background: none;\n    border: 0;\n    outline: none;\n    padding: 2px 12px 2px 4px;\n    margin: 0;\n    position: absolute;\n    transition: opacity 100ms ease-in-out;\n    font-family: ",";\n    font-size: 22px;\n    left: -1.3em;\n\n    &:focus,\n    &:hover {\n      color: ",";\n    }\n  }\n\n  .placeholder {\n    &:before {\n      display: block;\n      content: ",";\n      pointer-events: none;\n      height: 0;\n      color: ",";\n    }\n  }\n\n  @media print {\n    .placeholder {\n      display: none;\n    }\n  }\n\n  .notice-block {\n    display: flex;\n    align-items: center;\n    background: ",";\n    color: ",";\n    border-radius: 4px;\n    padding: 8px 16px;\n    margin: 8px 0;\n\n    a {\n      color: ",";\n    }\n\n    a:not(.heading-name) {\n      text-decoration: underline;\n    }\n  }\n\n  .notice-block .icon {\n    width: 24px;\n    height: 24px;\n    align-self: flex-start;\n    margin-right: 4px;\n    position: relative;\n    top: 1px;\n  }\n\n  .notice-block.tip {\n    background: ",";\n    color: ",";\n\n    a {\n      color: ",";\n    }\n  }\n\n  .notice-block.warning {\n    background: ",";\n    color: ",";\n\n    a {\n      color: ",";\n    }\n  }\n\n  blockquote {\n    border-left: 3px solid ",";\n    margin: 5px;\n    padding-left: 10px;\n    font-style: italic;\n  }\n\n  b,\n  strong {\n    font-weight: 600;\n  }\n\n  .template-placeholder {\n    color: ",";\n    border-bottom: 1px dotted\n      ",";\n    background: ",";\n    border-radius: 5px;\n    cursor: text;\n\n    &:hover {\n      color: black;\n      border-bottom: 1px dotted\n        ",";\n    }\n  }\n\n  p {\n    position: relative;\n    margin: 0;\n  }\n\n  a {\n    color: ",';\n    cursor: pointer;\n    text-decoration: none;\n  }\n\n  a[href^="/"] {\n    color: #2c2424;\n    text-decoration: none;\n    user-select: text;\n    cursor: pointer;\n    background: #e2f3ff;\n    border-radius: 4px;\n    padding: 2px;\n    padding-left: 2px;\n  }\n\n  a:hover {\n    text-decoration: underline;\n  }\n\n  a[href^="/"]:hover {\n    background: #b5defc;\n    text-decoration: none;\n  }\n\n  ul,\n  ol {\n    margin: 0 0.1em;\n    padding: 0 0 0 1em;\n\n    ul,\n    ol {\n      margin: 0;\n    }\n  }\n\n  ol ol {\n    list-style: lower-alpha;\n  }\n\n  ol ol ol {\n    list-style: lower-roman;\n  }\n\n  ul.checkbox_list {\n    list-style: none;\n    padding: 0;\n    margin: 0;\n  }\n\n  ul.checkbox_list li {\n    display: flex;\n  }\n\n  ul.checkbox_list li.checked > div > p {\n    color: ',";\n    text-decoration: line-through;\n  }\n\n  ul.checkbox_list li input {\n    pointer-events: ",";\n    opacity: ",";\n    margin: 0 0.5em 0 0;\n    width: 14px;\n    height: 14px;\n  }\n\n  li p:first-child {\n    margin: 0;\n  }\n\n  hr {\n    height: 0;\n    border: 0;\n    border-top: 1px solid ",";\n  }\n\n  code {\n    border-radius: 4px;\n    border: 1px solid ",";\n    padding: 3px 4px;\n    font-family: ",";\n    font-size: 85%;\n  }\n\n  mark {\n    border-radius: 1px;\n    color: ",";\n    background: ",";\n  }\n\n  .code-block,\n  .notice-block {\n    position: relative;\n\n    select,\n    button {\n      background: ",";\n      color: ",";\n      border-width: 1px;\n      font-size: 13px;\n      display: none;\n      position: absolute;\n      border-radius: 4px;\n      padding: 2px;\n      z-index: 1;\n      top: 4px;\n      right: 4px;\n    }\n\n    button {\n      padding: 2px 4px;\n    }\n\n    &:hover {\n      select {\n        display: ",";\n      }\n\n      button {\n        display: ",";\n      }\n    }\n\n    select:focus,\n    select:active {\n      display: inline;\n    }\n  }\n\n  pre {\n    display: block;\n    overflow-x: auto;\n    padding: 0.75em 1em;\n    line-height: 1.4em;\n    position: relative;\n    background: ",";\n    border-radius: 4px;\n    border: 1px solid ",";\n\n    -webkit-font-smoothing: initial;\n    font-family: ",";\n    font-size: 13px;\n    direction: ltr;\n    text-align: left;\n    white-space: pre;\n    word-spacing: normal;\n    word-break: normal;\n    -moz-tab-size: 4;\n    -o-tab-size: 4;\n    tab-size: 4;\n    -webkit-hyphens: none;\n    -moz-hyphens: none;\n    -ms-hyphens: none;\n    hyphens: none;\n    color: ",";\n    margin: 0;\n\n    code {\n      font-size: 13px;\n      background: none;\n      padding: 0;\n      border: 0;\n    }\n  }\n\n  .token.comment,\n  .token.prolog,\n  .token.doctype,\n  .token.cdata {\n    color: ",";\n  }\n\n  .token.punctuation {\n    color: ",";\n  }\n\n  .token.namespace {\n    opacity: 0.7;\n  }\n\n  .token.operator,\n  .token.boolean,\n  .token.number {\n    color: ",";\n  }\n\n  .token.property {\n    color: ",";\n  }\n\n  .token.tag {\n    color: ",";\n  }\n\n  .token.string {\n    color: ",";\n  }\n\n  .token.selector {\n    color: ",";\n  }\n\n  .token.attr-name {\n    color: ",";\n  }\n\n  .token.entity,\n  .token.url,\n  .language-css .token.string,\n  .style .token.string {\n    color: ",";\n  }\n\n  .token.attr-value,\n  .token.keyword,\n  .token.control,\n  .token.directive,\n  .token.unit {\n    color: ",";\n  }\n\n  .token.function {\n    color: ",";\n  }\n\n  .token.statement,\n  .token.regex,\n  .token.atrule {\n    color: ",";\n  }\n\n  .token.placeholder,\n  .token.variable {\n    color: ",";\n  }\n\n  .token.deleted {\n    text-decoration: line-through;\n  }\n\n  .token.inserted {\n    border-bottom: 1px dotted ",";\n    text-decoration: none;\n  }\n\n  .token.italic {\n    font-style: italic;\n  }\n\n  .token.important,\n  .token.bold {\n    font-weight: bold;\n  }\n\n  .token.important {\n    color: ",";\n  }\n\n  .token.entity {\n    cursor: help;\n  }\n\n  table {\n    width: 100%;\n    border-collapse: collapse;\n    border-radius: 4px;\n    margin-top: 1em;\n\n    tr {\n      position: relative;\n      border-bottom: 1px solid ",";\n    }\n\n    th {\n      background: ",";\n    }\n\n    td,\n    th {\n      position: relative;\n      vertical-align: top;\n      border: 1px solid ",";\n      position: relative;\n      padding: 4px 8px;\n      text-align: left;\n      min-width: 100px;\n      font-weight: normal;\n    }\n\n    .selectedCell {\n      background: ",';\n      /* fixes Firefox background color painting over border:\n        * https://bugzilla.mozilla.org/show_bug.cgi?id=688556 */\n      background-clip: padding-box;\n    }\n\n    .grip-column {\n      /* usage of ::after for all of the table grips works around a bug in\n      * prosemirror-tables that causes Safari to hang when selecting a cell\n      * in an empty table:\n      * https://github.com/ProseMirror/prosemirror/issues/947 */\n      &::after {\n        content: "";\n        cursor: pointer;\n        position: absolute;\n        top: -16px;\n        left: 0;\n        width: 100%;\n        height: 12px;\n        background: ',";\n        border-bottom: 3px solid ",";\n        display: ",";\n      }\n\n      &:hover::after {\n        background: ",";\n      }\n      &.first::after {\n        border-top-left-radius: 3px;\n      }\n      &.last::after {\n        border-top-right-radius: 3px;\n      }\n      &.selected::after {\n        background: ",';\n      }\n    }\n\n    .grip-row {\n      &::after {\n        content: "";\n        cursor: pointer;\n        position: absolute;\n        left: -16px;\n        top: 0;\n        height: 100%;\n        width: 12px;\n        background: ',";\n        border-right: 3px solid ",";\n        display: ",";\n      }\n\n      &:hover::after {\n        background: ",";\n      }\n      &.first::after {\n        border-top-left-radius: 3px;\n      }\n      &.last::after {\n        border-bottom-left-radius: 3px;\n      }\n      &.selected::after {\n        background: ",';\n      }\n    }\n\n    .grip-table {\n      &::after {\n        content: "";\n        cursor: pointer;\n        background: ',";\n        width: 13px;\n        height: 13px;\n        border-radius: 13px;\n        border: 2px solid ",";\n        position: absolute;\n        top: -18px;\n        left: -18px;\n        display: ",";\n      }\n\n      &:hover::after {\n        background: ",";\n      }\n      &.selected::after {\n        background: ",";\n      }\n    }\n  }\n\n  .scrollable-wrapper {\n    position: relative;\n    margin: 0.5em 0px;\n    scrollbar-width: thin;\n    scrollbar-color: transparent transparent;\n\n    &:hover {\n      scrollbar-color: ","\n        ",";\n    }\n\n    & ::-webkit-scrollbar {\n      height: 14px;\n      background-color: transparent;\n    }\n\n    &:hover ::-webkit-scrollbar {\n      background-color: ",";\n    }\n\n    & ::-webkit-scrollbar-thumb {\n      background-color: transparent;\n      border: 3px solid transparent;\n      border-radius: 7px;\n    }\n\n    &:hover ::-webkit-scrollbar-thumb {\n      background-color: ",";\n      border-color: ",";\n    }\n  }\n\n  .scrollable {\n    overflow-y: hidden;\n    overflow-x: auto;\n    padding-left: 1em;\n    margin-left: -1em;\n    border-left: 1px solid transparent;\n    border-right: 1px solid transparent;\n    transition: border 250ms ease-in-out 0s;\n  }\n\n  .scrollable-shadow {\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: -1em;\n    width: 16px;\n    transition: box-shadow 250ms ease-in-out;\n    border: 0px solid transparent;\n    border-left-width: 1em;\n    pointer-events: none;\n\n    &.left {\n      box-shadow: 16px 0 16px -16px inset rgba(0, 0, 0, 0.25);\n      border-left: 1em solid ",";\n    }\n\n    &.right {\n      right: 0;\n      left: auto;\n      box-shadow: -16px 0 16px -16px inset rgba(0, 0, 0, 0.25);\n    }\n  }\n\n  .block-menu-trigger {\n    display: ",";\n    height: 26px;\n    color: ",";\n    background: none;\n    border-radius: 10%;\n    font-size: 26px;\n    position: absolute;\n    transition: color 150ms cubic-bezier(0.175, 0.885, 0.32, 1.275),\n      transform 150ms cubic-bezier(0.175, 0.885, 0.32, 1.275);\n    outline: none;\n    border: 0;\n    line-height: 1;\n    left: ",";\n    &:hover,\n    &:focus {\n      cursor: pointer;\n      background: #f3f3f3;\n      color: ",';\n    }\n  }\n\n  @media print {\n    .block-menu-trigger {\n      display: none;\n    }\n  }\n\n  .ProseMirror-gapcursor {\n    display: none;\n    pointer-events: none;\n    position: absolute;\n  }\n\n  .ProseMirror-gapcursor:after {\n    content: "";\n    display: block;\n    position: absolute;\n    top: -2px;\n    width: 20px;\n    border-top: 1px solid ',';\n    animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;\n  }\n\n  @keyframes ProseMirror-cursor-blink {\n    to {\n      visibility: hidden;\n    }\n  }\n\n  .ProseMirror-focused .ProseMirror-gapcursor {\n    display: block;\n  }\n\n  @media print {\n    em,\n    blockquote {\n      font-family: "SF Pro Text", ',";\n    }\n  }\n"])),(function(props){return props.theme.background}),(function(props){return props.theme.background}),(function(props){return props.readOnly?"transparent":props.theme.selected}),(function(props){return props.theme.selected}),(function(props){return props.readOnly?"none":"block"}),(function(props){return props.theme.fontFamilyMono}),(function(props){return props.theme.textSecondary}),(function(props){return props.theme.text}),(function(props){return props.readOnly?"block":"none"}),(function(props){return props.theme.textSecondary}),(function(props){return props.theme.fontFamilyMono}),(function(props){return props.theme.text}),(function(props){return props.readOnly&&!props.readOnlyWriteCheckboxes?"":"attr(data-empty-text)"}),(function(props){return props.theme.placeholder}),(function(props){return props.theme.noticeInfoBackground}),(function(props){return props.theme.noticeInfoText}),(function(props){return props.theme.noticeInfoText}),(function(props){return props.theme.noticeTipBackground}),(function(props){return props.theme.noticeTipText}),(function(props){return props.theme.noticeTipText}),(function(props){return props.theme.noticeWarningBackground}),(function(props){return props.theme.noticeWarningText}),(function(props){return props.theme.noticeWarningText}),(function(props){return props.theme.quote}),(function(props){return props.templatePlaceholderAsQuestion?props.theme.answerPlaceholder:props.theme.templatePlaceholder}),(function(props){return props.templatePlaceholderAsQuestion?props.theme.answerPlaceholder:props.theme.templatePlaceholder}),(function(props){return props.templatePlaceholderAsQuestion?props.theme.answerPlaceholder:"initial"}),(function(props){return props.templatePlaceholderAsQuestion?props.theme.answerPlaceholder:props.theme.textSecondary}),(function(props){return props.theme.linkExternal}),(function(props){return props.theme.textSecondary}),(function(props){return props.readOnly&&!props.readOnlyWriteCheckboxes?"none":"initial"}),(function(props){return props.readOnly&&!props.readOnlyWriteCheckboxes?.75:1}),(function(props){return props.theme.horizontalRule}),(function(props){return props.theme.codeBorder}),(function(props){return props.theme.fontFamilyMono}),(function(props){return props.theme.black}),(function(props){return props.theme.textHighlight}),(function(props){return props.theme.blockToolbarBackground}),(function(props){return props.theme.blockToolbarItem}),(function(props){return props.readOnly?"none":"inline"}),(function(props){return props.readOnly?"inline":"none"}),(function(props){return props.theme.codeBackground}),(function(props){return props.theme.codeBorder}),(function(props){return props.theme.fontFamilyMono}),(function(props){return props.theme.code}),(function(props){return props.theme.codeComment}),(function(props){return props.theme.codePunctuation}),(function(props){return props.theme.codeNumber}),(function(props){return props.theme.codeProperty}),(function(props){return props.theme.codeTag}),(function(props){return props.theme.codeString}),(function(props){return props.theme.codeSelector}),(function(props){return props.theme.codeAttr}),(function(props){return props.theme.codeEntity}),(function(props){return props.theme.codeKeyword}),(function(props){return props.theme.codeFunction}),(function(props){return props.theme.codeStatement}),(function(props){return props.theme.codePlaceholder}),(function(props){return props.theme.codeInserted}),(function(props){return props.theme.codeImportant}),(function(props){return props.theme.tableDivider}),(function(props){return props.theme.tableHeaderBackground}),(function(props){return props.theme.tableDivider}),(function(props){return props.readOnly?"inherit":props.theme.tableSelectedBackground}),(function(props){return props.theme.tableDivider}),(function(props){return props.theme.background}),(function(props){return props.readOnly?"none":"block"}),(function(props){return props.theme.text}),(function(props){return props.theme.tableSelected}),(function(props){return props.theme.tableDivider}),(function(props){return props.theme.background}),(function(props){return props.readOnly?"none":"block"}),(function(props){return props.theme.text}),(function(props){return props.theme.tableSelected}),(function(props){return props.theme.tableDivider}),(function(props){return props.theme.background}),(function(props){return props.readOnly?"none":"block"}),(function(props){return props.theme.text}),(function(props){return props.theme.tableSelected}),(function(props){return props.theme.scrollbarThumb}),(function(props){return props.theme.scrollbarBackground}),(function(props){return props.theme.scrollbarBackground}),(function(props){return props.theme.scrollbarThumb}),(function(props){return props.theme.scrollbarBackground}),(function(props){return props.theme.background}),(function(props){return props.readOnly?"none":"block"}),(function(props){return props.theme.textSecondary}),function iOS(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}()?"-48px":"-24px",(function(props){return props.theme.text}),(function(props){return props.theme.cursor}),(function(props){return props.theme.fontFamily})),src_0=src_RichMarkdownEditor;try{Schema.displayName="Schema",Schema.__docgenInfo={description:"A document schema. Holds [node](#model.NodeType) and [mark\ntype](#model.MarkType) objects for the nodes and marks that may\noccur in conforming documents, and provides functionality for\ncreating and deserializing such documents.",displayName:"Schema",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/index.tsx#Schema"]={docgenInfo:Schema.__docgenInfo,name:"Schema",path:"src/index.tsx#Schema"})}catch(__react_docgen_typescript_loader_error){}try{MarkdownParser.displayName="MarkdownParser",MarkdownParser.__docgenInfo={description:"A configuration of a Markdown parser. Such a parser uses\n[markdown-it](https://github.com/markdown-it/markdown-it) to\ntokenize a file, and then runs the custom rules it is given over\nthe tokens to create a ProseMirror document tree.",displayName:"MarkdownParser",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/index.tsx#MarkdownParser"]={docgenInfo:MarkdownParser.__docgenInfo,name:"MarkdownParser",path:"src/index.tsx#MarkdownParser"})}catch(__react_docgen_typescript_loader_error){}try{src.displayName="src",src.__docgenInfo={description:"",displayName:"src",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/index.tsx#src"]={docgenInfo:src.__docgenInfo,name:"src",path:"src/index.tsx#src"})}catch(__react_docgen_typescript_loader_error){}try{src_RichMarkdownEditor.displayName="RichMarkdownEditor",src_RichMarkdownEditor.__docgenInfo={description:"",displayName:"RichMarkdownEditor",props:{id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"string"}},defaultValue:{defaultValue:{value:""},description:"",name:"defaultValue",required:!1,type:{name:"string"}},placeholder:{defaultValue:null,description:"",name:"placeholder",required:!0,type:{name:"string"}},extensions:{defaultValue:{value:"[]"},description:"",name:"extensions",required:!1,type:{name:"Extension[]"}},autoFocus:{defaultValue:null,description:"",name:"autoFocus",required:!1,type:{name:"boolean"}},readOnly:{defaultValue:null,description:"",name:"readOnly",required:!1,type:{name:"boolean"}},readOnlyWriteCheckboxes:{defaultValue:null,description:"",name:"readOnlyWriteCheckboxes",required:!1,type:{name:"boolean"}},dictionary:{defaultValue:null,description:"",name:"dictionary",required:!1,type:{name:"Partial<{ addColumnAfter: string; addColumnBefore: string; addRowAfter: string; addRowBefore: string; alignCenter: string; alignLeft: string; alignRight: string; bulletList: string; checkboxList: string; ... 53 more ...; largeImage: string; }>"}},dark:{defaultValue:null,description:"",name:"dark",required:!1,type:{name:"boolean"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"{ background: string; text: string; code: string; cursor: string; divider: string; toolbarBackground: string; toolbarHoverBackground: string; toolbarInput: string; toolbarItem: string; tableDivider: string; ... 62 more ...; greyDark: string; }"}},template:{defaultValue:null,description:"",name:"template",required:!1,type:{name:"boolean"}},headingsOffset:{defaultValue:null,description:"",name:"headingsOffset",required:!1,type:{name:"number"}},scrollTo:{defaultValue:null,description:"",name:"scrollTo",required:!1,type:{name:"string"}},handleDOMEvents:{defaultValue:null,description:"",name:"handleDOMEvents",required:!1,type:{name:"{ [name: string]: (view: EditorView<any>, event: Event) => boolean; }"}},uploadImage:{defaultValue:null,description:"",name:"uploadImage",required:!1,type:{name:"((file: File) => Promise<string>)"}},uploadSketch:{defaultValue:null,description:"",name:"uploadSketch",required:!1,type:{name:"((file?: File) => Promise<string>) | undefined"}},onSave:{defaultValue:null,description:"",name:"onSave",required:!1,type:{name:"(({ done: boolean }: { done: any; }) => void)"}},onCancel:{defaultValue:null,description:"",name:"onCancel",required:!1,type:{name:"(() => void)"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: () => string) => void"}},onImageUploadStart:{defaultValue:{value:"() => {\n      // no default behavior\n    }"},description:"",name:"onImageUploadStart",required:!1,type:{name:"(() => void)"}},onImageUploadStop:{defaultValue:{value:"() => {\n      // no default behavior\n    }"},description:"",name:"onImageUploadStop",required:!1,type:{name:"(() => void)"}},LinkFinder:{defaultValue:null,description:"",name:"LinkFinder",required:!1,type:{name:"typeof Component | FC<any>"}},upgradeCallback:{defaultValue:null,description:"",name:"upgradeCallback",required:!1,type:{name:"(() => void)"}},onClickLink:{defaultValue:{value:'(href) => {\n      window.open(href, "_blank");\n    }'},description:"",name:"onClickLink",required:!1,type:{name:"(href: string, event: MouseEvent) => void"}},enableTemplatePlaceholder:{defaultValue:{value:!0},description:"",name:"enableTemplatePlaceholder",required:!1,type:{name:"boolean"}},templatePlaceholderAsQuestion:{defaultValue:{value:!1},description:"",name:"templatePlaceholderAsQuestion",required:!1,type:{name:"boolean"}},getPlaceHolderLink:{defaultValue:{value:"(title) => `/cards/${title}`"},description:"",name:"getPlaceHolderLink",required:!1,type:{name:"(title: string) => string"}},newLinePlaceholder:{defaultValue:{value:""},description:"",name:"newLinePlaceholder",required:!1,type:{name:"string"}},onHoverLink:{defaultValue:null,description:"",name:"onHoverLink",required:!1,type:{name:"((event: MouseEvent) => boolean)"}},onClickHashtag:{defaultValue:null,description:"",name:"onClickHashtag",required:!1,type:{name:"((tag: string, event: MouseEvent) => void)"}},onKeyDown:{defaultValue:null,description:"",name:"onKeyDown",required:!1,type:{name:"((event: KeyboardEvent<HTMLDivElement>) => void)"}},embeds:{defaultValue:{value:"[]"},description:"",name:"embeds",required:!1,type:{name:"EmbedDescriptor[]"}},onShowToast:{defaultValue:null,description:"",name:"onShowToast",required:!1,type:{name:"((message: string, code: ToastType) => void)"}},tooltip:{defaultValue:null,description:"",name:"tooltip",required:!1,type:{name:"typeof Component | FC<any>"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"Record<string, string>"}},editorMinHeight:{defaultValue:null,description:"",name:"editorMinHeight",required:!1,type:{name:"string"}},onCreateFlashcard:{defaultValue:null,description:"",name:"onCreateFlashcard",required:!1,type:{name:"((txt?: string, surroundTxt?: string | undefined) => void) | undefined"}},onMakeAnswer:{defaultValue:null,description:"",name:"onMakeAnswer",required:!1,type:{name:"((txt?: string, surroundTxt?: string | undefined) => void) | undefined"}},excludeBlockMenuItems:{defaultValue:{value:'["Image occlusion"]'},description:"",name:"excludeBlockMenuItems",required:!1,type:{name:"string[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/index.tsx#RichMarkdownEditor"]={docgenInfo:src_RichMarkdownEditor.__docgenInfo,name:"RichMarkdownEditor",path:"src/index.tsx#RichMarkdownEditor"})}catch(__react_docgen_typescript_loader_error){}function stories_typeof(obj){return(stories_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function stories_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function stories_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function stories_setPrototypeOf(o,p){return(stories_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function stories_createSuper(Derived){var hasNativeReflectConstruct=function stories_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=stories_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=stories_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return stories_possibleConstructorReturn(this,result)}}function stories_possibleConstructorReturn(self,call){return!call||"object"!==stories_typeof(call)&&"function"!=typeof call?function stories_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function stories_getPrototypeOf(o){return(stories_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var stories_embeds=[{title:"YouTube",keywords:"youtube video tube google",defaultHidden:!0,icon:function icon(){return Object(jsx_runtime.jsx)("img",{src:"https://upload.wikimedia.org/wikipedia/commons/7/75/YouTube_social_white_squircle_%282017%29.svg",width:24,height:24})},matcher:function matcher(url){return!!url.match(/(?:https?:\/\/)?(?:www\.)?youtu\.?be(?:\.com)?\/?.*(?:watch|embed)?(?:.*v=|v\/|\/)([a-zA-Z0-9_-]{11})$/i)},component:function(_React$Component){!function stories_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&stories_setPrototypeOf(subClass,superClass)}(YoutubeEmbed,_React$Component);var _super=stories_createSuper(YoutubeEmbed);function YoutubeEmbed(){return stories_classCallCheck(this,YoutubeEmbed),_super.apply(this,arguments)}return function stories_createClass(Constructor,protoProps,staticProps){return protoProps&&stories_defineProperties(Constructor.prototype,protoProps),staticProps&&stories_defineProperties(Constructor,staticProps),Constructor}(YoutubeEmbed,[{key:"render",value:function render(){var videoId=this.props.attrs.matches[1];return Object(jsx_runtime.jsx)("iframe",{className:this.props.isSelected?"ProseMirror-selectednode":"",src:"https://www.youtube.com/embed/".concat(videoId,"?modestbranding=1")})}}]),YoutubeEmbed}(react.Component)},{title:"Audio link",keywords:"audio sound mp3 video movie film mp4",icon:function icon(){return Object(jsx_runtime.jsx)("img",{src:"https://upload.wikimedia.org/wikipedia/commons/7/75/YouTube_social_white_squircle_%282017%29.svg",width:24,height:24})},matcher:function matcher(url){return url.match(/(?:https?:\/\/)?.*.(?:wav|mp3|ogg|m4a|&spd=2|mp3)(\?alt.*|)$/i)},component:function component(){return Object(jsx_runtime.jsx)("div",{children:"audio"})}},{title:"Sketch / Image Occlusion",keywords:"sketch image occlusion scratchpad",matcher:function matcher(url){return url.match(/(?:https?:\/\/)?.*.(?:rsc)(\?alt.*|)$/i)},component:function component(){return Object(jsx_runtime.jsx)("div",{children:"sketch"})}},{title:"Document link",keywords:"pdf word ppt presentation doc docx excel file",icon:function icon(){return Object(jsx_runtime.jsx)("img",{src:"https://upload.wikimedia.org/wikipedia/commons/7/75/YouTube_social_white_squircle_%282017%29.svg",width:24,height:24})},matcher:function matcher(url){return url.match(/(?:https?:\/\/)?.*.(?:xlsx|xls|doc|docx|ppt|pptx|txt|pdf)(\?alt.*|)$/i)},component:function component(){return Object(jsx_runtime.jsx)("div",{children:"doc"})}}],onCreateFlashcard=function onCreateFlashcard(txt,surroundingTxt){return console.log("txt",txt,surroundingTxt)},stories_LinkFinder=function LinkFinder(_ref){var callback=_ref.callback;return console.log("linkfinder"),Object(jsx_runtime.jsx)("div",{onClick:function onClick(){return callback({href:"/dominiczijlstra/gfcek2fp7un0nzc079n78n59",title:"hi"})},style:{position:"absolute",top:0,left:0},children:"HELLO"})};function Example(props){var body=document.body;return body&&(body.style.backgroundColor=props.dark?theme_dark.background:light.background),Object(jsx_runtime.jsx)("div",{style:{padding:"1em 2em"},children:Object(jsx_runtime.jsx)(src_0,Object.assign({onCreateFlashcard:onCreateFlashcard,enableTemplatePlaceholder:!0,templatePlaceholderAsQuestion:!0,onMakeAnswer:function onMakeAnswer(txt){return console.log("make answer2",txt)},onChange:function onChange(val){return console.log("change",val())},uploadImage:function uploadImage(file){return console.log("File upload triggered: ",file),new Promise((function(resolve){setTimeout((function(){return resolve("https://picsum.photos/600/600")}),1500)}))},LinkFinder:stories_LinkFinder,excludeBlockMenuItems:[],uploadSketch:function uploadSketch(file){return console.log("Sketch upload triggered: ",file),new Promise((function(resolve){setTimeout((function(){return resolve("https://firebasestorage.googleapis.com/v0/b/alley-d0944.appspot.com/o/dominiczijlstra%2F1654057020.rsc?alt=media&token=6c75583e-8dd8-4a6b-83af-fe96a4861e1e")}),1500)}))},embeds:stories_embeds},props))})}stories_LinkFinder.displayName="LinkFinder",Example.displayName="Example";try{stories.displayName="stories",stories.__docgenInfo={description:"",displayName:"stories",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/stories/index.tsx#stories"]={docgenInfo:stories.__docgenInfo,name:"stories",path:"src/stories/index.tsx#stories"})}catch(__react_docgen_typescript_loader_error){}var debounce=__webpack_require__(551),debounce_default=__webpack_require__.n(debounce),index_stories_Template=(__webpack_exports__.default={title:"Editor",component:Example,argTypes:{onSave:{action:"save"},onCancel:{action:"cancel"},onClickHashtag:{action:"hashtag clicked"},onClickLink:{action:"link clicked"},onHoverLink:{action:"link hovered"},onShowToast:{action:"toast"},onFocus:{action:"focused"},onBlur:{action:"blurred"}}},function Template(args){return Object(jsx_runtime.jsx)(Example,Object.assign({},args))});index_stories_Template.displayName="Template";var Default=index_stories_Template.bind({});Default.args={defaultValue:"\n```javascript\nsdf\n```\n\n$\\frac{x^2}{2}$\n\n$$\nX^5\n$$\n\n\\\n**bold**\n_italic_\n~~strikethrough~~\n__underline__\n==highlighted==\n`inline code`\n{{placeholder}}\n[a link](http://www.getoutline.com)\n\n![](https://storage.googleapis.com/alley-d0944.appspot.com/zvFRdijVf0f8LezITU6D8H0X2Rr1/a63f62c5ed1c4d00a60b4ec9da9a3ec1-aa-1-Q.svg)\n![](https://storage.googleapis.com/alley-d0944.appspot.com/zvFRdijVf0f8LezITU6D8H0X2Rr1/Schaedel-mensch-seitenansicht.jpg)  \n"};var TemplateDoc=index_stories_Template.bind({});TemplateDoc.args={template:!0,defaultValue:'# Template\n\nThis document acts as a "template document", it\'s possible to insert placeholder marks that can be filled in later by others in a non-template document.\n\n\\\n!!This is a template placeholder!!'};var Headings=index_stories_Template.bind({});Headings.args={defaultValue:"# Heading 1\n\n## Heading 2\n\n### Heading 3\n\n#### Heading 4"};var Lists=index_stories_Template.bind({});Lists.args={defaultValue:"# Lists\n\n- An\n- Unordered\n- List\n\n\\\n1. An\n1. Ordered\n1. List"};var Blockquotes=index_stories_Template.bind({});Blockquotes.args={defaultValue:"# Block quotes\n\n> Quotes are another way to callout text within a larger document\n> They are often used to incorrectly attribute words to historical figures"};var Tables=index_stories_Template.bind({});Tables.args={defaultValue:"# Tables\n\nSimple tables with alignment and row/col editing are supported, they can be inserted from the slash menu\n\n| Editor      | Rank | React | Collaborative |\n|-------------|------|-------|--------------:|\n| Prosemirror | A    |   No  |           Yes |\n| Slate       | B    |  Yes  |            No |\n| CKEdit      | C    |   No  |           Yes |\n"};var Marks=index_stories_Template.bind({});Marks.args={defaultValue:"This document shows the variety of marks available, most can be accessed through the formatting menu by selecting text or by typing out the Markdown manually.\n\n\\\n**bold**\n_italic_\n~~strikethrough~~\n__underline__\n==highlighted==\n`inline code`\n{{placeholder}}\n[a link](http://www.getoutline.com)\n"};var index_stories_Code=index_stories_Template.bind({});index_stories_Code.args={defaultValue:'# Code\n\n```html\n<html>\n  <p class="content">Simple code blocks are supported</html>\n</html>\n```\n'};var Notices=index_stories_Template.bind({});Notices.args={defaultValue:"# Notices\n\nThere are three types of editable notice blocks that can be used to callout information:\n\n\\\n:::info\nInformational\n:::\n\n:::tip\nTip\n:::\n\n:::warning\nWarning\n:::\n"};var ReadOnly=index_stories_Template.bind({});ReadOnly.args={readOnly:!0,defaultValue:"# Read Only\n  \nThe content of this editor cannot be edited"};var MaxLength=index_stories_Template.bind({});MaxLength.args={maxLength:100,defaultValue:"This document has a max length of 100 characters. Once reached typing is prevented"};var Checkboxes=index_stories_Template.bind({});Checkboxes.args={defaultValue:"\n- [x] done\n- [ ] todo"};var ReadOnlyWriteCheckboxes=index_stories_Template.bind({});ReadOnlyWriteCheckboxes.args={readOnly:!0,readOnlyWriteCheckboxes:!0,defaultValue:"A read-only editor with the exception that checkboxes remain toggleable, like GitHub\n\n\\\n- [x] done\n- [ ] todo"};var Persisted=index_stories_Template.bind({});Persisted.args={defaultValue:localStorage.getItem("saved")||"# Persisted\n  \nThe contents of this editor are persisted to local storage on change (edit and reload)",onChange:debounce_default()((function(value){var text=value();localStorage.setItem("saved",text)}),250)};var index_stories_Placeholder=index_stories_Template.bind({});index_stories_Placeholder.args={defaultValue:"",placeholder:"This is a custom placeholder…"};var Images=index_stories_Template.bind({});Images.args={defaultValue:"# Images\n![A caption](https://upload.wikimedia.org/wikipedia/commons/0/06/Davide-ragusa-gcDwzUGuUoI-unsplash.jpg)"};var Focused=index_stories_Template.bind({});Focused.args={autoFocus:!0,defaultValue:"# Focused\n  \n  This editor starts in focus"};var Dark=index_stories_Template.bind({});Dark.args={dark:!0,defaultValue:"# Dark\n\nThere's a customizable dark theme too"},Default.parameters=Object.assign({storySource:{source:"args => <Editor {...args} />"}},Default.parameters),TemplateDoc.parameters=Object.assign({storySource:{source:"args => <Editor {...args} />"}},TemplateDoc.parameters),Headings.parameters=Object.assign({storySource:{source:"args => <Editor {...args} />"}},Headings.parameters),Lists.parameters=Object.assign({storySource:{source:"args => <Editor {...args} />"}},Lists.parameters),Blockquotes.parameters=Object.assign({storySource:{source:"args => <Editor {...args} />"}},Blockquotes.parameters),Tables.parameters=Object.assign({storySource:{source:"args => <Editor {...args} />"}},Tables.parameters),Marks.parameters=Object.assign({storySource:{source:"args => <Editor {...args} />"}},Marks.parameters),index_stories_Code.parameters=Object.assign({storySource:{source:"args => <Editor {...args} />"}},index_stories_Code.parameters),Notices.parameters=Object.assign({storySource:{source:"args => <Editor {...args} />"}},Notices.parameters),ReadOnly.parameters=Object.assign({storySource:{source:"args => <Editor {...args} />"}},ReadOnly.parameters),MaxLength.parameters=Object.assign({storySource:{source:"args => <Editor {...args} />"}},MaxLength.parameters),Checkboxes.parameters=Object.assign({storySource:{source:"args => <Editor {...args} />"}},Checkboxes.parameters),ReadOnlyWriteCheckboxes.parameters=Object.assign({storySource:{source:"args => <Editor {...args} />"}},ReadOnlyWriteCheckboxes.parameters),Persisted.parameters=Object.assign({storySource:{source:"args => <Editor {...args} />"}},Persisted.parameters),index_stories_Placeholder.parameters=Object.assign({storySource:{source:"args => <Editor {...args} />"}},index_stories_Placeholder.parameters),Images.parameters=Object.assign({storySource:{source:"args => <Editor {...args} />"}},Images.parameters),Focused.parameters=Object.assign({storySource:{source:"args => <Editor {...args} />"}},Focused.parameters),Dark.parameters=Object.assign({storySource:{source:"args => <Editor {...args} />"}},Dark.parameters)},555:function(module,exports,__webpack_require__){__webpack_require__(556),__webpack_require__(719),__webpack_require__(720),__webpack_require__(872),__webpack_require__(1083),__webpack_require__(1115),__webpack_require__(1120),__webpack_require__(1132),__webpack_require__(1134),__webpack_require__(1139),__webpack_require__(1141),module.exports=__webpack_require__(1145)},629:function(module,exports){},720:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(405)}},[[555,1,2]]]);
//# sourceMappingURL=main.4554072958b22bab1b00.bundle.js.map